{"version":3,"sources":["pages/Trade/OTC_Squeeth/constants.tsx","imgs/aragon/empty-state-illustration-red.png","imgs/icons/rysk.svg","imgs/icons/ribbon.svg","imgs/icons/stake-dao.png","constants/endpoints.ts","constants/enums.ts","constants/storage.ts","constants/orders.ts","constants/partialCollat.ts","components/Warning/index.tsx","components/TokenBalanceEntry/index.tsx","components/NavBar/ConnectButton.tsx","hooks/useENS.tsx","components/NavBar/NetworkButton.tsx","components/NavBar/SettingsButton.tsx","components/NavBar/index.tsx","components/SideBar/SidebarTitle.tsx","components/SideBar/SubButton.tsx","components/SideBar/index.tsx","components/Header/index.tsx","components/CustomIdentityBadge/index.tsx","components/TokenAddress/index.tsx","components/StyledContainer/index.tsx","pages/Protocol/Factory/index.tsx","pages/Protocol/Faucet/mintToken.tsx","pages/Protocol/Faucet/index.tsx","components/BoxButton/index.tsx","pages/Protocol/index.tsx","components/TokenDisplay/index.tsx","imgs/utils.tsx","components/OpynTokenAmount/index.tsx","components/CheckBoxWithLabel/index.tsx","types/index.ts","constants/dataviewContents.tsx","utils/controller.ts","hooks/useController.tsx","components/StyleDiv.tsx","pages/Account/L1Wallet.tsx","pages/Account/index.tsx","pages/Account/AccountVaults/index.tsx","pages/Account/ConnectWallet/index.tsx","components/ActionBadge/index.tsx","pages/Account/VaultDetail/history.tsx","pages/Protocol/Oracle/config.ts","hooks/useAuthorizedOperators.tsx","pages/Account/VaultDetail/index.tsx","pages/Protocol/Oracle/index.tsx","pages/Protocol/OTokenList/index.tsx","pages/Protocol/OTokenList/otoken.tsx","pages/Protocol/Liquidation/index.tsx","pages/Account/Operators/index.tsx","pages/HomePage/index.tsx","pages/Settings/Theme.tsx","pages/Settings/Approval.tsx","pages/Settings/ClearCache.tsx","pages/Settings/Refresh.tsx","pages/Settings/index.tsx","pages/Trade/index.tsx","components/OTokenAutoComplete/index.tsx","pages/Trade/OTC/MakeOrder.tsx","pages/Trade/OTC/index.tsx","pages/Trade/OTC_Squeeth/index.tsx","App.tsx","serviceWorker.ts","index.tsx","hooks/useExpiryPriceData.tsx","utils/notify.ts","hooks/useNotify.tsx","hooks/useAllowance.tsx","hooks/use0xExchange.tsx","hooks/useOTokenBalances.tsx","imgs/ETH.png","imgs/USDC.png","constants/others.ts","hooks/useConnection.tsx","hooks/useGasPrice.tsx","hooks/useOTokens.tsx","hooks/useToken.tsx","hooks/useTokenBalance.tsx","imgs/WAVAX.webp","imgs/oETH.svg","imgs/oBTC.png","components/EditOrderDeadlineModal.tsx","imgs/Ethereum.png","utils/math.ts","components/OTokenIcon/index.tsx","imgs/osqueeth.svg","contexts/wallet.ts","constants/addresses.ts","constants/networks.ts","imgs/Arbitrum.svg","imgs/matic.svg","imgs/icons/factory-black.png","imgs/icons/factory-white.png","imgs/icons/drip-black.png","imgs/icons/drip-white.png","imgs/WBTC.png","imgs/USDT.png","pages/Trade/OTC/MakeOrderDetail.tsx","pages/Trade/OTC/TakeOrder.tsx","pages/Trade/OTC_Squeeth/MakeOrderDetail.tsx","pages/Trade/OTC_Squeeth/TakeOrder.tsx","components/SectionHeader/index.tsx","utils/others.ts","utils/0x-utils.ts","hooks/use0xOrderbook.tsx","hooks/useAllProducts.tsx","hooks/useFactory.tsx","hooks/useTokenPrice.tsx","hooks/useBreakpoint.tsx","utils/liquidation.ts","hooks/useMarginCalculator.tsx","hooks/useLiquidationStatus.tsx","utils/storage.ts","utils/graph.ts","hooks/useAsyncMemo.tsx","hooks/useCustomToast.tsx","components/LabelText/index.tsx","components/Comment/index.tsx"],"names":["squeeth","id","name","symbol","decimals","weth","module","exports","INFURA_KEY","process","networkToProvider","SupportedNetworks","Mainnet","Kovan","Ropsten","Avalanche","Arbitrum","Matic","networkIdToName","subgraph","ZeroXEndpoint","http","ws","OrderType","OptionChainMode","DeadlineUnit","TradeAction","TradeTypes","Errors","Spenders","BreakPoints","FeeTypes","SHOW_SIDE_BAR","MIN_BID","MAX_ASK","EthSpotShock","timeLeftToPT","timeLeft","AUCTION_TIME","WarningText","text","show","theme","useTheme","style","color","warning","fontSize","paddingTop","TokenBalanceEntry","label","amount","display","minWidth","paddingRight","opacity","ConnectButton","useConnectedWallet","connect","disconnect","user","ensName","address","networkId","useState","setENSName","useEffect","providers","JsonRpcProvider","provider","lookupAddress","resolveENS","useENS","connectWeb3","checkAddressAndAddToStorage","padding","undefined","entity","popoverAction","onClick","mode","icon","items","Object","keys","filter","k","isNaN","Number","map","parseInt","title","logo","networkToLogo","NetworkButton","opened","setOpened","useCallback","switchNetwork","window","ethereum","src","height","alt","borderRadius","visible","onClose","justifyContent","paddingBottom","i","isMainnet","key","alignItems","contentSecondary","Settings","history","useHistory","paddingLeft","push","StyledBar","styled","Bar","MyBar","isSideBarOpen","setSideBarOpen","primary","storePreference","String","secondary","SidebarTitle","isSelected","tag","backGroundColor","background","surface","hintColor","focus","backgroundColor","borderLeft","borderColor","width","verticalAlign","indicator","SubButton","shown","SideBar","listen","location","setSelectedTab","locationToTabId","setSelectedSubButton","locationToSubButtomId","defaultSelectedTab","defaultSubTab","selectedTab","subSelected","borderRight","border","xl","lg","xxl","md","position","bottom","external","href","pathname","includes","Header","document","CustomIdentityBadge","connectedAccount","shorten","JSON","parse","getPreference","storedLabels","setAllLabels","open","displayLabel","setDisplayLabel","newLabel","setNewLabel","ZERO_ADDR","customLabelOrUndefined","find","entry","networkType","Label","value","onChange","e","target","wide","marginLeft","newInfos","labels","stringify","concat","div","textStyle","props","TokenBadge","token","nullLabel","Container","CreateOption","factory","useFactory","ReactGA","pageview","toast","useCustomToast","selectedProductIndex","setSelectedProductIndex","BigNumber","strikePriceReadable","setStrikePriceReadable","getNextFriday","expiryTimestamp","setExpiryTimestamp","hasExpiryWarning","setHasWarning","expiryWarning","setExpiryWarning","isDuplicated","setIsDuplicated","targetAddress","setTargetAddress","allProducts","useAllProducts","minus","mod","isGreaterThan","strikePrice","useMemo","fromTokenAmount","selectedUnderlying","eth","underlying","getTokenPriceCoingecko","then","price","defaultPrice","integerValue","times","createOToken","info","strike","collateral","isPut","error","message","computeAddress","idx","expiry","getTargetOtokenAddress","isCreated","StyledContainer","length","children","disabled","placeholder","p","selected","CellQuarter","LabelText","TokenAddress","type","moment","utc","toNumber","format","date","set","hour","unix","Warning","hint","xs","offset","abi","require","MintToken","web3","notifyCallback","useNotify","setAmount","isMinting","setIsMinting","contract","Contract","mintAmount","tokenBalance","useTokenBalance","isGreedy","mint","methods","toString","send","from","on","SectionHeader","toTokenAmount","toFormat","Faucet","mintableTokens","tokens","canMint","BoxButton","description","ProtocolPage","Comment","sm","size","_name","factoryWhite","factoryBlack","dripWhite","dripBlack","EmptyToken","getTokenImg","USDC","USDT","ETH","WBTC","WAVAX","underlyingAsset","oETH","oBTC","OpynTokenAmount","chainId","setOpen","imgUrl","simplifyOTokenSymbol","iconUrl","digits","CheckBoxWithLabel","storageKey","checked","setChecked","ActionType","emptyStateRedSrc","EmptyState","OTOKENS","default","subtitle","illustration","loading","VAULTS","VAULT_HISTORY","OPERATORS","PRICE_SUBMISSION","LIQ_CALL_VAULT_STATE","LIQ_PUT_VAULT_STATE","Web3","createSettleArg","account","to","vaultId","actionType","SettleVault","owner","secondAddress","asset","index","data","createRedeemArg","Redeem","createLiquidateArg","vaultOwner","recipient","roundId","Liquidate","encodeParameter","controllerAbi","payableProxyAbi","erc20Abi","useController","latestVaultId","setLatestVaultId","track","action","event","category","usePayableProxy","setUsePayableProxy","operateValue","setOperateValue","controller","addresses","getNakedCap","call","capAmount","getNakedBalance","getNakedPoolBalance","balance","payableProxy","getPayableProxyAddr","updateVaultId","getAccountVaultCounter","counter","catch","console","log","operate","args","actions","setActions","pushAction","newEntry","liquidate","arg","util","pushAddCollateralArg","finalAsset","proxy","toLowerCase","getWeth","DepositCollateral","pushRemoveCollateralArg","WithdrawCollateral","pushAddLongArg","oToken","DepositLongOption","pushRemoveLongArg","WithdrawLongOption","pushMintArg","MintShortOption","pushBurnArg","BurnShortOption","settleBatch","vaultIds","redeemBatch","amounts","refreshConfig","refreshConfiguration","checkAndIncreaseAllowance","erc20","pool","allowance","lt","approveAmount","MAX_UINT","approve","operateCache","callback","onError","addLongAction","addCollateralAction","actionVaultId","unshift","OpenVault","cleanActionCache","updateOperator","operator","isOperator","setOperator","green","red","L1Balances","expiredOtokenPage","setExpiredOTokenPage","otokenPage","setOTokenPage","showOTM","setShowOTM","useOTokenBalances","balances","isLoadingBalance","isLoading","allOracleAssets","useExpiryPriceData","redeemToken","expiredEntries","nonExpiredEntries","isExpired","expiredOTokensToShow","a","expiryPrice","prices","isITM","hasExpiredToken","tokensToRedeem","isSettlementAllowed","redeemAll","t","b","renderExpiredRow","hasPrice","expiredITM","payout","collatPrice","collateralAsset","strikeAsset","collatPrices","getExpiryPayout","toFixed","getPayoutText","renderNotExpiredRow","end","Date","status","heading","float","fields","emptyState","entries","sort","sortByExpiryThanStrike","renderEntry","entriesPerPage","page","onPageChange","payoutText","gt","Account","useParams","AccountVaults","setIsLoading","vaults","useAsyncMemo","getAccount","result","v1","v2","vaultsToSettle","vault","shortOToken","longOToken","batchSettle","goToEmptyVault","newVaultId","renderRow","collateralAmount","longAmount","shortAmount","Login","setUser","InAddress","setAddress","addrs","setAddrLisrt","modalview","goToAccount","watch_addrs","usedAddresses","reverse","scale","radius","fontFamily","isAddress","ActionBadgeFromId","VaultHistory","getVaultHistory","historyData","allEntry","burnShortActions","depositCollateralActions","depositLongActions","mintShortActions","withdrawCollateralActions","withdrawLongActions","settleActions","timestamp","hash","transactionHash","badge","assetToken","assetDecimals","short","transaction","timeSince","PricerTypes","useAuthorizedOperators","operators","accountData","operatorsRelations","Promise","all","relation","isEOA","isEOAAddress","operatorsWithExtraInfo","hasAuthorizedPayalbeProxy","o","VaultDetail","vaultExpiry","setVaultExpiry","isSendingTx","setIsSendingTx","changeCollateralAmount","setChangeCollateralAmount","changeLongAmount","setChangeLongAmount","changeShortAmount","setChangeShortAmount","pendingCollateralAmount","setPendingCollateralAmount","pendingLongAmount","setPendingLongAmount","pendingShortAmount","setPendingShortAmount","selectedCollateralIndex","setSelectedCollateralIndex","selectedLong","setLongOToken","selectedShort","setShortOToken","fetchCount","setFetchCount","refetch","c","vaultDetail","getVault","allOtokens","useLiveOTokens","isAuthorized","collateralTokens","collateralToken","useTokenByAddress","shortOtoken","longOtoken","collateralBalance","longBalance","balanceObj","shortBalance","collateralIdx","findIndex","allShorts","allLongs","pushAddCollateral","pushRemoveCollateral","pushAddLong","pushRemoveLong","pushMint","pushBurn","expired","settleAllowed","simpleSettle","onInputChange","inputValue","onClickAdd","onClickMinus","dropdownSelected","dropdownOnChange","dropdownItems","pendingAmount","amountToDisplay","pendingBalance","replace","inversePendingAmountString","balanceToDisplay","ethIdx","wethIdx","assetOrDropDown","onClickOperate","pricerMap","USDCPricer","WETH","ChainlinkPricer","cUSDC","CTokenPricer","Oracle","selectedAssetIndex","setSelectedAssetIndex","assetHistory","setAssetHistory","haveValidSelection","pricer","lockingPeriod","disputePeriod","reportedTimestamp","isDisputed","expiryToDate","OtokenList","setPage","searchStr","setSearchStr","onChangeSearch","oTokens","getOTokens","oTokensToShow","renderOTokenRow","otoken","creator","createdAt","adornmentPosition","adornment","Otoken","tokenDetails","getOToken","holders","getHolders","sellers","getMintersForOToken","trades","getOTokenTrades","volume","totalOTokenRawAmt","reduce","prev","curr","plus","oTokenAmount","totalOTokenAmt","multipliedBy","underlyingPrice","useTokenPrice","tokenExpired","payOut","estPayOut","renderTradeRow","trade","paymentTokenAmount","paymentToken","seller","buyer","networkIdToExplorer","totalSupply","Liquidation","putPage","setPutPage","callPage","setCallPage","useLiquidationStatus","isSyncing","isInitializing","spotPrice","putVaults","liquidationPrice","callVaults","totalCollateralPut","totalCollateralCalls","handleLiquidate","renderVaultRow","VaultHealth","liqPrice","isLiquidatable","round","roundIdHex","tableRowHeight","getPrimaryPaymentToken","OperatorSection","recommendedOperators","knownOperators","added","newOperatorAddr","setNewOperatorAddr","addCustomOperator","getOperatorDetail","author","tagColor","tagBackground","tagText","revokeOperator","readOnly","operatorInfo","audited","rysk","ribbon","stakeDao","HomePage","ThemeSwitch","setTheme","isDarkMode","setDarkMode","newMode","ApproveSwitch","useToast","isUnlimited","setLimited","ClearCache","clearCache","localStorage","clear","Refresh","Theme","TradePage","OTokenAutoComplete","selectedOToken","setSelectedOToken","searchTerm","setSearchTerm","indexOf","renderItem","onSelect","MakeOrder","oTokenBalances","paymentTokenBalance","oTokenBalance","MakeOrderDetail","OTC","wethBalance","squeethBalance","initialize","App","wallet","useConnection","defaultTheme","setConfiguration","containerWidths","layout","Provider","NavBar","nogutter","path","Trade","ConnectWallet","Protocol","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","getOracleAssetsAndPricers","assets","notify","Notify","dappId","createNotify","emitter","onclick","useUserAllowance","spender","spenderAddess","MarginPool","ZeroXExchange","zeroxExchange","setAllowance","isLoadingAllowance","setIsLoadingAllowance","approveMode","erc","Error","newAllowance","err","v4orderUtils","use0xExchange","httpEndpoint","useGasPrice","fast","fastest","getGasPriceForOrders","orders","Math","min","now","getProtocolFee","orderInfos","createOrder","makerToken","takerToken","makerAmount","takerAmount","takerAddress","salt","taker","order","LimitOrder","maker","sender","getSignatureWithProviderAsync","currentProvider","SignatureType","EIP712","signature","fillOrders","exchange","signatures","gasPrice","feeInEth","amountsStr","batchFillLimitOrders","utils","toWei","fillOrder","amountStr","fillLimitOrder","broadcastOrder","url","fetch","method","headers","body","res","success","json","jsonRes","validationErrors","reason","cancelOrders","batchCancelLimitOrders","refetchInterval","setBalances","refreshCount","setRefreshCount","setIsLoadig","count","updateBalances","getBalances","interval","setInterval","clearInterval","VaultTypes","WAITINT_PERIOD","onboard","setOnboard","setWeb3","storedNetwork","setNetworkId","setAddressCallback","setWalletCallback","web3Instance","handleNetworkChange","_networkId","config","newOnboard","initOnboard","previouslySelectedWallet","walletSelect","getState","getDefault","walletCheck","walletReset","addressChangeCallback","walletChangeCallback","networkChangeCallback","Onboard","darkMode","subscriptions","network","wallets","walletName","preferred","rpcUrl","rpc","apiKey","appName","checkName","refetchIntervalSec","setFast","setFastest","safeLow","setSafeLow","average","setAverage","isCancelled","update","getGasPrice","response","getLiveOTokens","addr","setBalance","updateBalance","getBalance","balanceOf","Seconds","Minutes","Hours","Days","EditOrderDeadlineModal","setDeadline","setFinalDeadlineUnit","deadlineModalOpened","setDeadlineModalOpened","deadlineInput","setDeadlineInput","modalDeadlineIdx","setModalDeadlineIdx","closeButton","wei","pow","timeStamp","secondsPast","getTime","ts","day","getDate","month","toDateString","year","getFullYear","timestampNum","setUTCDate","getUTCDate","getUTCDay","setMinutes","setSeconds","setMilliseconds","setUTCHours","OTokenIcon","DEFAULT","walletContext","createContext","useContext","calculator","addressBook","whitelist","blacklistOTokens","getETHAggregators","Ethereum","AVAX","isSupportedByMetaMask","networkToTokenConfig","Buy","setAction","inputTokenAmount","setInputTokenAmount","outputTokenAmount","setOutputTokenAmount","setTakerAddress","isApprovingUSDC","setIsApprovingUSDC","isApprovingOToken","setIsApprovingOToken","encodedOrder","setSignedOrder","deadline","finalDeadlineUnit","NO_ERROR","setError","inputToken","outputToken","inputTokenBalance","outputTokenBalance","needApproveInputToken","setNeedApprove","usdcAllowance","approveUSDC","oTokenAllowance","approveOTokenZX","approveUSDCAndFee","rawInputAmount","approveOToken","inputIcon","USDCIcon","outputIcon","handleInputChange","newAmount","handleOuputChange","Sell","isZero","inputBalance","INSUFFICIENT_BALANCE","inputRawAmount","createEncodedOrder","deadlineInSec","getDeadlineInSec","makerAssetAmount","takerAssetAmount","objJsonStr","Buffer","soften","TakerOrder","setEncodedOrder","setOrder","makerAsset","setMakerAsset","takerAsset","setTakerAsset","isApproving","setIsApproving","takerAssetBalance","balanceError","gte","protocolFee","needApprove","handleFillOrder","takable","takerTokenFeeAmount","MakeOrderDetailSimple","isApprovingPaymentToken","setApprovingPaymentToken","isApprovingSqueeth","WETHIcon","SQTHIcon","SectionTitle","ens","ENS","resolver","getCode","allOracleData","pricesForUnderlying","priceData","collateralPrice","denominator","max","sleep","ms","resolve","setTimeout","split","request","params","chainName","nativeCurrency","rpcUrls","blockExplorerUrls","OrderbookUpdateType","getWhitelistedProducts","products","product","optionName","createOtoken","getOtoken","deployedAddress","setPrice","updatePrice","requestAddr","priceStruct","usd","getMostProfitableRoundId","vaultCollateral","vaultShort","roundData","roundsUnderwater","historicalPrice","otokenAmount","endingPrice","auctionElapsedTime","floor","unixTimestamp","roundSpotPrice","startPrice","spot","cashValueInStrike","getCashValue","getCashValueInCollateral","calculateDebtPrice","calculatorAbi","useMarginCalculator","getNakedMarginRequired","shortExpiryTimestamp","collateralDecimals","minCollat","getMarginRequired","oTokenId","collatAddress","collatAmount","collatDecimals","requiredMargin","getLiquidationPrice","collatRatio","_isPut","rawStrikePrice","maxPrice","spotShock","Infinity","setIsInitializing","setIsSyncing","rounds","setRounds","rawVaults","setRawVaults","updateRoundsData","sixHoursBefore","getMainnetChainlinkRounds","refetchVaults","getNonEmptyPartialCollatVaults","fullCollateralAmount","defaultValue","getItem","setItem","errorCallback","query","postQuery","endpoints","otokenTrades","getERC20s","erc20S","whitelistedProducts","accountOwner","otokens","accountBalances","balanceEntry","uniqueMinters","Array","Set","current","getLiveOTokensIsSeries","underlyingAddr","strikeAddr","oracleAssets","endpoint","options","errors","earliestTimestamp","rawRounds","feeds","rawRound","toAggregatorRoundId","number","feedRoundId","rawRoundIdHex","base","substring","init","dependencies","output","setOutput","_callback","isNotCancelled","payload","showToast","msg","flex","overflow","textOverflow","whiteSpace","marginBottom","GU"],"mappings":"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","file":"static/js/main.82f836e4.chunk.js","sourcesContent":["import { Token } from \"../../../types\"\n\nexport const squeeth: Token = {\n  id: '0xf1b99e3e573a1a9c5e6b2ce818b617f0e664e86b',\n  name: 'Opyn Squeeth',\n  symbol: 'oSQTH',\n  decimals: 18\n}\n\nexport const weth: Token = {\n  id: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n  name: 'Wrapped ETH',\n  symbol: 'WETH',\n  decimals: 18\n}","module.exports = __webpack_public_path__ + \"static/media/empty-state-illustration-red.0411e243.png\";","module.exports = __webpack_public_path__ + \"static/media/rysk.f6626f6f.svg\";","module.exports = __webpack_public_path__ + \"static/media/ribbon.5d3c45f3.svg\";","module.exports = __webpack_public_path__ + \"static/media/stake-dao.7e8185bb.png\";","import { SupportedNetworks } from './networks'\n\ntype graphEndPointType = {\n  [key in SupportedNetworks]: string\n}\n\nconst isPublic = process.env.REACT_APP_PUBLIC === 'true'\nconst INFURA_KEY = process.env.REACT_APP_INFURA_KEY\n\nexport const networkToProvider: { [key in SupportedNetworks]: string } = {\n  [SupportedNetworks.Mainnet]: `https://mainnet.infura.io/v3/${INFURA_KEY}`,\n  [SupportedNetworks.Kovan]: `https://kovan.infura.io/v3/${INFURA_KEY}`,\n  [SupportedNetworks.Ropsten]: `https://ropsten.infura.io/v3/${INFURA_KEY}`,\n  [SupportedNetworks.Avalanche]: 'https://api.avax.network/ext/bc/C/rpc',\n  [SupportedNetworks.Arbitrum]: 'https://arb1.arbitrum.io/rpc',\n  [SupportedNetworks.Matic]: 'https://rpc-mainnet.maticvigil.com/',\n}\n\nexport const networkIdToName: { [key in SupportedNetworks]: string } = {\n  [SupportedNetworks.Mainnet]: `Mainnet`,\n  [SupportedNetworks.Kovan]: `Kovan`,\n  [SupportedNetworks.Ropsten]: `Ropsten`,\n  [SupportedNetworks.Avalanche]: 'Avalanche',\n  [SupportedNetworks.Arbitrum]: 'Arbitrum',\n  [SupportedNetworks.Matic]: 'Polygon',\n}\n\nexport const subgraph: graphEndPointType = {\n  [SupportedNetworks.Mainnet]: isPublic\n    ? 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-mainnet'\n    : 'https://api.thegraph.com/subgraphs/name/opynfinance/playground',\n  [SupportedNetworks.Kovan]: isPublic\n    ? 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-kovan'\n    : 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-internal-kovan',\n  [SupportedNetworks.Ropsten]: isPublic\n    ? 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-ropsten'\n    : 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-internal-ropsten',\n  [SupportedNetworks.Avalanche]: 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-avax',\n  [SupportedNetworks.Arbitrum]: 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-arbitrum-one',\n  [SupportedNetworks.Matic]: 'https://api.thegraph.com/subgraphs/name/opynfinance/gamma-matic',\n}\n\nexport const ZeroXEndpoint: { [key in SupportedNetworks]: { http: string; ws: string } } = {\n  [SupportedNetworks.Mainnet]: {\n    http: 'https://api.0x.org/',\n    ws: 'wss://api.0x.org/orderbook/v1',\n  },\n  [SupportedNetworks.Ropsten]: {\n    http: 'https://ropsten.api.0x.org/',\n    ws: 'wss://ropsten.api.0x.org/sra/v4',\n  },\n  [SupportedNetworks.Kovan]: {\n    http: '',\n    ws: 'wss://api.0x.org/orderbook/v1', // prevent useWebsocket error\n  },\n  [SupportedNetworks.Arbitrum]: {\n    http: '',\n    ws: 'wss://api.0x.org/orderbook/v1', // prevent useWebsocket error\n  },\n  [SupportedNetworks.Avalanche]: {\n    http: 'https://avalanche.api.0x.org/',\n    ws: 'wss://api.0x.org/orderbook/v1', // prevent useWebsocket error\n  },\n  [SupportedNetworks.Matic]: {\n    http: '',\n    ws: 'wss://api.0x.org/orderbook/v1', // prevent useWebsocket error\n  },\n}\n","export enum OrderType {\n  NOT_OTOKEN,\n  BID,\n  ASK,\n}\n\nexport enum OptionChainMode {\n  All = 'All',\n  Call = 'Call',\n  Put = 'Put',\n}\n\nexport enum DeadlineUnit {\n  Seconds = 'seconds',\n  Minutes = 'minutes',\n  Hours = 'hours',\n  Days = 'days',\n}\n\nexport enum TradeAction {\n  Buy = 'buy',\n  Sell = 'sell',\n}\n\nexport enum TradeTypes {\n  Market = 'market',\n  Limit = 'limit',\n}\n\nexport enum Errors {\n  NO_ERROR = 'no error',\n  INSUFFICIENT_LIQUIDITY = 'Insufficient Liquidity',\n  INSUFFICIENT_BALANCE = 'Insufficient Balance',\n}\n\nexport enum Spenders {\n  MarginPool,\n  ZeroXExchange,\n}\n\n// use number so we can compare breakpoints. (xs < sm)\nexport enum BreakPoints {\n  xs,\n  sm,\n  md,\n  lg,\n}\n","// storage related keys and enums\n\nexport const ZEROX_PROTOCOL_FEE_KEY = 'zerox_protocol_fee'\n\nexport enum FeeTypes {\n  ETH = 'ETH',\n  WETH = 'WETH',\n}\n\n// trade page order boxes setting\nexport const SHOW_BOTH_KEY = 'orderbook-show-all'\nexport const SHOW_MINE_KEY = 'orderbook-show-mine'\nexport const SHOW_EMPTY = 'orderbook-show-empty'\n\n// whether to show sidebar\nexport const SHOW_SIDE_BAR = 'show-side-bar'\n\n// option mode key\nexport const OC_MODE_KEY = 'option-chain-mode'\n\n// order type: Market or Limit order\nexport const TRADE_TYPE_KEY = 'trade-type'\n// buy or sell\nexport const TRADE_ACTION_KEY = 'last-trade-action'\n","export const MIN_BID = 1\nexport const MAX_ASK = 10000\n","export const EthSpotShock = 0.6\n\nexport const timeLeftToPT = (timeLeft: number) => {\n  if (timeLeft < 604800) return 0.1946\n  if (timeLeft < 1209600) return 0.2738\n  if (timeLeft < 2419200) return 0.3818\n  if (timeLeft < 3628800) return 0.46\n  if (timeLeft < 4838400) return 0.522\n  if (timeLeft < 6048000) return 0.5735\n  if (timeLeft < 7257600) return 0.6171\n  if (timeLeft < 8467200) return 0.6548\n  if (timeLeft < 9676800) return 0.6878\n  if (timeLeft < 10886400) return 0.7168\n  if (timeLeft < 12096000) return 0.7425\n  if (timeLeft < 13305600) return 0.7654\n  if (timeLeft < 14515200) return 0.7859\n  if (timeLeft < 15724800) return 0.8044\n  if (timeLeft < 16934400) return 0.821\n  else return 1\n}\n\nexport const AUCTION_TIME = 5400\n","import React from 'react'\nimport { useTheme } from '@aragon/ui'\n\nfunction WarningText({ text, show = false }: { text: string; show: boolean }) {\n  const theme = useTheme()\n  return show ? <div style={{ color: theme.warning, fontSize: 12, paddingTop: '3px' }}>{text}</div> : <></>\n}\n\nexport default WarningText\n","import React from 'react'\nimport LabelText from '../LabelText'\n\ntype Props = {\n  label: string\n  amount: string\n  symbol: string\n}\nexport default function TokenBalanceEntry({ label, amount, symbol }: Props) {\n  return (\n    <div style={{ display: 'flex', paddingTop: '5px' }}>\n      <LabelText label={label} minWidth={'150px'} />\n      <div style={{ paddingRight: '5px' }}>{amount}</div> <div style={{ opacity: 0.7 }}>{symbol}</div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { Button, IconConnect, Box, IconPower, IdentityBadge } from '@aragon/ui'\n\nimport { checkAddressAndAddToStorage } from '../../utils/storage'\nimport { useConnectedWallet } from '../../contexts/wallet'\nimport { useENS } from '../../hooks/useENS'\n\nfunction ConnectButton() {\n  const { connect, disconnect, user } = useConnectedWallet()\n\n  const { ensName } = useENS(user)\n\n  const connectWeb3 = async () => {\n    const address = await connect()\n    if (!address) return\n    checkAddressAndAddToStorage(address)\n  }\n\n  return user !== '' ? (\n    <>\n      <Box padding={6}>\n        <IdentityBadge\n          label={ensName ? ensName : undefined}\n          entity={user}\n          popoverAction={{\n            label: (\n              <>\n                <IconPower></IconPower> Disconnect{' '}\n              </>\n            ),\n            onClick: disconnect,\n          }}\n        />\n      </Box>\n    </>\n  ) : (\n    <Button mode=\"normal\" icon={<IconConnect />} label=\"Connect\" onClick={connectWeb3} />\n  )\n}\n\nexport default ConnectButton\n","import { providers } from 'ethers'\nimport { useEffect, useState } from 'react'\nimport { networkToProvider } from '../constants'\nimport { useConnectedWallet } from '../contexts/wallet'\n\nexport function useENS(address: string | null | undefined) {\n  const { networkId } = useConnectedWallet()\n\n  const [ensName, setENSName] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function resolveENS() {\n      if (address) {\n        const provider = await new providers.JsonRpcProvider(networkToProvider[networkId])\n        const name = await provider.lookupAddress(address)\n        if (name) setENSName(name)\n      }\n    }\n    resolveENS()\n  }, [address, networkId])\n\n  return { ensName }\n}\n","import React, { useState, useCallback } from 'react'\n\nimport { Button, Modal, useTheme } from '@aragon/ui'\n\nimport { useConnectedWallet } from '../../contexts/wallet'\nimport { isMainnet, networkIdToName, networkToLogo, SupportedNetworks } from '../../constants'\nimport SectionTitle from '../SectionHeader'\nimport { switchNetwork } from '../../utils/others'\n\nconst networkKeys = Object.keys(SupportedNetworks).filter(k => isNaN(Number(SupportedNetworks[k])))\n\nconst items = networkKeys.map(k => {\n  return {\n    id: parseInt(k),\n    title: networkIdToName[k],\n    logo: networkToLogo[k],\n  }\n})\n\nfunction NetworkButton() {\n  const { networkId } = useConnectedWallet()\n\n  const [opened, setOpened] = useState(false)\n\n  const theme = useTheme()\n\n  const onClick = useCallback(networkId => {\n    switchNetwork((window as any).ethereum, networkId)\n  }, [])\n\n  return (\n    <div>\n      <Button\n        label=\"test\"\n        display=\"icon\"\n        icon={<img src={networkToLogo[networkId]} height={30} alt=\"logo\" style={{ borderRadius: 10 }} />}\n        onClick={() => {\n          setOpened(true)\n        }}\n      />\n      <Modal visible={opened} onClose={() => setOpened(false)} padding={30}>\n        <div style={{ display: 'flex', justifyContent: 'center', paddingBottom: '3%' }}>\n          <SectionTitle title=\"Change Network\" />\n        </div>\n\n        {items\n          .filter(i => isMainnet[i.id])\n          .map(i => {\n            return (\n              <div\n                key={i.id}\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                }}\n              >\n                <Button\n                  icon={<img src={i.logo} height={30} alt={i.title} />}\n                  label={i.title}\n                  style={{ minWidth: 300 }}\n                  mode={networkId === i.id ? 'strong' : 'normal'}\n                  onClick={() => onClick(i.id)}\n                />\n              </div>\n            )\n          })}\n\n        <br />\n        {/* testnets */}\n        <div style={{ display: 'flex', justifyContent: 'center', paddingBottom: '3%' }}>\n          <div style={{ color: theme.contentSecondary, fontSize: 17 }}> Testnets </div>\n        </div>\n        {items\n          .filter(i => !isMainnet[i.id])\n          .map(i => {\n            return (\n              <div\n                key={i.id}\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                }}\n              >\n                <Button\n                  label={i.title}\n                  style={{ minWidth: 300 }}\n                  mode={networkId === i.id ? 'strong' : 'normal'}\n                  onClick={() => onClick(i.id)}\n                />\n              </div>\n            )\n          })}\n        <br />\n      </Modal>\n    </div>\n  )\n}\n\nexport default NetworkButton\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { IconSettings, LinkBase } from '@aragon/ui'\n\nfunction Settings() {\n  const history = useHistory()\n\n  return (\n    <LinkBase style={{ paddingLeft: 10, paddingTop: 5 }} onClick={() => history.push('/settings/')}>\n      <IconSettings />\n    </LinkBase>\n  )\n}\n\nexport default Settings\n","import React from 'react'\n\nimport { Bar, LinkBase, IconMenu } from '@aragon/ui'\nimport styled from 'styled-components'\nimport { storePreference } from '../../utils/storage'\nimport { SHOW_SIDE_BAR } from '../../constants'\nimport ConnectButton from './ConnectButton'\nimport NetworkButton from './NetworkButton'\nimport Settings from './SettingsButton'\n\nfunction MyBar({ isSideBarOpen, setSideBarOpen }: { isSideBarOpen: boolean; setSideBarOpen: any }) {\n  return (\n    <StyledBar\n      primary={\n        <LinkBase\n          onClick={() => {\n            setSideBarOpen(!isSideBarOpen)\n            storePreference(SHOW_SIDE_BAR, String(!isSideBarOpen))\n          }}\n        >\n          <IconMenu />\n        </LinkBase>\n      }\n      secondary={\n        <>\n          <NetworkButton />\n          <ConnectButton />\n          <Settings />\n        </>\n      }\n    />\n  )\n}\n\nconst StyledBar = styled(Bar)`\n  margin-bottom: 0;\n`\n\nexport default MyBar\n","import React from 'react'\nimport { useTheme, LinkBase, Tag } from '@aragon/ui'\n\nfunction SidebarTitle({\n  title,\n  icon,\n  onClick,\n  isSelected,\n  tag,\n}: {\n  title: any\n  icon: any\n  isSelected: boolean\n  onClick: any\n  tag?: any\n}) {\n  const theme = useTheme()\n\n  const backGroundColor = isSelected ? theme.background : theme.surface\n  const hintColor = isSelected ? theme.focus : theme.surface\n  return (\n    <div style={{ backgroundColor: backGroundColor }}>\n      <div style={{ paddingLeft: '10%', paddingTop: '5%', borderLeft: '3px solid', borderColor: hintColor }}>\n        <LinkBase onClick={onClick} style={{ width: '100%', paddingBottom: 10 }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ verticalAlign: 'middle', height: '100%' }}>{icon}</div>\n            <div style={{ verticalAlign: 'middle', paddingLeft: 5, color: theme.contentSecondary, fontSize: 18 }}>\n              {title}{' '}\n            </div>\n            {tag && <Tag indicator=\"new\"> {tag} </Tag>}\n          </div>\n        </LinkBase>\n      </div>\n    </div>\n  )\n}\n\nexport default SidebarTitle\n","import React from 'react'\nimport { useTheme, LinkBase } from '@aragon/ui'\n\nfunction SubButton({\n  title,\n  onClick,\n  isSelected,\n  shown,\n}: {\n  title: any\n  isSelected: boolean\n  onClick: any\n  shown: boolean\n}) {\n  const theme = useTheme()\n\n  const backGroundColor = isSelected ? theme.background : theme.surface\n  const hintColor = isSelected ? theme.focus : theme.surface\n  return shown ? (\n    <div style={{ backgroundColor: backGroundColor }}>\n      <div style={{ paddingLeft: '20%', paddingTop: '2%', borderLeft: '3px solid', borderColor: hintColor }}>\n        <LinkBase onClick={onClick} style={{ width: '100%', paddingBottom: 10 }}>\n          <div style={{ display: 'flex' }}>\n            <div style={{ verticalAlign: 'middle', paddingLeft: 5, color: theme.contentSecondary, fontSize: 15 }}>\n              {title}{' '}\n            </div>\n          </div>\n        </LinkBase>\n      </div>\n    </div>\n  ) : (\n    <> </>\n  )\n}\n\nexport default SubButton\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Visible } from 'react-grid-system'\n\nimport { useTheme, IconHome, IconUser, IconConfiguration, LinkBase, IconSwap } from '@aragon/ui'\nimport SidebarTitle from './SidebarTitle'\nimport SubButton from './SubButton'\n\nimport { useConnectedWallet } from '../../contexts/wallet'\n\nconst hash = process.env.REACT_APP_VERSION || '0x00'\n\nexport default function SideBar() {\n  const theme = useTheme()\n  const history = useHistory()\n\n  history.listen(location => {\n    setSelectedTab(locationToTabId(location))\n    setSelectedSubButton(locationToSubButtomId(location))\n  })\n\n  const { user } = useConnectedWallet()\n\n  const defaultSelectedTab = locationToTabId(history.location)\n\n  const defaultSubTab = locationToSubButtomId(history.location)\n\n  const [selectedTab, setSelectedTab] = useState(defaultSelectedTab)\n  const [subSelected, setSelectedSubButton] = useState(defaultSubTab)\n\n  return (\n    <div\n      style={{\n        backgroundColor: theme.surface,\n        height: '100%',\n        width: '100%',\n        borderRight: '1px solid',\n        borderColor: theme.border,\n      }}\n    >\n      <div style={{ paddingTop: '5%' }}>\n        <SidebarTitle\n          title=\"Home\"\n          icon={<IconHome />}\n          onClick={() => {\n            history.push('/')\n            setSelectedTab(1)\n          }}\n          isSelected={selectedTab === 1}\n        />\n        <SidebarTitle\n          title=\"Account\"\n          icon={<IconUser />}\n          onClick={() => {\n            history.push('/account/')\n            setSelectedTab(2)\n          }}\n          isSelected={selectedTab === 2}\n        />\n\n        <SubButton\n          title=\"Operators\"\n          onClick={() => {\n            history.push(`/account/${user}/operators/`)\n          }}\n          isSelected={selectedTab === 2 && subSelected === 'operators'}\n          shown={selectedTab === 2}\n        />\n        <SubButton\n          title=\"Vaults\"\n          onClick={() => {\n            history.push(`/account/${user}/vaults/`)\n          }}\n          isSelected={selectedTab === 2 && subSelected === 'vaults'}\n          shown={selectedTab === 2}\n        />\n\n        <SidebarTitle\n          title=\"Protocol\"\n          icon={<IconConfiguration />}\n          onClick={() => {\n            history.push('/protocol/')\n          }}\n          isSelected={selectedTab === 3}\n        />\n\n        <SubButton\n          title=\"OTokens\"\n          onClick={() => {\n            history.push(`/protocol/otokens/`)\n          }}\n          isSelected={selectedTab === 3 && subSelected === 'otokens'}\n          shown={selectedTab === 3}\n        />\n        <SubButton\n          title=\"Oracle\"\n          onClick={() => {\n            history.push(`/protocol/oracle/`)\n          }}\n          isSelected={selectedTab === 3 && subSelected === 'oracle'}\n          shown={selectedTab === 3}\n        />\n        <SubButton\n          title=\"Liquidation\"\n          onClick={() => {\n            history.push(`/protocol/liquidation/`)\n          }}\n          isSelected={selectedTab === 3 && subSelected === 'liquidation'}\n          shown={selectedTab === 3}\n        />\n        <SubButton\n          title=\"Factory\"\n          onClick={() => {\n            history.push(`/protocol/factory/`)\n          }}\n          isSelected={selectedTab === 3 && subSelected === 'factory'}\n          shown={selectedTab === 3}\n        />\n        <SubButton\n          title=\"Faucet\"\n          onClick={() => {\n            history.push(`/protocol/faucet/`)\n          }}\n          isSelected={selectedTab === 3 && subSelected === 'faucet'}\n          shown={selectedTab === 3}\n        />\n\n        <SidebarTitle\n          title=\"Trade\"\n          icon={<IconSwap />}\n          onClick={() => {\n            history.push('/trade/')\n          }}\n          isSelected={selectedTab === 4}\n        />\n        <SubButton\n          title=\"OTC\"\n          onClick={() => {\n            history.push(`/trade/otc/`)\n          }}\n          isSelected={selectedTab === 4 && subSelected === 'otc'}\n          shown={selectedTab === 4}\n        />\n        <SubButton\n          title=\"Squeeth OTC\"\n          onClick={() => {\n            history.push(`/trade/otc-squeeth/`)\n          }}\n          isSelected={selectedTab === 4 && subSelected === 'otc-squeeth'}\n          shown={selectedTab === 4}\n        />\n      </div>\n      <Visible xl lg xxl md>\n        <div\n          style={{\n            color: theme.contentSecondary,\n            padding: '10px',\n            position: 'fixed',\n            bottom: '0px',\n          }}\n        >\n          Commit Hash{' '}\n          <LinkBase external href={`https://github.com/antoncoding/opyn-v2-portal/commit/${hash}`}>\n            {' '}\n            {hash}{' '}\n          </LinkBase>\n        </div>\n      </Visible>\n    </div>\n  )\n}\n\nfunction locationToTabId(location) {\n  return location.pathname === '/'\n    ? 1\n    : location.pathname.includes('/account/')\n    ? 2\n    : location.pathname.includes('/protocol/')\n    ? 3\n    : location.pathname.includes('/trade/')\n    ? 4\n    : -1\n}\n\nfunction locationToSubButtomId(location) {\n  return location.pathname.includes('/operators/')\n    ? 'operators'\n    : location.pathname.includes('/vaults/')\n    ? 'vaults'\n    : location.pathname.includes('/factory/')\n    ? 'factory'\n    : location.pathname.includes('/faucet/')\n    ? 'faucet'\n    : location.pathname.includes('/liquidation/')\n    ? 'liquidation'\n    : location.pathname.includes('/oracle/')\n    ? 'oracle'\n    : location.pathname.includes('/otokens/')\n    ? 'otokens'\n    : location.pathname.includes('/otc-squeeth/')\n    ? 'otc-squeeth'\n    : location.pathname.includes('/orderbook/')\n    ? 'orderbook'\n    : location.pathname.includes('/otc/')\n    ? 'otc'\n    : ''\n}\n","import React, { useEffect } from 'react'\nimport { Header as AragonHeader } from '@aragon/ui'\n\n// set tab title while using Header\nexport function Header({ primary, secondary, title }: { primary?: any; secondary?: any; title?: string }) {\n  useEffect(() => {\n    if (title) {\n      document.title = title\n    } else if (typeof primary === 'string') {\n      document.title = primary\n    }\n  }, [primary, title])\n\n  return <AragonHeader primary={primary} secondary={secondary} />\n}\n\nexport default Header\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Modal, TextInput, Button, IdentityBadge, Header, textStyle, useTheme, IconLabel } from '@aragon/ui'\nimport { getPreference, storePreference } from '../../utils/storage'\n\nimport { ZERO_ADDR } from '../../constants/addresses'\nimport { useConnectedWallet } from '../../contexts/wallet'\n\ntype CustomIdentityBadgeProps = {\n  shorten?: boolean\n  connectedAccount?: boolean\n  entity?: string\n  label?: string\n}\n\nfunction CustomIdentityBadge({ entity, connectedAccount, label, shorten }: CustomIdentityBadgeProps) {\n  const { networkId } = useConnectedWallet()\n  const theme = useTheme()\n\n  const [storedLabels, setAllLabels] = useState<{ address: string; label: string }[]>(\n    JSON.parse(getPreference('labels', '[]')),\n  )\n  const [open, setOpened] = useState(false)\n\n  const [displayLabel, setDisplayLabel] = useState(label)\n\n  const [newLabel, setNewLabel] = useState<string | undefined>(displayLabel)\n\n  useEffect(() => {\n    if (entity === ZERO_ADDR) {\n      setDisplayLabel(label)\n    } else {\n      const customLabelOrUndefined = storedLabels.find(entry => entry.address === entity)?.label\n      if (customLabelOrUndefined !== undefined) {\n        setDisplayLabel(customLabelOrUndefined)\n        setNewLabel(customLabelOrUndefined)\n      } else {\n        setDisplayLabel(label)\n      }\n    }\n\n    return () => {}\n  }, [storedLabels, entity, label])\n\n  const onClickSave = () => {\n    if (!entity || !newLabel) return\n    const entry = { address: entity, label: newLabel }\n    const newInfos = storedLabels.filter(labels => labels.address !== entity).concat(entry)\n    setAllLabels(newInfos)\n    storePreference('labels', JSON.stringify(newInfos))\n    setOpened(false)\n  }\n\n  const onClickRemove = () => {\n    const newInfos = storedLabels.filter(labels => labels.address !== entity)\n    setAllLabels(newInfos)\n    storePreference('labels', JSON.stringify(newInfos))\n    setOpened(false)\n  }\n\n  return (\n    <>\n      <IdentityBadge\n        networkType={networkId === 1 ? 'main' : networkId === 3 ? 'ropsten' : 'kovan'}\n        entity={entity}\n        connectedAccount={connectedAccount}\n        label={displayLabel}\n        shorten={shorten}\n        popoverAction={{\n          label: (\n            <>\n              <IconLabel></IconLabel> Add custom label{' '}\n            </>\n          ),\n          onClick: () => {\n            setOpened(true)\n          },\n        }}\n      />\n      <Modal\n        visible={open}\n        onClose={() => {\n          setOpened(false)\n        }}\n      >\n        <Header primary={'Add Custom Label'} />\n        This label would be displayed instead of the following address and only be stored on this device.\n        <br />\n        <IdentityBadge entity={entity} />\n        <br />\n        <br />\n        <Label theme={theme}> Custom Label </Label>\n        <TextInput\n          value={newLabel}\n          onChange={e => {\n            setNewLabel(e.target.value)\n          }}\n          wide\n        />\n        <div style={{ display: 'flex', paddingTop: '10px' }}>\n          <div style={{ marginLeft: 'auto' }}>\n            <Button label=\"Remove\" onClick={onClickRemove} />\n            <Button label=\"Save\" onClick={onClickSave} mode=\"strong\" />\n          </div>\n        </div>\n      </Modal>\n    </>\n  )\n}\n\nexport default CustomIdentityBadge\n\nconst Label = styled.div`\n  ${textStyle('label1')}\n  color: ${props => props.theme.contentSecondary};\n  padding-bottom: 10px;\n`\n","import React from 'react'\n\nimport { SubgraphToken, Token } from '../../types'\nimport CustomIdentityBadge from '../CustomIdentityBadge'\nimport { ZERO_ADDR } from '../../constants/addresses'\n\nfunction TokenBadge({\n  token,\n  nullLabel = 'Empty',\n}: {\n  token: null | { symbol: string; address: string } | { symbol: string; id: string }\n  nullLabel?: string\n}) {\n  let address = ZERO_ADDR\n  let label = nullLabel\n  if (token !== null) {\n    address = (token as SubgraphToken).id ? (token as SubgraphToken).id : (token as Token).id\n    label = token.symbol\n  }\n  return <CustomIdentityBadge label={label} entity={address} />\n}\n\nexport default TokenBadge\n","import styled from 'styled-components'\nimport { Container } from 'react-grid-system'\n\nexport default styled(Container)`\n  padding-bottom: 24px;\n`\n","import React, { useState, useEffect, useMemo, useCallback } from 'react'\nimport ReactGA from 'react-ga'\nimport { Row, Col } from 'react-grid-system'\nimport BigNumber from 'bignumber.js'\nimport moment from 'moment'\nimport { TextInput, Button, DropDown, LoadingRing, AddressField, Help, SyncIndicator } from '@aragon/ui'\nimport LabelText from '../../../components/LabelText'\nimport Warning from '../../../components/Warning'\nimport { getNextFriday, fromTokenAmount } from '../../../utils/math'\nimport Header from '../../../components/Header'\nimport SectionTitle from '../../../components/SectionHeader'\nimport TokenAddress from '../../../components/TokenAddress'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { ZERO_ADDR, eth } from '../../../constants'\nimport WarningText from '../../../components/Warning'\nimport { useCustomToast, useAllProducts, useFactory, getTokenPriceCoingecko } from '../../../hooks'\n\nexport default function CreateOption() {\n  const factory = useFactory()\n\n  useEffect(() => {\n    ReactGA.pageview('/protocol/factory/')\n  }, [])\n\n  const toast = useCustomToast()\n  const [selectedProductIndex, setSelectedProductIndex] = useState(-1)\n\n  const [strikePriceReadable, setStrikePriceReadable] = useState<BigNumber>(new BigNumber(500))\n  const [expiryTimestamp, setExpiryTimestamp] = useState<BigNumber>(new BigNumber(getNextFriday()))\n  const [hasExpiryWarning, setHasWarning] = useState<boolean>(false)\n  const [expiryWarning, setExpiryWarning] = useState<string>('')\n\n  const [isDuplicated, setIsDuplicated] = useState(false)\n\n  const [targetAddress, setTargetAddress] = useState(ZERO_ADDR)\n\n  const { allProducts } = useAllProducts()\n\n  // make sure expiry to be UTC 0800\n  useEffect(() => {\n    if (expiryTimestamp.minus(28800).mod(86400).isGreaterThan(0)) {\n      setHasWarning(true)\n      setExpiryWarning('Expiry time need to be 08:00 AM UTC')\n    } else {\n      setHasWarning(false)\n    }\n  }, [expiryTimestamp])\n\n  const strikePrice = useMemo(() => fromTokenAmount(new BigNumber(strikePriceReadable), 8), [strikePriceReadable])\n\n  const selectedUnderlying = useMemo(\n    () => (selectedProductIndex === -1 ? eth : allProducts[selectedProductIndex].underlying),\n    [allProducts, selectedProductIndex],\n  )\n\n  // reset stikeprice when selected underlying changed\n  useEffect(() => {\n    getTokenPriceCoingecko(selectedUnderlying.id).then(price => {\n      const defaultPrice = price.div(100).integerValue().times(100).integerValue()\n      setStrikePriceReadable(defaultPrice)\n    })\n  }, [selectedUnderlying.id])\n\n  const createOToken = useCallback(async () => {\n    if (selectedProductIndex === -1) {\n      toast.info('Please select a product')\n      return\n    }\n    const underlying = allProducts[selectedProductIndex].underlying\n    const strike = allProducts[selectedProductIndex].strike\n    const collateral = allProducts[selectedProductIndex].collateral\n    const isPut = allProducts[selectedProductIndex].isPut\n    try {\n      await factory.createOToken(underlying.id, strike.id, collateral.id, strikePrice, expiryTimestamp, isPut)\n    } catch (error) {\n      toast.error(error.message)\n    }\n  }, [factory, allProducts, selectedProductIndex, expiryTimestamp, strikePrice, toast])\n\n  const computeAddress = useCallback(\n    async (idx, strikePrice, expiry) => {\n      if (idx === -1) {\n        return\n      }\n      const underlying = allProducts[idx].underlying\n      const strike = allProducts[idx].strike\n      const collateral = allProducts[idx].collateral\n      const isPut = allProducts[idx].isPut\n      // check if the option has been created.\n      const targetAddress = await factory.getTargetOtokenAddress(\n        underlying.id,\n        strike.id,\n        collateral.id,\n        strikePrice,\n        expiry,\n        isPut,\n      )\n      setTargetAddress(targetAddress)\n      const isCreated = await factory.isCreated(underlying.id, strike.id, collateral.id, strikePrice, expiry, isPut)\n      setIsDuplicated(isCreated)\n    },\n    [allProducts, factory],\n  )\n\n  // recompute address when input changes\n  useEffect(() => {\n    computeAddress(selectedProductIndex, strikePrice, expiryTimestamp)\n  }, [computeAddress, selectedProductIndex, strikePrice, expiryTimestamp])\n\n  return (\n    <StyledContainer>\n      <SyncIndicator visible={allProducts.length === 0} children={'Syncing data... '} />\n      <Header primary=\"oToken Factory\" />\n      <SectionTitle title=\"Create new oToken\" />\n      <DropDown\n        disabled={allProducts.length === 0}\n        placeholder={allProducts.length === 0 ? <LoadingRing /> : 'Select product'}\n        items={allProducts ? allProducts.map(p => p.label) : []}\n        selected={selectedProductIndex}\n        onChange={setSelectedProductIndex}\n      />\n      <br />\n      <br />\n      <Row style={{ paddingBottom: '3%', alignItems: 'center' }}>\n        <CellQuarter>\n          <LabelText label=\"Underlying\" />\n          <TokenAddress\n            token={allProducts[selectedProductIndex] ? allProducts[selectedProductIndex].underlying : null}\n            nullLabel=\"N/A\"\n          />\n        </CellQuarter>\n\n        <CellQuarter>\n          <LabelText label=\"Strike\" />\n          <TokenAddress\n            token={allProducts[selectedProductIndex] ? allProducts[selectedProductIndex].strike : null}\n            nullLabel=\"N/A\"\n          />\n        </CellQuarter>\n\n        <CellQuarter>\n          <LabelText label=\"Collateral\" />\n          <TokenAddress\n            token={allProducts[selectedProductIndex] ? allProducts[selectedProductIndex].collateral : null}\n            nullLabel=\"N/A\"\n          />\n        </CellQuarter>\n\n        <CellQuarter>\n          <LabelText label=\"Type\" />\n          {allProducts[selectedProductIndex] ? (allProducts[selectedProductIndex].isPut ? 'Put' : 'Call') : 'Put'}{' '}\n          Option\n        </CellQuarter>\n        {/* </div> */}\n      </Row>\n      <SectionTitle title=\"Details\" />\n\n      <Row style={{ alignItems: 'center', paddingBottom: '1%' }}>\n        <CellQuarter>\n          <LabelText label=\"Strike Price\" />\n          <TextInput\n            type=\"number\"\n            value={strikePriceReadable}\n            onChange={e => setStrikePriceReadable(new BigNumber(e.target.value))}\n            wide\n          />\n        </CellQuarter>\n\n        <CellQuarter>\n          <LabelText label=\"Expiry Timestamp\" />\n          <TextInput\n            type=\"date\"\n            value={moment.utc(expiryTimestamp.toNumber() * 1000).format('yyyy-MM-DD')}\n            onChange={e => {\n              const date = moment.utc(e.target.value)\n              date.set({ hour: 8 })\n              setExpiryTimestamp(new BigNumber(date.unix()))\n            }}\n            wide\n          />\n          <Warning text={expiryWarning} show={hasExpiryWarning} />\n        </CellQuarter>\n\n        <CellQuarter>\n          <div style={{ display: 'flex' }}>\n            {' '}\n            <LabelText label=\"Create!\" /> <WarningText text=\"This option has been created\" show={isDuplicated} />{' '}\n          </div>\n          <Button wide disabled={isDuplicated || hasExpiryWarning} onClick={createOToken}>\n            Create\n          </Button>\n        </CellQuarter>\n\n        <CellQuarter>\n          <div style={{ display: 'flex' }}>\n            <LabelText label=\"Output\" />\n            <Help hint={'What is this output address'}>\n              The address the new oToken will be created at. In Opyn V2, we use CREATE2 opcode to create new oToken\n              contracts, so we can predict a contract address before actual deployments.\n            </Help>\n          </div>\n          <AddressField address={targetAddress} />\n        </CellQuarter>\n      </Row>\n    </StyledContainer>\n  )\n}\n\nfunction CellQuarter(props) {\n  return (\n    <Col xs={10} md={3} offset={{ xs: 1, md: 0 }} style={{ paddingBottom: '2%' }}>\n      {props.children}\n    </Col>\n  )\n}\n","import React, { useMemo, useCallback, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { TextInput, Button, useTheme, LoadingRing } from '@aragon/ui'\n\nimport SectionHeader from '../../../components/SectionHeader'\nimport Warning from '../../../components/Warning'\nimport { useConnectedWallet } from '../../../contexts/wallet'\n\nimport { Token } from '../../../types'\nimport { fromTokenAmount, toTokenAmount } from '../../../utils/math'\nimport { useNotify } from '../../../hooks/useNotify'\nimport { useTokenBalance } from '../../../hooks'\n\nconst abi = require('../../../constants/abis/mintableErc20.json')\n\nexport default function MintToken({ token }: { token: Token }) {\n  const { web3, user } = useConnectedWallet()\n  const { notifyCallback } = useNotify()\n  const theme = useTheme()\n\n  const [amount, setAmount] = useState(0)\n  const [isMinting, setIsMinting] = useState(false)\n\n  const contract = useMemo(() => new web3.eth.Contract(abi, token.id), [token.id, web3])\n\n  const mintAmount = useMemo(() => fromTokenAmount(new BigNumber(amount), token.decimals), [amount, token.decimals])\n\n  const tokenBalance = useTokenBalance(token.id, user, 10)\n\n  const isGreedy = useMemo(() => amount > 300000, [amount])\n\n  const mint = useCallback(async () => {\n    setIsMinting(true)\n    try {\n      await contract.methods\n        .mint(user, mintAmount.toString())\n        .send({ from: user })\n        .on('transactionHash', notifyCallback)\n        .on('confirmation', () => setIsMinting(false))\n    } catch (error) {\n      setIsMinting(false)\n    }\n  }, [notifyCallback, contract, mintAmount, user])\n\n  return (\n    <>\n      <SectionHeader title={`Mint Opyn ${token.symbol}`} />\n      <div style={{ fontSize: 14, color: theme.contentSecondary }}>\n        My Balance: {toTokenAmount(tokenBalance, token.decimals).toFormat(4)} {token.symbol}\n      </div>\n      <Warning text=\"You're being greedy!\" show={isGreedy} />\n      <div style={{ display: 'flex' }}>\n        <TextInput type=\"number\" value={amount} onChange={e => setAmount(e.target.value)} />\n        <Button onClick={mint} disabled={isMinting || isGreedy}>\n          {' '}\n          {isMinting ? <LoadingRing /> : 'Mint'}{' '}\n        </Button>\n      </div>\n    </>\n  )\n}\n","import React, { useMemo } from 'react'\n\nimport { Info } from '@aragon/ui'\nimport MintToken from './mintToken'\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { SupportedNetworks } from '../../../constants/networks'\nimport Header from '../../../components/Header'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { tokens } from '../../../constants/addresses'\n\nexport default function Faucet() {\n  const { networkId } = useConnectedWallet()\n\n  const mintableTokens = useMemo(() => tokens[networkId].filter(token => token.canMint), [networkId])\n\n  return (\n    <StyledContainer>\n      <Header primary={'Token Faucet'} />\n\n      {networkId === SupportedNetworks.Mainnet ? (\n        <Info title=\"Info\">\n          {' '}\n          You're currently on mainnet. Switch network in your wallet to testnet to get faucet tokens and start testing!{' '}\n        </Info>\n      ) : (\n        <Info title=\"Note\"> These tokens are for testing purpose only, and are only guaranteed to work with Opyn </Info>\n      )}\n\n      {mintableTokens.map((token, i) => {\n        return <MintToken token={token} key={i} />\n      })}\n    </StyledContainer>\n  )\n}\n","import React from 'react'\n\nimport { Box, LinkBase, Tag } from '@aragon/ui'\n\ntype BoxButtonProps = {\n  title: string\n  description: string\n  icon: any\n  onClick: Function\n  tag?: string\n}\n\nexport function BoxButton({ title, description, icon, onClick, tag }: BoxButtonProps) {\n  return (\n    <LinkBase onClick={onClick} style={{ width: '100%', paddingBottom: 20 }}>\n      <Box>\n        <div style={{ fontSize: 18, paddingTop: 10, paddingBottom: 10 }}>\n          {title}\n          {tag ? <Tag>{tag}</Tag> : <></>}\n        </div>\n        {icon}\n        <div style={{ paddingTop: 10, opacity: 0.5 }}> {description} </div>\n      </Box>\n    </LinkBase>\n  )\n}\n\nexport default BoxButton\n","import React, { useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport { Row, Col } from 'react-grid-system'\nimport { useHistory } from 'react-router-dom'\nimport { BoxButton } from '../../components/BoxButton'\nimport { IconCoin, IconMenu, useTheme, IconConnect } from '@aragon/ui'\nimport Header from '../../components/Header'\nimport Comment from '../../components/Comment'\nimport StyledContainer from '../../components/StyledContainer'\nimport factoryBlack from '../../imgs/icons/factory-black.png'\nimport factoryWhite from '../../imgs/icons/factory-white.png'\nimport dripBlack from '../../imgs/icons/drip-black.png'\nimport dripWhite from '../../imgs/icons/drip-white.png'\n\nfunction ProtocolPage() {\n  const theme = useTheme()\n  const history = useHistory()\n  useEffect(() => ReactGA.pageview('/protocol/'), [])\n  return (\n    <StyledContainer>\n      <Header primary=\"Protocol\" />\n      <Comment padding={0} text=\"Advanced Settings of Opyn v2\" />\n      <br />\n      <br />\n      <Row>\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Oracle\"\n            description=\"Oracle status\"\n            icon={<IconCoin size=\"large\" />}\n            onClick={() => {\n              history.push('/protocol/oracle/')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"OTokens\"\n            description=\"List of oTokens\"\n            icon={<IconMenu size=\"large\" />}\n            onClick={() => {\n              history.push('/protocol/otokens/')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Liquidation\"\n            description=\"Liquidation Status\"\n            icon={<IconConnect size=\"large\" />}\n            onClick={() => {\n              history.push('/protocol/liquidation/')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Factory\"\n            description=\"Create new options\"\n            icon={\n              <img style={{ height: 55 }} src={theme._name === 'dark' ? factoryWhite : factoryBlack} alt=\"factory\" />\n            }\n            onClick={() => {\n              history.push('/protocol/factory/')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Faucet\"\n            description=\"Mint testnet tokens\"\n            icon={<img style={{ height: 55 }} src={theme._name === 'dark' ? dripWhite : dripBlack} alt=\"faucet\" />}\n            onClick={() => {\n              history.push('/protocol/faucet/')\n            }}\n          />\n        </Col>\n      </Row>\n    </StyledContainer>\n  )\n}\n\nexport default ProtocolPage\n","import React from 'react'\n\nimport { useTheme } from '@aragon/ui'\n\nexport function EmptyToken() {\n  const theme = useTheme()\n\n  return <div style={{ color: theme.contentSecondary }}>Empty</div>\n}\n","import { SubgraphOToken } from '../types'\n\nimport ETH from './ETH.png'\nimport WBTC from './WBTC.png'\nimport oETH from './oETH.svg'\nimport oBTC from './oBTC.png'\nimport USDC from './USDC.png'\nimport USDT from './USDT.png'\nimport WAVAX from './WAVAX.webp'\n\nexport function getTokenImg(token: { id: string; symbol: string } | null) {\n  return token === null\n    ? null\n    : token.symbol === 'USDC' || token.symbol === 'USDC.e' // USDC on avax is USDC.e\n    ? USDC\n    : token.symbol === 'USDT'\n    ? USDT\n    : token.symbol === 'WETH'\n    ? ETH\n    : token.symbol === 'WBTC'\n    ? WBTC\n    : token.symbol === 'WAVAX'\n    ? WAVAX\n    : (token as SubgraphOToken).underlyingAsset\n    ? (token as SubgraphOToken).underlyingAsset.symbol === 'WETH'\n      ? oETH\n      : (token as SubgraphOToken).underlyingAsset.symbol === 'WBTC'\n      ? oBTC\n      : null\n    : null\n}\n","import React, { useState, useMemo } from 'react'\n\nimport { SubgraphToken, SubgraphOToken } from '../../types'\nimport { EmptyToken } from '../TokenDisplay'\n\nimport { TokenAmount, LinkBase, Modal, AddressField } from '@aragon/ui'\n\nimport { simplifyOTokenSymbol } from '../../utils/others'\nimport { getTokenImg } from '../../imgs/utils'\n\ntype TokenAmountProps = {\n  token: SubgraphOToken | SubgraphToken | null\n  amount: string\n  chainId: number\n}\n\nexport default function OpynTokenAmount({ token, amount, chainId }: TokenAmountProps) {\n  const [open, setOpen] = useState(false)\n\n  const imgUrl = useMemo(() => {\n    return getTokenImg(token)\n  }, [token])\n\n  const symbol =\n    token === null\n      ? ''\n      : (token as SubgraphOToken).strikePrice !== undefined\n      ? simplifyOTokenSymbol(token?.symbol)\n      : token?.symbol\n\n  return token ? (\n    <>\n      <LinkBase onClick={() => setOpen(true)}>\n        <TokenAmount\n          address={token.id}\n          amount={amount}\n          chainId={chainId}\n          symbol={symbol}\n          decimals={token.decimals}\n          iconUrl={imgUrl}\n          digits={8}\n        />\n      </LinkBase>\n      <Modal visible={open} onClose={() => setOpen(false)}>\n        <AddressField address={token.id} />\n      </Modal>\n    </>\n  ) : (\n    <EmptyToken />\n  )\n}\n","import React from 'react'\nimport { Checkbox } from '@aragon/ui'\nimport { storePreference } from '../../utils/storage'\n\ntype CheckBoxProps = {\n  label: string\n  checked: boolean\n  setChecked: any\n  storageKey?: string\n}\n\nexport default function CheckBoxWithLabel({ storageKey, checked, setChecked, label }: CheckBoxProps) {\n  return (\n    <div style={{ display: 'flex', fontSize: 12, opacity: 0.7 }}>\n      <div style={{ paddingTop: '5px' }}>\n        <Checkbox\n          checked={checked}\n          onChange={(checked: boolean) => {\n            setChecked(checked)\n            if (storageKey) storePreference(storageKey, String(checked))\n          }}\n        />\n      </div>\n      <div style={{ padding: '8px' }}>{label}</div>\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\n\nexport * from './zeroX'\n\nexport type Token = {\n  id: string\n  name: string\n  symbol: string\n  decimals: number\n  canMint?: boolean // if we can provide faucet\n}\n\nexport type Product = {\n  collateral: Token\n  stike: Token\n  underlying: Token\n  isPut: Token\n}\n\nexport enum ActionType {\n  OpenVault,\n  MintShortOption,\n  BurnShortOption,\n  DepositLongOption,\n  WithdrawLongOption,\n  DepositCollateral,\n  WithdrawCollateral,\n  SettleVault,\n  Redeem,\n  Call,\n  Liquidate,\n  InvalidAction,\n}\n\nexport type actionArg = {\n  actionType: ActionType\n  owner: string\n  secondAddress: string\n  asset: string\n  vaultId: string\n  amount: string\n  index: string\n  data: string\n}\n\nexport type SubgraphVault = {\n  vaultId: string\n  collateralAmount: string | null\n  collateralAsset: SubgraphToken | null\n  longAmount: string | null\n  longOToken: SubgraphOToken | null\n  shortAmount: string | null\n  shortOToken: SubgraphOToken | null\n  owner: { id: string }\n}\n\nexport type SubgraphVaultAction = {\n  id: string\n  transactionHash: string\n  timestamp: string\n  oToken: null | { id: string; symbol: string; decimals: number; collateralAsset: SubgraphToken }\n  asset: { id: string; symbol: string; decimals: number }\n  amount: null | string\n  // for settlel vault action\n  collateral?: { name: string; id: string; symbol: string; decimals: number }\n  short: null | { name: string; id: string; symbol: string; decimals: number; collateralAsset: SubgraphToken }\n}\n\nexport type SubgraphToken = {\n  id: string\n  symbol: string\n  name: string\n  decimals: number\n}\n\nexport type SubgraphOToken = SubgraphToken & {\n  underlyingAsset: SubgraphToken\n  strikeAsset: SubgraphToken\n  collateralAsset: SubgraphToken\n  strikePrice: string\n  expiryTimestamp: string\n  isPut: boolean\n  creator: string\n  createdAt: string\n  totalSupply: string\n}\n\nexport type SubgraphPriceEntry = {\n  // id: string\n  expiry: string\n  reportedTimestamp: string\n  isDisputed: boolean\n  price: string\n}\n\nexport type SubgraphOracleAsset = {\n  id: string\n  asset: SubgraphToken\n  pricer: SubgraphPricer\n  prices: SubgraphPriceEntry[]\n}\n\nexport type SubgraphPricer = {\n  id: string\n  lockingPeriod: string\n  disputePeriod: string\n}\n\nexport type OTokenBalance = {\n  token: SubgraphOToken\n  balance: BigNumber\n}\n\nexport type OTokenTrade = {\n  buyer: string\n  seller: string\n  oTokenAmount: string\n  paymentToken: SubgraphToken\n  paymentTokenAmount: string\n  timestamp: string\n  transactionHash: string\n}\n\nexport type ChainlinkRound = {\n  number: string\n  unixTimestamp: number\n  value: string\n  roundIdHex: string\n}\n","import React from 'react'\n\nconst emptyStateRedSrc = require('../imgs/aragon/empty-state-illustration-red.png')\nconst EmptyState = <img src={emptyStateRedSrc} alt=\"\" width=\"185\" />\n\nexport const NO_TOKEN_SELECTED = {\n  default: {\n    title: '',\n    subtitle: 'select an oToken to proceed',\n    illustration: null,\n  },\n}\n\nexport const generateNoUserOrderContent = (symbol: string) => {\n  return {\n    default: {\n      title: `No Orders`,\n      subtitle: `You have no active orders for ${symbol}`,\n      illustration: null,\n    },\n  }\n}\n\nexport const generateNoOrderContent = (symbol: string) => {\n  return {\n    default: {\n      title: `No orders `,\n      subtitle: `No orders for ${symbol}`,\n      illustration: null,\n    },\n    loading: {\n      title: 'Loading',\n      subtitle: `Fetching 0x orders`,\n      illustration: null,\n    },\n  }\n}\n\nexport const OTOKENS_BOARD = {\n  default: {\n    title: 'No oTokens',\n    subtitle: 'No oTokens available',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching oTokens ',\n  },\n}\n\nexport const OTOKENS_BOARD_FILTERED = {\n  default: {\n    title: 'No Liquidity',\n    subtitle: 'Try checking \"show empty\" to see all availabe oTokens',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching oTokens ',\n  },\n}\n\nexport const OTOKENS = {\n  default: {\n    title: 'No oTokens',\n    subtitle: \"You don't have any oToken in your wallet \",\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching user oToken ',\n  },\n}\n\nexport const VAULTS = {\n  default: {\n    title: 'No vaults',\n    subtitle: 'Click on Open Vault to start minting oTokens!',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching user vaults...',\n  },\n}\n\nexport const VAULT_HISTORY = {\n  default: {\n    title: 'No entry',\n    subtitle: 'No operation has been done on this vault.',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching vault history',\n  },\n}\n\nexport const OPERATORS = {\n  default: {\n    title: 'No Operators',\n    subtitle: 'You can add operators to act on your behalf',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching operators...',\n  },\n}\n\nexport const PRICE_SUBMISSION = {\n  default: {\n    title: 'No Submissions',\n    subtitle: 'no price submission history on this asset',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Loading',\n    subtitle: 'Fetching historical price',\n  },\n}\n\nexport const LIQ_CALL_VAULT_STATE = {\n  default: {\n    title: 'No Call Vaults',\n    subtitle: 'No partial collateralizated call vaults opened',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Analyzing',\n    subtitle: 'Loading all partial collateralized vaults',\n  },\n}\n\nexport const LIQ_PUT_VAULT_STATE = {\n  default: {\n    title: 'No Put Vaults',\n    subtitle: 'No partial collateralizated vaults opened',\n    illustration: EmptyState,\n  },\n  loading: {\n    title: 'Analyzing',\n    subtitle: 'Loading all partial collateralized put vaults',\n  },\n}\n","import BigNumber from 'bignumber.js'\nimport { ZERO_ADDR } from '../constants/addresses'\nimport { actionArg, ActionType } from '../types'\nimport Web3 from 'web3'\nconst web3 = new Web3()\n\nexport function createOpenVaultArg(account: string, vaultId: BigNumber): actionArg {\n  return {\n    actionType: ActionType.OpenVault,\n    owner: account,\n    secondAddress: account,\n    asset: ZERO_ADDR,\n    vaultId: vaultId.toString(),\n    amount: '0',\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createDepositCollateralArg(\n  account: string,\n  from: string,\n  vaultId: BigNumber,\n  asset: string,\n  amount: BigNumber,\n): actionArg {\n  return {\n    actionType: ActionType.DepositCollateral,\n    owner: account,\n    secondAddress: from,\n    asset: asset,\n    vaultId: vaultId.toString(),\n    amount: amount.toString(),\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createWithdrawCollateralArg(\n  account: string,\n  to: string,\n  vaultId: BigNumber,\n  asset: string,\n  amount: BigNumber,\n): actionArg {\n  return {\n    actionType: ActionType.WithdrawCollateral,\n    owner: account,\n    secondAddress: to,\n    asset: asset,\n    vaultId: vaultId.toString(),\n    amount: amount.toString(),\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createMintShortArg(\n  account: string,\n  to: string,\n  vaultId: BigNumber,\n  oToken: string,\n  amount: BigNumber,\n): actionArg {\n  return {\n    actionType: ActionType.MintShortOption,\n    owner: account,\n    secondAddress: to,\n    asset: oToken,\n    vaultId: vaultId.toString(),\n    amount: amount.toString(),\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createBurnShortArg(\n  account: string,\n  from: string,\n  vaultId: BigNumber,\n  oToken: string,\n  amount: BigNumber,\n): actionArg {\n  return {\n    actionType: ActionType.BurnShortOption,\n    owner: account,\n    secondAddress: from,\n    asset: oToken,\n    vaultId: vaultId.toString(),\n    amount: amount.toString(),\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createDepositLongArg(\n  account: string,\n  from: string,\n  vaultId: BigNumber,\n  oToken: string,\n  amount: BigNumber,\n): actionArg {\n  return {\n    actionType: ActionType.DepositLongOption,\n    owner: account,\n    secondAddress: from,\n    asset: oToken,\n    vaultId: vaultId.toString(),\n    amount: amount.toString(),\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createWithdrawLongArg(\n  account: string,\n  to: string,\n  vaultId: BigNumber,\n  oToken: string,\n  amount: BigNumber,\n): actionArg {\n  return {\n    actionType: ActionType.WithdrawLongOption,\n    owner: account,\n    secondAddress: to,\n    asset: oToken,\n    vaultId: vaultId.toString(),\n    amount: amount.toString(),\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createSettleArg(account: string, to: string, vaultId: BigNumber): actionArg {\n  return {\n    actionType: ActionType.SettleVault,\n    owner: account,\n    secondAddress: to,\n    asset: ZERO_ADDR,\n    vaultId: vaultId.toString(),\n    amount: '0',\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createRedeemArg(token: string, amount: string, to: string): actionArg {\n  return {\n    actionType: ActionType.Redeem,\n    owner: ZERO_ADDR,\n    secondAddress: to,\n    asset: token,\n    vaultId: '0',\n    amount: amount,\n    index: '0',\n    data: ZERO_ADDR,\n  }\n}\n\nexport function createLiquidateArg(\n  vaultOwner: string,\n  vaultId: string,\n  recipient: string,\n  amount: string,\n  roundId: string,\n): actionArg {\n  return {\n    actionType: ActionType.Liquidate,\n    owner: vaultOwner,\n    secondAddress: recipient,\n    asset: ZERO_ADDR,\n    vaultId: vaultId,\n    amount: amount,\n    index: '0',\n    data: web3.eth.abi.encodeParameter('uint256', roundId),\n  }\n}\n","import { useCallback, useState, useMemo, useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport BigNumber from 'bignumber.js'\nimport { useConnectedWallet } from '../contexts/wallet'\n\nimport { addresses, ZERO_ADDR, getPayableProxyAddr, getWeth } from '../constants/addresses'\nimport { actionArg, ActionType } from '../types'\nimport { getPreference } from '../utils/storage'\nimport { MAX_UINT } from '../constants/others'\n\nimport * as util from '../utils/controller'\nimport { useNotify } from './useNotify'\nimport { SupportedNetworks } from '../constants'\nimport { useCustomToast } from './useCustomToast'\n\nconst controllerAbi = require('../constants/abis/controller.json')\nconst payableProxyAbi = require('../constants/abis/payableProxy.json')\nconst erc20Abi = require('../constants/abis/erc20.json')\n\nexport function useController() {\n  const toast = useCustomToast()\n\n  const { networkId, user, web3 } = useConnectedWallet()\n\n  const [latestVaultId, setLatestVaultId] = useState(0)\n\n  const track = useCallback(\n    (action: string) => {\n      const label = networkId === SupportedNetworks.Mainnet ? 'mainnet' : 'testnet'\n      ReactGA.event({ category: 'controller', action, label })\n    },\n    [networkId],\n  )\n\n  const [usePayableProxy, setUsePayableProxy] = useState(false)\n\n  const [operateValue, setOperateValue] = useState(new BigNumber(0))\n\n  const { notifyCallback } = useNotify()\n\n  const controller = useMemo(() => {\n    const address = addresses[networkId].controller\n    return new web3.eth.Contract(controllerAbi, address)\n  }, [networkId, web3])\n\n  const getNakedCap = useCallback(\n    async (collateral: string) => {\n      if (!controller) return new BigNumber(0)\n      const capAmount = await controller.methods.getNakedCap(collateral).call()\n      return new BigNumber(capAmount.toString())\n    },\n    [controller],\n  )\n\n  const getNakedBalance = useCallback(\n    async (collateral: string) => {\n      if (!controller) return new BigNumber(0)\n      const balance = await controller.methods.getNakedPoolBalance(collateral).call()\n      return new BigNumber(balance.toString())\n    },\n    [controller],\n  )\n\n  const payableProxy = useMemo(() => {\n    const contract = getPayableProxyAddr(networkId)\n    if (!contract) return null\n    const address = contract.address\n    return new web3.eth.Contract(payableProxyAbi, address)\n  }, [networkId, web3])\n\n  const updateVaultId = useCallback(() => {\n    if (!controller || !user) return\n    controller.methods\n      .getAccountVaultCounter(user)\n      .call()\n      .then(counter => {\n        setLatestVaultId(Number(counter))\n      })\n      .catch(error => {\n        console.log(`update vault id error`, error)\n      })\n  }, [controller, user])\n\n  useEffect(() => {\n    updateVaultId()\n  }, [updateVaultId])\n\n  const operate = useCallback(\n    async (args: actionArg[]) => {\n      if (!controller) return toast.error('No wallet connected')\n      try {\n        await controller.methods.operate(args).send({ from: user }).on('transactionHash', notifyCallback)\n      } catch (error) {\n        const message = error.message ? error.message : error.toString()\n        toast.error(message)\n      }\n    },\n    [notifyCallback, controller, user, toast],\n  )\n\n  const [actions, setActions] = useState<actionArg[]>([])\n\n  const pushAction = useCallback(newEntry => {\n    setActions(actions => [...actions, newEntry])\n  }, [])\n\n  const liquidate = useCallback(\n    async (vaultOwner: string, vaultId: string, amount: string, roundId: string) => {\n      const arg = util.createLiquidateArg(vaultOwner, vaultId, user, amount, roundId)\n      await operate([arg])\n    },\n    [operate, user],\n  )\n\n  const pushAddCollateralArg = useCallback(\n    (account: string, vaultId: BigNumber, from: string, asset: string, amount: BigNumber) => {\n      let finalAsset = asset\n      const proxy = getPayableProxyAddr(networkId)\n      if (proxy !== undefined && from === proxy.address.toLowerCase()) {\n        finalAsset = getWeth(networkId).id\n        setUsePayableProxy(true)\n        setOperateValue(amount)\n      }\n      const arg = util.createDepositCollateralArg(account, from, vaultId, finalAsset, amount)\n      pushAction(arg)\n      track('add-collateral')\n    },\n    [pushAction, track, networkId],\n  )\n\n  const pushRemoveCollateralArg = useCallback(\n    (account: string, vaultId: BigNumber, to: string, asset: string, amount: BigNumber) => {\n      let finalAsset = asset\n      const proxy = getPayableProxyAddr(networkId)\n      if (proxy !== undefined && to === proxy.address.toLowerCase()) {\n        finalAsset = getWeth(networkId).id\n        setUsePayableProxy(true)\n      }\n      const arg = util.createWithdrawCollateralArg(account, to, vaultId, finalAsset, amount)\n      pushAction(arg)\n      track('remove-collateral')\n    },\n    [pushAction, track, networkId],\n  )\n\n  const pushAddLongArg = useCallback(\n    (account: string, vaultId: BigNumber, from: string, asset: string, amount: BigNumber) => {\n      const arg = util.createDepositLongArg(account, from, vaultId, asset, amount)\n      pushAction(arg)\n      track('add-long')\n    },\n    [pushAction, track],\n  )\n\n  const pushRemoveLongArg = useCallback(\n    (account: string, vaultId: BigNumber, to: string, asset: string, amount: BigNumber) => {\n      const arg = util.createWithdrawLongArg(account, to, vaultId, asset, amount)\n      pushAction(arg)\n      track('remove-long')\n    },\n    [pushAction, track],\n  )\n\n  const pushMintArg = useCallback(\n    (account: string, vaultId: BigNumber, to: string, asset: string, amount: BigNumber) => {\n      const arg = util.createMintShortArg(account, to, vaultId, asset, amount)\n      pushAction(arg)\n      track('mint-short')\n    },\n    [pushAction, track],\n  )\n\n  const pushBurnArg = useCallback(\n    (account: string, vaultId: BigNumber, from: string, asset: string, amount: BigNumber) => {\n      const arg = util.createBurnShortArg(account, from, vaultId, asset, amount)\n      pushAction(arg)\n      track('burn-short')\n    },\n    [pushAction, track],\n  )\n\n  const settleBatch = useCallback(\n    async (account: string, vaultIds: number[], to: string) => {\n      const args = vaultIds.map(id => util.createSettleArg(account, to, new BigNumber(id)))\n      track('settle-batch')\n      await operate(args)\n    },\n    [operate, track],\n  )\n\n  const redeemBatch = useCallback(\n    async (to: string, tokens: string[], amounts: BigNumber[]) => {\n      const args: actionArg[] = []\n      for (let i = 0; i < tokens.length; i++) {\n        args.push(util.createRedeemArg(tokens[i], amounts[i].toString(), to))\n      }\n      if (args.length === 0) return toast.error('No tokens to redeem.')\n      track('redeem-batch')\n      await operate(args)\n    },\n    [operate, toast, track],\n  )\n\n  const refreshConfig = useCallback(async () => {\n    if (controller === null) return toast.error('No wallet connected')\n    await controller.methods.refreshConfiguration().send({ from: user }).on('transactionHash', notifyCallback)\n  }, [notifyCallback, user, controller, toast])\n\n  const checkAndIncreaseAllowance = useCallback(\n    async (erc20: string, from: string, amount: string) => {\n      if (erc20 === ZERO_ADDR) return\n      const pool = addresses[networkId].pool\n      const token = new web3.eth.Contract(erc20Abi, erc20)\n      const allowance = await token.methods.allowance(from, pool).call()\n      if (new BigNumber(allowance).lt(new BigNumber(amount))) {\n        const approveAmount = getPreference('approval', 'unlimited') === 'normal' ? amount : MAX_UINT\n        await token.methods.approve(pool, approveAmount).send({ from: user }).on('transactionHash', notifyCallback)\n      }\n    },\n    [networkId, notifyCallback, user, web3],\n  )\n\n  const operateCache = useCallback(\n    async (callback: Function, onError: Function) => {\n      // check allowance to add long\n      if (!controller) {\n        onError()\n        return toast.error('No wallet connected')\n      }\n      const addLongAction = actions.find(action => action.actionType === ActionType.DepositLongOption)\n      if (addLongAction !== undefined) {\n        await checkAndIncreaseAllowance(addLongAction.asset, user, addLongAction.amount)\n      }\n\n      // check allowance to add collateral\n      const addCollateralAction = actions.find(action => action.actionType === ActionType.DepositCollateral)\n      if (addCollateralAction !== undefined && !usePayableProxy) {\n        await checkAndIncreaseAllowance(addCollateralAction.asset, user, addCollateralAction.amount)\n      }\n\n      // find if any action involve operation on a vault\n      const actionVaultId = Number(\n        actions.find(action => {\n          return action.vaultId !== '0' && action.actionType !== ActionType.Liquidate\n        })?.vaultId,\n      )\n\n      if (actionVaultId) {\n        if (actionVaultId === latestVaultId + 1) {\n          // open new vault\n          actions.unshift(util.createOpenVaultArg(user, new BigNumber(actionVaultId)))\n        } else if (actionVaultId > latestVaultId + 1) {\n          onError()\n          return toast.error(`Cannot operate on vault id > ${latestVaultId + 1} `)\n        }\n      }\n\n      // const contract = usePayableProxy ? payableProxy : controller\n      try {\n        if (usePayableProxy && payableProxy !== null) {\n          await payableProxy.methods\n            .operate(actions, user)\n            .send({ from: user, value: operateValue.toString() })\n            .on('transactionHash', notifyCallback)\n            .on('receipt', callback)\n            .on('error', onError)\n        } else {\n          await controller.methods\n            .operate(actions)\n            .send({ from: user })\n            .on('transactionHash', notifyCallback)\n            .on('receipt', callback)\n            .on('error', onError)\n        }\n\n        setActions([])\n        setUsePayableProxy(false)\n        setOperateValue(new BigNumber(0))\n      } catch (error) {\n        toast.error(error.message)\n        onError()\n      }\n\n      updateVaultId()\n    },\n    [\n      controller,\n      toast,\n      actions,\n      checkAndIncreaseAllowance,\n      notifyCallback,\n      user,\n      updateVaultId,\n      latestVaultId,\n      operateValue,\n      usePayableProxy,\n      payableProxy,\n    ],\n  )\n\n  const cleanActionCache = useCallback(() => {\n    setActions([])\n  }, [])\n\n  const updateOperator = useCallback(\n    async (operator: string, isOperator: boolean) => {\n      if (!controller) return toast.error('No wallet connected')\n      track('update-operator')\n      await controller.methods\n        .setOperator(operator, isOperator)\n        .send({ from: user })\n        .on('transactionHash', notifyCallback)\n    },\n    [toast, controller, notifyCallback, user, track],\n  )\n\n  return {\n    getNakedCap,\n    getNakedBalance,\n\n    actions,\n    pushAddCollateralArg,\n    pushRemoveCollateralArg,\n    pushAddLongArg,\n    pushRemoveLongArg,\n    pushMintArg,\n    pushBurnArg,\n    liquidate,\n\n    settleBatch,\n    redeemBatch,\n    refreshConfig,\n    operateCache,\n    updateOperator,\n    latestVaultId,\n    cleanActionCache,\n  }\n}\n","import React from 'react'\nimport { LinkBase } from '@aragon/ui'\n\nexport const onclickWrapper = (child: any, onClick: any) => {\n  return <LinkBase onClick={onClick}> {child} </LinkBase>\n}\n\nexport const green = text => {\n  return <div style={{ color: '#7aae1a', fontSize: 14 }}> {text} </div>\n}\n\nexport const red = text => {\n  return <div style={{ color: '#da5750', fontSize: 14 }}> {text} </div>\n}\n\nexport const bold = text => {\n  return <div style={{ fontWeight: 'bolder', fontSize: 15 }}> {text} </div>\n}\n\nexport const regular = text => {\n  return <div style={{ fontSize: 14 }}> {text} </div>\n}\n\nexport function secondary(text) {\n  return <div style={{ opacity: 0.7 }}> {text} </div>\n}\n","import React, { useCallback, useMemo, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useHistory } from 'react-router-dom'\nimport { DataView, Button, Split, Tag, Timer } from '@aragon/ui'\n\nimport SectionTitle from '../../components/SectionHeader'\nimport OpynTokenAmount from '../../components/OpynTokenAmount'\nimport CheckBoxWithLabel from '../../components/CheckBoxWithLabel'\n\nimport { useOTokenBalances } from '../../hooks/useOTokenBalances'\n\nimport { useConnectedWallet } from '../../contexts/wallet'\nimport { OTokenBalance } from '../../types'\nimport { sortByExpiryThanStrike, isExpired, isSettlementAllowed, isITM, getExpiryPayout } from '../../utils/others'\nimport { getPreference } from '../../utils/storage'\n\nimport { OTOKENS } from '../../constants/dataviewContents'\n\nimport { useController } from '../../hooks/useController'\nimport { useExpiryPriceData } from '../../hooks/useExpiryPriceData'\nimport { green, secondary } from '../../components/StyleDiv'\nimport { useCustomToast } from '../../hooks'\nimport { toTokenAmount } from '../../utils/math'\n\nconst SHOW_OTM_KEY = 'show-otm'\n\nexport default function L1Balances({ account }: { account: string }) {\n  const { networkId, user } = useConnectedWallet()\n  const [expiredOtokenPage, setExpiredOTokenPage] = useState(0)\n  const [otokenPage, setOTokenPage] = useState(0)\n  const toast = useCustomToast()\n\n  // whether to show OTM expired oTokens\n  const [showOTM, setShowOTM] = useState(getPreference(SHOW_OTM_KEY, 'false') === 'true')\n\n  const history = useHistory()\n\n  const { balances, isLoading: isLoadingBalance } = useOTokenBalances(account, networkId)\n\n  const { allOracleAssets } = useExpiryPriceData()\n\n  const { redeemBatch } = useController()\n\n  const redeemToken = useCallback(\n    async (token: string, amount: BigNumber) => {\n      if (user !== account) return toast.error('Connected account is not the owner.')\n\n      await redeemBatch(user, [token], [amount])\n    },\n    [user, account, toast, redeemBatch],\n  )\n\n  const { expiredEntries, nonExpiredEntries } = useMemo(() => {\n    if (!balances) {\n      return {\n        expiredEntries: [],\n        nonExpiredEntries: [],\n      }\n    }\n    const expiredEntries = balances.filter(({ token }) => isExpired(token))\n    const nonExpiredEntries = balances.filter(({ token }) => !isExpired(token))\n    return { nonExpiredEntries, expiredEntries }\n  }, [balances])\n\n  const expiredOTokensToShow = useMemo(() => {\n    if (!expiredEntries) return []\n    // don't apply any filter if showOTM is checked\n    if (showOTM) return expiredEntries\n\n    return expiredEntries.filter(({ token }) => {\n      const asset = allOracleAssets.find(a => a.asset.id === token.underlyingAsset.id)\n      if (!asset) return true // show the entry if we don't know the payout status\n\n      const expiryPrice = asset && asset.prices.find(p => p.expiry === token.expiryTimestamp)?.price\n      if (!expiryPrice) return true\n\n      return isITM(token, expiryPrice)\n    })\n  }, [expiredEntries, showOTM, allOracleAssets])\n\n  const hasExpiredToken = useMemo(() => expiredEntries.length > 0, [expiredEntries])\n\n  // const tokensExpired = useMemo(() => entries.filter(e => isExpired(e.token)), [entries])\n  const tokensToRedeem = useMemo(\n    () =>\n      expiredEntries\n        .filter(e => isSettlementAllowed(e.token, allOracleAssets))\n        // onnly redeem otokens that's ITM\n        .filter(({ token }) => {\n          const asset = allOracleAssets.find(a => a.asset.id === token.underlyingAsset.id)\n          const price = asset && asset.prices.find(p => p.expiry === token.expiryTimestamp)?.price\n          return price !== undefined && isITM(token, price)\n        }),\n    [expiredEntries, allOracleAssets],\n  )\n\n  const redeemAll = useCallback(async () => {\n    if (user !== account) return toast.error('Connected account is not the owner.')\n    const tokens = tokensToRedeem.map(t => t.token.id)\n    const amounts = tokensToRedeem.map(b => b.balance)\n    await redeemBatch(user, tokens, amounts)\n  }, [user, account, tokensToRedeem, redeemBatch, toast])\n\n  const renderExpiredRow = useCallback(\n    ({ token, balance }: OTokenBalance) => {\n      let hasPrice = false\n      let expiredITM = false\n      let payout: BigNumber = new BigNumber(0)\n      let expiryPrice: string | undefined = undefined\n\n      const asset = allOracleAssets.find(a => a.asset.id === token.underlyingAsset.id)\n      if (asset) {\n        // if collateral is different from underlying or strike, fetch its price\n        let collatPrice: string | undefined = undefined\n        if (\n          (token.isPut && token.collateralAsset.id !== token.strikeAsset.id) ||\n          (!token.isPut && token.collateralAsset.id !== token.underlyingAsset.id)\n        ) {\n          console.log('gettting kkkk')\n          const collatPrices = allOracleAssets.find(a => a.asset.id === token.collateralAsset.id)\n          if (collatPrices) collatPrice = collatPrices.prices.find(p => p.expiry === token.expiryTimestamp)?.price\n        }\n\n        expiryPrice = asset.prices.find(p => p.expiry === token.expiryTimestamp)?.price\n        hasPrice = expiryPrice !== undefined\n        if (expiryPrice !== undefined) {\n          expiredITM = isITM(token, expiryPrice)\n          payout = getExpiryPayout(token, balance.toString(), expiryPrice, collatPrice)\n        }\n      }\n\n      return [\n        <OpynTokenAmount chainId={networkId} token={token} amount={balance.toString()} />,\n        secondary(`${toTokenAmount(token.strikePrice, 8).integerValue().toString()} USD`),\n        secondary(expiryPrice ? `${toTokenAmount(expiryPrice, 8).toFixed(4)} USD` : '-'),\n        <>\n          {getPayoutText(payout)} {secondary(`${token.collateralAsset.symbol}`)}{' '}\n        </>,\n        <Button\n          label=\"Redeem\"\n          onClick={() => redeemToken(token.id, balance)}\n          disabled={!isSettlementAllowed(token, allOracleAssets) || !hasPrice || !expiredITM}\n        />,\n      ]\n    },\n    [networkId, redeemToken, allOracleAssets],\n  )\n\n  const renderNotExpiredRow = useCallback(\n    ({ token, balance }: OTokenBalance) => {\n      return [\n        <OpynTokenAmount chainId={networkId} token={token} amount={balance.toString()} />,\n        secondary(`${toTokenAmount(token.strikePrice, 8).integerValue().toString()} USD`),\n        <Timer end={new Date(Number(token.expiryTimestamp) * 1000)} format=\"Mdhm\" />,\n        <Button label=\"Trade\" onClick={() => history.push(`/trade/swap/${token.id}`)} />,\n      ]\n    },\n    [networkId, history],\n  )\n\n  return (\n    <>\n      {expiredEntries.length > 0 && (\n        <DataView\n          status={isLoadingBalance ? 'loading' : 'default'}\n          heading={\n            <Split\n              primary={<SectionTitle title=\"Expired oTokens\" />}\n              secondary={\n                hasExpiredToken && (\n                  <div style={{ float: 'right' }}>\n                    <Button onClick={redeemAll} disabled={tokensToRedeem.length === 0}>\n                      Redeem Batch\n                      <span style={{ paddingLeft: '7px' }}>\n                        <Tag>{tokensToRedeem.length}</Tag>\n                      </span>\n                    </Button>\n                    <CheckBoxWithLabel\n                      storageKey={SHOW_OTM_KEY}\n                      checked={showOTM}\n                      setChecked={setShowOTM}\n                      label={'Show OTM options'}\n                    />\n                  </div>\n                )\n              }\n            />\n          }\n          fields={['balance', 'strike', 'settlement price', 'Payout', '']}\n          emptyState={OTOKENS}\n          entries={expiredOTokensToShow.sort((a, b) => sortByExpiryThanStrike(a.token, b.token)) || []}\n          renderEntry={renderExpiredRow}\n          entriesPerPage={5}\n          page={expiredOtokenPage}\n          onPageChange={setExpiredOTokenPage}\n        />\n      )}\n\n      <DataView\n        status={isLoadingBalance ? 'loading' : 'default'}\n        heading={<SectionTitle title=\"oTokens\" />}\n        fields={['balance', 'strike', 'Expiry', '']}\n        emptyState={OTOKENS}\n        entries={nonExpiredEntries.sort((a, b) => sortByExpiryThanStrike(a.token, b.token)) || []}\n        renderEntry={renderNotExpiredRow}\n        entriesPerPage={5}\n        page={otokenPage}\n        onPageChange={setOTokenPage}\n      />\n    </>\n  )\n}\n\nfunction getPayoutText(payout: BigNumber): JSX.Element {\n  const payoutText = payout.gt(0) ? green(payout.toFixed(4)) : secondary(payout.toFixed(4))\n  return <div style={{ paddingRight: '5px' }}> {payoutText} </div>\n}\n","import React, { useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport Header from '../../components/Header'\nimport StyledContainer from '../../components/StyledContainer'\nimport { useParams } from 'react-router-dom'\nimport L1Balances from './L1Wallet'\n\nexport default function Account() {\n  const { account } = useParams()\n  useEffect(() => {\n    ReactGA.pageview('/account/')\n  }, [])\n  return (\n    <StyledContainer>\n      <Header primary=\"Account Overview\" />\n      <L1Balances account={account} />\n    </StyledContainer>\n  )\n}\n","import React, { useMemo, useCallback, useState, useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { Button, DataView, Tag, Help } from '@aragon/ui'\nimport useAsyncMemo from '../../../hooks/useAsyncMemo'\nimport { getAccount } from '../../../utils/graph'\nimport Header from '../../../components/Header'\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { SubgraphVault } from '../../../types'\nimport SectionTitle from '../../../components/SectionHeader'\nimport OpynTokenAmount from '../../../components/OpynTokenAmount'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { VAULTS } from '../../../constants/dataviewContents'\nimport { useController } from '../../../hooks/useController'\nimport { useExpiryPriceData } from '../../../hooks/useExpiryPriceData'\nimport { isSettlementAllowed } from '../../../utils/others'\nimport { useCustomToast } from '../../../hooks'\n\nexport default function AccountVaults() {\n  const { networkId, user } = useConnectedWallet()\n  const { account } = useParams()\n  useEffect(() => {\n    ReactGA.pageview('/account/vaults')\n  }, [])\n  const [isLoading, setIsLoading] = useState(true)\n\n  const toast = useCustomToast()\n\n  const vaults = useAsyncMemo(\n    async () => {\n      if (!account) return\n      const result = await getAccount(networkId, account, toast.error)\n      setIsLoading(false)\n      return result ? result.vaults.sort((v1, v2) => (Number(v1.vaultId) > Number(v2.vaultId) ? 1 : -1)) : []\n    },\n    [],\n    [networkId, account],\n  )\n\n  // get oracle data to determine if a vault is ready to settle\n  const { allOracleAssets } = useExpiryPriceData()\n\n  // for batch settle\n  const vaultsToSettle = useMemo(() => {\n    if (!vaults) return []\n    return vaults.filter(vault => {\n      return vault.shortOToken\n        ? isSettlementAllowed(vault.shortOToken, allOracleAssets)\n        : vault.longOToken\n        ? isSettlementAllowed(vault.longOToken, allOracleAssets)\n        : false\n    })\n  }, [vaults, allOracleAssets])\n\n  const { settleBatch, latestVaultId } = useController()\n\n  const batchSettle = useCallback(async () => {\n    const vaultIds = vaultsToSettle.map(vault => Number(vault.vaultId))\n    await settleBatch(user, vaultIds, user)\n  }, [settleBatch, user, vaultsToSettle])\n\n  const history = useHistory()\n  const goToEmptyVault = useCallback(() => {\n    const newVaultId = latestVaultId + 1\n    history.push(`/vault/${account}/${newVaultId}`)\n  }, [account, latestVaultId, history])\n\n  const renderRow = useCallback(\n    (vault: SubgraphVault, index) => {\n      const collateralAmount = vault.collateralAmount ? vault.collateralAmount : '0'\n      const longAmount = vault.longAmount ? vault.longAmount : '0'\n      const shortAmount = vault.shortAmount ? vault.shortAmount : '0'\n      return [\n        <OpynTokenAmount token={vault.collateralAsset} amount={collateralAmount} chainId={networkId} />,\n        <OpynTokenAmount token={vault.longOToken} amount={longAmount} chainId={networkId} />,\n        <OpynTokenAmount token={vault.shortOToken} amount={shortAmount} chainId={networkId} />,\n        <Button\n          label={'Detail'}\n          onClick={() => {\n            history.push(`/vault/${account}/${vault.vaultId}`)\n          }}\n        />,\n      ]\n    },\n    [account, history, networkId],\n  )\n\n  return (\n    <StyledContainer>\n      <Header\n        primary=\"Vaults\"\n        secondary={\n          vaultsToSettle.length > 0 && (\n            <Button disabled={vaultsToSettle.length === 0} onClick={batchSettle}>\n              Settle Vaults <Tag> {vaultsToSettle.length} </Tag>{' '}\n            </Button>\n          )\n        }\n      />\n      <>\n        {' '}\n        <span style={{ paddingRight: 20 }}> Mange Vaults for </span>{' '}\n        <CustomIdentityBadge entity={account} shorten={false} />{' '}\n      </>\n\n      <SectionTitle title=\"Existing Vaults\" />\n      <DataView\n        status={isLoading ? 'loading' : 'default'}\n        fields={[\n          'Collateral',\n          <div style={{ display: 'flex' }}>\n            {' '}\n            <span style={{ paddingRight: '8px' }}> Long </span>{' '}\n            <Help hint={'What is Long oToken?'}> the oToken you put into a vault to create a spread. </Help>{' '}\n          </div>,\n          <div style={{ display: 'flex' }}>\n            {' '}\n            <span style={{ paddingRight: '8px' }}> Short </span>{' '}\n            <Help hint={'What is Short oToken?'}>\n              {' '}\n              the oToken you minted by putting down collateral. Or the short position you create.{' '}\n            </Help>{' '}\n          </div>,\n          '',\n        ]}\n        emptyState={VAULTS}\n        entries={vaults}\n        renderEntry={renderRow}\n      />\n      <br />\n      <SectionTitle title=\"Open New\" />\n      <Button label={'Open Empty Vault'} onClick={goToEmptyVault} />\n    </StyledContainer>\n  )\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport ReactGA from 'react-ga'\nimport { useHistory } from 'react-router-dom'\nimport { TextInput, DataView, Button, LinkBase, EthIdenticon } from '@aragon/ui'\nimport { getPreference, checkAddressAndAddToStorage } from '../../../utils/storage'\n\nimport Header from '../../../components/Header'\nimport Comment from '../../../components/Comment'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { isAddress } from '../../../utils/math'\nimport { resolveENS } from '../../../utils/others'\nimport { useCustomToast } from '../../../hooks'\n\nfunction Login() {\n  const { user, setUser, networkId } = useConnectedWallet()\n  const history = useHistory()\n  const toast = useCustomToast()\n  const [InAddress, setAddress] = useState('')\n  const [addrs, setAddrLisrt] = useState([])\n\n  useEffect(() => {\n    ReactGA.modalview('watch-address')\n  }, [])\n\n  const goToAccount = useMemo(\n    () => account => {\n      history.push(`/account/${account}`)\n    },\n    [history],\n  )\n\n  useEffect(() => {\n    if (user) {\n      goToAccount(user)\n    }\n  }, [goToAccount, user])\n\n  useEffect(() => {\n    const watch_addrs = getPreference('watch_addresses', '[]')\n    const usedAddresses = JSON.parse(watch_addrs)\n    setAddrLisrt(usedAddresses)\n  }, [])\n\n  return (\n    <StyledContainer>\n      <Header primary=\"Account\" />\n      <p style={{ fontSize: 20 }}> Connect Wallet </p>\n      <Comment text=\"Please connect wallet to proceed or enter an address to use Watch Mode.\" />\n      <br />\n      <br />\n      <p style={{ fontSize: 20 }}> Watch Mode </p>\n      <Comment text=\"You won't be able to interact with any smart contract under Watch Mode.\" />\n      <div style={{ display: 'flex' }}>\n        <div style={{ width: '50%' }}>\n          <TextInput\n            placeholder=\"Ethereum address or ENS\"\n            value={InAddress}\n            onChange={e => {\n              setAddress(e.target.value.toLowerCase())\n            }}\n            wide\n          />\n\n          {addrs.length > 0 ? (\n            <div style={{ paddingTop: '3%' }}>\n              <DataView\n                entries={addrs.reverse()}\n                fields={['used']}\n                entriesPerPage={5}\n                renderEntry={(address: string) => [\n                  <LinkBase\n                    onClick={() => {\n                      checkAddressAndAddToStorage(address.toLowerCase())\n                      setUser(address.toLowerCase())\n                      // goToAccount(address)\n                    }}\n                  >\n                    {/* <IdentityBadge entity={address} /> */}\n                    <EthIdenticon address={address} scale={1.3} radius={5} />\n                    <span style={{ paddingLeft: 8, fontSize: 15, fontFamily: 'aragon-ui-monospace' }}>{address}</span>\n                  </LinkBase>,\n                ]}\n              />\n            </div>\n          ) : (\n            <></>\n          )}\n        </div>\n        <div style={{ width: '8%', paddingLeft: '1%', paddingRight: '1%' }}>\n          <Button\n            label=\"Watch Address\"\n            onClick={async () => {\n              if (isAddress(InAddress)) {\n                checkAddressAndAddToStorage(InAddress)\n                setUser(InAddress.toLowerCase())\n                // goToAccount(InAddress)\n              } else {\n                try {\n                  const address = await resolveENS(InAddress, networkId)\n                  checkAddressAndAddToStorage(address)\n                  setUser(address.toLowerCase())\n                  // goToAccount(address)\n                } catch (error) {\n                  toast.error('Invalid Address')\n                }\n              }\n            }}\n          />\n        </div>\n      </div>\n    </StyledContainer>\n  )\n}\n\nexport default Login\n","import React from 'react'\n\nimport { Tag } from '@aragon/ui'\n\nexport default function ActionBadgeFromId({ id }: { id: string }) {\n  if (id.includes('DEPOSIT-COLLATERAL')) {\n    return DepositCollateralBadge()\n  } else if (id.includes('WITHDRAW-COLLATERAL')) {\n    return WithdrawCollateralBadge()\n  } else if (id.includes('DEPOSIT-LONG')) {\n    return DepositLongBadge()\n  } else if (id.includes('WITHDRAW-LONG')) {\n    return WithdrawLongBadge()\n  } else if (id.includes('BURN-SHORT')) {\n    return BurnShortBadge()\n  } else if (id.includes('MINT-SHORT')) {\n    return MintShortBadge()\n  } else if (id.includes('SETTLE')) {\n    return SettleBadge()\n  } else {\n    return OtherBadge()\n  }\n}\n\nexport function DepositCollateralBadge() {\n  return (\n    <Tag color=\"#004080\" background=\"#b3d9ff\" size=\"normal\">\n      {' '}\n      Deposit Collateral{' '}\n    </Tag>\n  )\n}\n\nexport function WithdrawCollateralBadge() {\n  return (\n    <Tag color=\"#004080\" background=\"#b3d9ff\" size=\"normal\">\n      {' '}\n      Withdraw Collateral{' '}\n    </Tag>\n  )\n}\n\nexport function DepositLongBadge() {\n  return (\n    <Tag color=\"#006600\" background=\"#c2f0c2\" size=\"normal\">\n      {' '}\n      Deposit Long{' '}\n    </Tag>\n  )\n}\n\nexport function WithdrawLongBadge() {\n  return (\n    <Tag color=\"#006600\" background=\"#c2f0c2\" size=\"normal\">\n      {' '}\n      Withdraw Long{' '}\n    </Tag>\n  )\n}\n\nexport function MintShortBadge() {\n  return (\n    <Tag color=\"#800000\" background=\"#ffb3b3\" size=\"normal\">\n      {' '}\n      Mint Short{' '}\n    </Tag>\n  )\n}\n\nexport function BurnShortBadge() {\n  return (\n    <Tag color=\"#800000\" background=\"#ffb3b3\" size=\"normal\">\n      {' '}\n      Burn Short{' '}\n    </Tag>\n  )\n}\n\nexport function SettleBadge() {\n  return (\n    <Tag color=\"#FFC300\" background=\"#FFF8BC\" size=\"normal\">\n      {' '}\n      Settle Vault{' '}\n    </Tag>\n  )\n}\n\nexport function OtherBadge() {\n  return <Tag size=\"normal\"> Others </Tag>\n}\n","import React, { useState, useCallback } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { DataView, TransactionBadge } from '@aragon/ui'\nimport BigNumber from 'bignumber.js'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\n\nimport ActionBadgeFromId from '../../../components/ActionBadge'\nimport SectionTitle from '../../../components/SectionHeader'\nimport TokenAddress from '../../../components/TokenAddress'\n\nimport { getVaultHistory } from '../../../utils/graph'\nimport { timeSince } from '../../../utils/math'\nimport { toTokenAmount } from '../../../utils/math'\n\nimport { SubgraphVaultAction } from '../../../types'\nimport useAsyncMemo from '../../../hooks/useAsyncMemo'\n\nimport { VAULT_HISTORY } from '../../../constants/dataviewContents'\nimport { useCustomToast } from '../../../hooks'\n\nexport default function VaultHistory({ id }: { id: number }) {\n  const [isLoading, setIsLoading] = useState(true)\n\n  const { networkId } = useConnectedWallet()\n  const { owner, vaultId } = useParams()\n  const toast = useCustomToast()\n\n  const history = useAsyncMemo(\n    async () => {\n      const historyData = await getVaultHistory(networkId, owner, vaultId, toast.error)\n      if (historyData === null) {\n        setIsLoading(false)\n        return []\n      }\n\n      const allEntry = [\n        ...historyData.burnShortActions,\n        ...historyData.depositCollateralActions,\n        ...historyData.depositLongActions,\n        ...historyData.mintShortActions,\n        ...historyData.withdrawCollateralActions,\n        ...historyData.withdrawLongActions,\n        ...historyData.settleActions,\n      ].sort((a, b) => (a.timestamp >= b.timestamp ? -1 : 1))\n      setIsLoading(false)\n      return allEntry\n    },\n    [],\n    [id],\n  )\n\n  const renderRow = useCallback(\n    (entry: SubgraphVaultAction) => {\n      const hash = entry.transactionHash\n      const badge = <ActionBadgeFromId id={entry.id} />\n\n      let assetToken: { id: string; symbol: string; decimals: number } | null = entry.asset\n\n      if (entry.id.includes('SETTLE')) {\n        assetToken = entry.short ? entry.short.collateralAsset : null\n      } else {\n        assetToken = entry.oToken ? entry.oToken : entry.asset\n      }\n\n      const assetDecimals = assetToken ? (assetToken.decimals ? assetToken.decimals : 8) : 8\n      const amount = toTokenAmount(new BigNumber(entry.amount ? entry.amount : 0), assetDecimals).toString()\n      const timestamp = new BigNumber(entry.timestamp).times(1000).toNumber()\n      return [\n        <TransactionBadge\n          transaction={hash}\n          networkType={networkId === 1 ? 'main' : networkId === 42 ? 'kovan' : 'rinkeby'}\n        />,\n        badge,\n        amount === '0' ? '' : amount,\n        assetToken ? <TokenAddress token={assetToken} /> : '',\n        timeSince(timestamp),\n      ]\n    },\n    [networkId],\n  )\n\n  return (\n    <>\n      <SectionTitle title=\"History\" />\n      <DataView\n        entriesPerPage={5}\n        entries={history}\n        mode=\"table\"\n        status={isLoading ? 'loading' : 'default'}\n        fields={['tx', 'action', 'amount', 'asset', 'timestamp']}\n        renderEntry={renderRow}\n        emptyState={VAULT_HISTORY}\n      />\n    </>\n  )\n}\n","export enum PricerTypes {\n  USDCPricer = 'USD Pricer',\n  CTokenPricer = 'cToken Pricer',\n  ChainlinkPricer = 'Chainlink Pricer',\n}\n\nexport const pricerMap = {\n  USDC: PricerTypes.USDCPricer,\n  WETH: PricerTypes.ChainlinkPricer,\n  cUSDC: PricerTypes.CTokenPricer,\n}\n","import { useState, useMemo } from 'react'\n\nimport { getAccount } from '../utils/graph'\nimport useAsyncMemo from './useAsyncMemo'\nimport { useCustomToast } from './useCustomToast'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { isEOA } from '../utils/others'\nimport { getPayableProxyAddr } from '../constants'\n\nexport function useAuthorizedOperators(account: string) {\n  const toast = useCustomToast()\n  const { networkId } = useConnectedWallet()\n\n  const [isLoading, setIsLoading] = useState(true)\n\n  // fetch account data, check if each operator is EOA\n  const operators = useAsyncMemo(\n    async () => {\n      if (!account) return []\n      const accountData = await getAccount(networkId, account, toast.error)\n      const operatorsRelations = accountData ? accountData.operators : []\n      const operatorsWithExtraInfo = await Promise.all(\n        operatorsRelations.map(async relation => {\n          const isEOAAddress = await isEOA(relation.operator.id, networkId)\n          return {\n            address: relation.operator.id,\n            isEOA: isEOAAddress,\n          }\n        }),\n      )\n      setIsLoading(false)\n      return operatorsWithExtraInfo\n    },\n    [],\n    [networkId, account],\n  )\n\n  const hasAuthorizedPayalbeProxy = useMemo(() => {\n    const payableProxy = getPayableProxyAddr(networkId)\n    if (payableProxy === undefined) return false\n    return operators.find(o => o.address === payableProxy.address.toLowerCase()) !== undefined\n  }, [networkId, operators])\n\n  return { operators, isLoading, hasAuthorizedPayalbeProxy }\n}\n","import React, { useMemo, useState, useCallback, useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport BigNumber from 'bignumber.js'\nimport { useParams } from 'react-router-dom'\nimport {\n  TextInput,\n  Button,\n  DataView,\n  Tag,\n  IconCirclePlus,\n  IconCircleMinus,\n  IconTrash,\n  DropDown,\n  LoadingRing,\n  LinkBase,\n} from '@aragon/ui'\nimport History from './history'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport Header from '../../../components/Header'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\nimport StyledContainer from '../../../components/StyledContainer'\n\nimport useAsyncMemo from '../../../hooks/useAsyncMemo'\nimport { useTokenByAddress } from '../../../hooks/useToken'\nimport { useOTokenBalances } from '../../../hooks/useOTokenBalances'\nimport { useTokenBalance } from '../../../hooks/useTokenBalance'\nimport { useLiveOTokens } from '../../../hooks/useOTokens'\nimport { useExpiryPriceData } from '../../../hooks/useExpiryPriceData'\nimport { useAuthorizedOperators } from '../../../hooks/useAuthorizedOperators'\n\nimport { getVault } from '../../../utils/graph'\nimport { toTokenAmount, fromTokenAmount } from '../../../utils/math'\nimport { isExpired, isSettlementAllowed } from '../../../utils/others'\nimport { ZERO_ADDR, tokens, getPayableProxyAddr, getWeth } from '../../../constants/addresses'\nimport { SubgraphOToken } from '../../../types'\nimport { useController } from '../../../hooks/useController'\nimport { useCustomToast } from '../../../hooks'\n\nexport default function VaultDetail() {\n  useEffect(() => {\n    ReactGA.pageview('account/vault/')\n  }, [])\n\n  const [vaultExpiry, setVaultExpiry] = useState<string>('0')\n  const [isLoading, setIsLoading] = useState(true)\n\n  const [isSendingTx, setIsSendingTx] = useState(false)\n\n  const [changeCollateralAmount, setChangeCollateralAmount] = useState(new BigNumber(0))\n  const [changeLongAmount, setChangeLongAmount] = useState(new BigNumber(0))\n  const [changeShortAmount, setChangeShortAmount] = useState(new BigNumber(0))\n\n  const [pendingCollateralAmount, setPendingCollateralAmount] = useState('')\n  const [pendingLongAmount, setPendingLongAmount] = useState('')\n  const [pendingShortAmount, setPendingShortAmount] = useState('')\n\n  // for dropdown options\n  const [usePayableProxy, setUsePayableProxy] = useState(false)\n  const [selectedCollateralIndex, setSelectedCollateralIndex] = useState(0)\n  const [selectedLong, setLongOToken] = useState<SubgraphOToken | null>(null)\n  const [selectedShort, setShortOToken] = useState<SubgraphOToken | null>(null)\n\n  const { networkId, user } = useConnectedWallet()\n  const { owner, vaultId } = useParams()\n  const toast = useCustomToast()\n\n  const [fetchCount, setFetchCount] = useState(0)\n  const refetch = useCallback(() => {\n    setFetchCount(c => c + 1)\n  }, [setFetchCount])\n\n  // get oracle data to determine if a vault is ready to settle\n  const { allOracleAssets } = useExpiryPriceData()\n\n  const vaultDetail = useAsyncMemo(\n    async () => {\n      const result = await getVault(networkId, owner, vaultId, toast.error)\n      setIsLoading(false)\n      return result\n    },\n    null,\n    [networkId, owner, toast, vaultId, fetchCount],\n  )\n\n  const { allOtokens } = useLiveOTokens()\n  const { balances } = useOTokenBalances(user, networkId)\n\n  const controller = useController()\n\n  const isAuthorized = useMemo(() => {\n    if (vaultDetail === null) return false\n    else if (owner === user) return true\n    else return vaultDetail.owner.operators.map(o => o.operator.id).includes(user)\n  }, [vaultDetail, owner, user])\n\n  const { hasAuthorizedPayalbeProxy } = useAuthorizedOperators(user)\n\n  const collateralTokens = useMemo(\n    () => (hasAuthorizedPayalbeProxy ? tokens[networkId] : tokens[networkId].filter(t => t.symbol !== 'ETH')),\n    [hasAuthorizedPayalbeProxy, networkId],\n  )\n\n  const collateralToken = useTokenByAddress(\n    vaultDetail && vaultDetail.collateralAsset && vaultDetail.collateralAsset.symbol !== 'WETH'\n      ? vaultDetail.collateralAsset.id\n      : collateralTokens[selectedCollateralIndex].id,\n    networkId,\n  )\n\n  const shortOtoken = useMemo(() => (vaultDetail && vaultDetail.shortOToken) || selectedShort || null, [\n    vaultDetail,\n    selectedShort,\n  ])\n\n  const longOtoken = useMemo(() => (vaultDetail && vaultDetail.longOToken) || selectedLong || null, [\n    vaultDetail,\n    selectedLong,\n  ])\n\n  const collateralBalance = useTokenBalance(collateralToken.id, user, 20)\n\n  const longBalance = useMemo(() => {\n    if (!balances) return new BigNumber(0)\n    const target = balances?.find(balanceObj => balanceObj.token.id === longOtoken?.id)\n    return target ? target.balance : new BigNumber(0)\n  }, [balances, longOtoken])\n\n  const shortBalance = useMemo(() => {\n    if (!balances) return new BigNumber(0)\n    const target = balances?.find(balanceObj => balanceObj.token.id === shortOtoken?.id)\n    return target ? target.balance : new BigNumber(0)\n  }, [balances, shortOtoken])\n\n  // set collateral type when short or long is selected first\n  useEffect(() => {\n    if (shortOtoken) {\n      setVaultExpiry(shortOtoken.expiryTimestamp)\n      const collateralIdx = collateralTokens.findIndex(token => token.id === shortOtoken.collateralAsset.id)\n      // don't update selected collateral to WETH if user chose ETH\n      if (usePayableProxy && collateralTokens[collateralIdx].symbol === 'WETH') return\n      setSelectedCollateralIndex(collateralIdx)\n    } else if (longOtoken) {\n      setVaultExpiry(longOtoken.expiryTimestamp)\n      const collateralIdx = collateralTokens.findIndex(token => token.id === longOtoken.collateralAsset.id)\n      // don't update selected collateral to WETH if user chose ETH\n      if (usePayableProxy && collateralTokens[collateralIdx].symbol === 'WETH') return\n      setSelectedCollateralIndex(collateralIdx)\n    } else {\n      setVaultExpiry('0')\n    }\n  }, [networkId, shortOtoken, longOtoken, setVaultExpiry, collateralTokens, usePayableProxy])\n\n  // short tokens to be shown in dropdown\n  const allShorts = useMemo(() => {\n    if (!allOtokens) return []\n\n    const sameCollateral = allOtokens.filter(\n      o =>\n        o.collateralAsset.id === collateralToken.id ||\n        (collateralToken.id === ZERO_ADDR && o.collateralAsset.symbol === 'WETH'),\n    )\n\n    const sameExpiry = sameCollateral.filter(o => o.expiryTimestamp === vaultExpiry || vaultExpiry === '0')\n\n    return sameExpiry\n  }, [allOtokens, collateralToken, vaultExpiry])\n\n  // long tokens needs to be something that user have in their wallet.\n  const allLongs = useMemo(() => {\n    if (!allOtokens) return []\n    if (!balances) return allShorts\n    // which user has balance\n    const hasBalance = allShorts.filter(short => {\n      const target = balances.find(b => b.token.id === short.id)\n      return target !== undefined && target.balance.gt(new BigNumber(0))\n    })\n    return hasBalance\n  }, [allOtokens, balances, allShorts])\n\n  const pushAddCollateral = useCallback(() => {\n    // if using eth, from address is payable proxy\n    let from = user\n    if (collateralToken.id === ZERO_ADDR) {\n      const proxy = getPayableProxyAddr(networkId)\n      if (!proxy) {\n        toast.error('No payable proxy found')\n        return\n      }\n      from = proxy.address.toLowerCase()\n    }\n    controller.pushAddCollateralArg(\n      user,\n      vaultId,\n      from,\n      collateralToken.id,\n      fromTokenAmount(changeCollateralAmount, collateralToken.decimals),\n    )\n\n    setChangeCollateralAmount(new BigNumber(0))\n    setPendingCollateralAmount(` + ${changeCollateralAmount.toString()}`)\n  }, [collateralToken, controller, user, vaultId, changeCollateralAmount, networkId, toast])\n\n  const pushRemoveCollateral = useCallback(() => {\n    let to = user\n    if (collateralToken.id === ZERO_ADDR) {\n      const proxy = getPayableProxyAddr(networkId)\n      if (!proxy) {\n        toast.error('No payable proxy deployed')\n        return\n      }\n      to = proxy.address.toLowerCase()\n    }\n    controller.pushRemoveCollateralArg(\n      user,\n      vaultId,\n      to,\n      collateralToken.id,\n      fromTokenAmount(changeCollateralAmount, collateralToken.decimals),\n    )\n    setChangeCollateralAmount(new BigNumber(0))\n    setPendingCollateralAmount(` - ${changeCollateralAmount.toString()}`)\n  }, [\n    controller,\n    user,\n    vaultId,\n    collateralToken.id,\n    collateralToken.decimals,\n    changeCollateralAmount,\n    networkId,\n    toast,\n  ])\n\n  const pushAddLong = useCallback(() => {\n    if (!longOtoken) {\n      toast.info('No long token selected')\n      return\n    }\n    const oToken = vaultDetail && vaultDetail.longOToken ? vaultDetail.longOToken.id : longOtoken.id\n    controller.pushAddLongArg(user, vaultId, user, oToken, fromTokenAmount(changeLongAmount, 8))\n    setChangeLongAmount(new BigNumber(0))\n    setPendingLongAmount(` + ${changeLongAmount.toString()}`)\n  }, [toast, vaultDetail, longOtoken, controller, user, vaultId, changeLongAmount])\n\n  const pushRemoveLong = useCallback(() => {\n    if (!longOtoken) {\n      toast.info('No long token selected')\n      return\n    }\n    const oToken = vaultDetail && vaultDetail.longOToken ? vaultDetail.longOToken.id : longOtoken.id\n    controller.pushRemoveLongArg(user, vaultId, user, oToken, fromTokenAmount(changeLongAmount, 8))\n    setChangeLongAmount(new BigNumber(0))\n    setPendingLongAmount(` - ${changeLongAmount.toString()}`)\n  }, [toast, vaultDetail, longOtoken, controller, user, vaultId, changeLongAmount])\n\n  const pushMint = useCallback(() => {\n    if (!shortOtoken) {\n      toast.info('No short token selected')\n      return\n    }\n    const oToken = vaultDetail && vaultDetail.shortOToken ? vaultDetail.shortOToken.id : shortOtoken.id\n    controller.pushMintArg(user, vaultId, user, oToken, fromTokenAmount(changeShortAmount, 8))\n    setChangeShortAmount(new BigNumber(0))\n    setPendingShortAmount(` + ${changeShortAmount.toString()}`)\n  }, [toast, vaultDetail, shortOtoken, controller, user, vaultId, changeShortAmount])\n\n  const pushBurn = useCallback(async () => {\n    if (!shortOtoken) {\n      toast.info('No short token selected')\n      return\n    }\n    const oToken = vaultDetail && vaultDetail.shortOToken ? vaultDetail.shortOToken.id : shortOtoken.id\n    controller.pushBurnArg(user, vaultId, user, oToken, fromTokenAmount(changeShortAmount, 8))\n    setChangeShortAmount(new BigNumber(0))\n    setPendingShortAmount(` - ${changeShortAmount.toString()}`)\n  }, [toast, vaultDetail, shortOtoken, controller, user, vaultId, changeShortAmount])\n\n  const expired = useMemo(() => {\n    if (!vaultDetail) return false\n\n    if (vaultDetail.shortOToken && isExpired(vaultDetail.shortOToken)) return true\n\n    if (vaultDetail.longOToken && isExpired(vaultDetail.longOToken)) return true\n\n    return false\n  }, [vaultDetail])\n\n  const settleAllowed = useMemo(() => {\n    if (!vaultDetail) return false\n\n    if (vaultDetail.shortOToken && isSettlementAllowed(vaultDetail.shortOToken, allOracleAssets)) return true\n\n    if (vaultDetail.longOToken && isSettlementAllowed(vaultDetail.longOToken, allOracleAssets)) return true\n\n    return false\n  }, [vaultDetail, allOracleAssets])\n\n  const simpleSettle = useCallback(async () => {\n    await controller.settleBatch(user, [vaultId], user)\n  }, [controller, user, vaultId])\n\n  const renderRow = useCallback(\n    ({\n      label,\n      symbol,\n      asset,\n      amount,\n      balance,\n      decimals,\n      onInputChange,\n      inputValue,\n      onClickAdd,\n      onClickMinus,\n      dropdownSelected,\n      dropdownOnChange,\n      dropdownItems,\n      pendingAmount,\n    }) => {\n      const amountToDisplay = amount ? (\n        <div>\n          {' '}\n          {toTokenAmount(new BigNumber(amount), decimals).toFixed(6)}{' '}\n          <span style={{ opacity: 0.5 }}> {pendingAmount} </span>{' '}\n        </div>\n      ) : (\n        <div>\n          0 <span style={{ opacity: 0.5 }}> {pendingAmount} </span>{' '}\n        </div>\n      )\n      const pendingBalance = label === 'Short' ? pendingAmount : inversePendingAmountString(pendingAmount)\n      const balanceToDisplay = (\n        <div>\n          {' '}\n          {toTokenAmount(balance, decimals).toFixed(6)} <span style={{ opacity: 0.5 }}> {pendingBalance} </span>{' '}\n        </div>\n      )\n\n      const weth = getWeth(networkId)\n      const ethIdx = collateralTokens.findIndex(t => t.id === ZERO_ADDR)\n      const wethIdx = collateralTokens.findIndex(t => t.id === weth.id)\n      const assetOrDropDown = asset ? (\n        asset === weth.id && hasAuthorizedPayalbeProxy ? (\n          <div>\n            <Button\n              onClick={() => {\n                setUsePayableProxy(false)\n                setSelectedCollateralIndex(wethIdx)\n              }}\n              mode={selectedCollateralIndex === wethIdx ? 'positive' : 'normal'}\n            >\n              {' '}\n              WETH{' '}\n            </Button>\n            <Button\n              onClick={() => {\n                setUsePayableProxy(true)\n                setSelectedCollateralIndex(ethIdx)\n              }}\n              mode={selectedCollateralIndex === ethIdx ? 'positive' : 'normal'}\n            >\n              {' '}\n              ETH{' '}\n            </Button>\n          </div>\n        ) : (\n          <CustomIdentityBadge shorten={true} entity={asset} label={symbol} />\n        )\n      ) : (\n        <DropDown\n          disabled={dropdownItems.length === 0}\n          placeholder={dropdownItems.length === 0 ? 'No Asset available' : 'Select an item'}\n          items={dropdownItems}\n          selected={dropdownSelected}\n          onChange={dropdownOnChange}\n        />\n      )\n\n      return [\n        <div style={{ opacity: 0.8 }}> {label} </div>,\n        assetOrDropDown,\n        // balanceToDisplay,\n        <LinkBase onClick={() => onInputChange(toTokenAmount(balance, decimals))}> {balanceToDisplay} </LinkBase>,\n        amountToDisplay,\n        <>\n          <TextInput\n            type=\"number\"\n            disabled={expired}\n            onChange={event => onInputChange(event.target.value)}\n            value={inputValue}\n          />\n          <Button label=\"Add\" disabled={expired} display=\"icon\" icon={<IconCirclePlus />} onClick={onClickAdd} />\n          <Button label=\"Remove\" disabled={expired} display=\"icon\" icon={<IconCircleMinus />} onClick={onClickMinus} />\n        </>,\n      ]\n    },\n    [expired, hasAuthorizedPayalbeProxy, networkId, selectedCollateralIndex, collateralTokens],\n  )\n\n  const onClickOperate = useCallback(() => {\n    console.log(`onClickOperate, triggered`)\n    setIsSendingTx(true)\n    controller.operateCache(\n      () => {\n        setIsSendingTx(false)\n        refetch()\n        setPendingCollateralAmount('')\n        setPendingLongAmount('')\n        setPendingShortAmount('')\n      },\n      () => {\n        setIsSendingTx(false)\n        refetch()\n      },\n    )\n  }, [refetch, controller])\n\n  return (\n    <StyledContainer>\n      <Header\n        primary={\n          <div style={{ fontSize: 26 }}>\n            Vault Detail{' '}\n            {isAuthorized && (\n              <span style={{ paddingBottom: 10 }}>\n                <Tag mode=\"new\">My vault</Tag>\n              </span>\n            )}\n          </div>\n        }\n        secondary={\n          expired ? (\n            <Button disabled={!settleAllowed} label=\"Settle\" onClick={simpleSettle} />\n          ) : (\n            <div style={{ display: 'flex' }}>\n              <Button\n                label={'operate'}\n                mode=\"strong\"\n                disabled={controller.actions.length === 0 || isSendingTx}\n                onClick={onClickOperate}\n              >\n                {' '}\n                Operate{' '}\n                {isSendingTx ? (\n                  <LoadingRing />\n                ) : (\n                  <span style={{ paddingLeft: '7px' }}>\n                    <Tag>{controller.actions.length}</Tag>\n                  </span>\n                )}\n              </Button>\n              <Button\n                label={'trash'}\n                disabled={controller.actions.length === 0}\n                display=\"icon\"\n                icon={<IconTrash />}\n                onClick={() => {\n                  controller.cleanActionCache()\n                  setPendingCollateralAmount('')\n                  setPendingLongAmount('')\n                  setPendingShortAmount('')\n                }}\n              />\n            </div>\n          )\n        }\n      />\n      <DataView\n        mode=\"table\"\n        status={isLoading ? 'loading' : 'default'}\n        fields={['type', 'asset', 'wallet balance', 'vault balance', '']}\n        entries={[\n          {\n            label: 'Collateral',\n            decimals: collateralToken.decimals,\n            symbol: collateralToken.symbol,\n            asset: vaultDetail?.collateralAsset?.id,\n            amount: vaultDetail?.collateralAmount,\n            pendingAmount: pendingCollateralAmount,\n            inputValue: changeCollateralAmount,\n            onInputChange: value =>\n              value ? setChangeCollateralAmount(new BigNumber(value)) : setChangeCollateralAmount(new BigNumber(0)),\n            onClickAdd: pushAddCollateral,\n            onClickMinus: pushRemoveCollateral,\n            dropdownSelected: selectedCollateralIndex,\n            dropdownOnChange: setSelectedCollateralIndex,\n            dropdownItems: collateralTokens.map(o => o.symbol),\n            balance: collateralBalance,\n          },\n          {\n            label: 'Long',\n            decimals: 8,\n            symbol: vaultDetail?.longOToken?.symbol,\n            asset: vaultDetail?.longOToken?.id,\n            amount: vaultDetail?.longAmount,\n            pendingAmount: pendingLongAmount,\n            inputValue: changeLongAmount,\n            onInputChange: value =>\n              value ? setChangeLongAmount(new BigNumber(value)) : setChangeLongAmount(new BigNumber(0)),\n            onClickAdd: pushAddLong,\n            onClickMinus: pushRemoveLong,\n            dropdownSelected: longOtoken ? allLongs.findIndex(o => o.id === longOtoken.id) : -1,\n            dropdownOnChange: (idx: number) => {\n              if (idx === -1 || !allLongs[idx]) setLongOToken(null)\n              else setLongOToken(allLongs[idx])\n            },\n            dropdownItems: allLongs.map(o => o.symbol),\n            balance: longBalance,\n          },\n          {\n            label: 'Short',\n            decimals: 8,\n            symbol: vaultDetail?.shortOToken?.symbol,\n            asset: vaultDetail?.shortOToken?.id,\n            amount: vaultDetail?.shortAmount,\n            pendingAmount: pendingShortAmount,\n            inputValue: changeShortAmount,\n            onInputChange: value =>\n              value ? setChangeShortAmount(new BigNumber(value)) : setChangeShortAmount(new BigNumber(0)),\n            onClickAdd: pushMint,\n            onClickMinus: pushBurn,\n            dropdownSelected: shortOtoken ? allShorts.findIndex(o => o.id === shortOtoken.id) : -1,\n            dropdownOnChange: (idx: number) => {\n              if (idx === -1 || !allShorts[idx]) setShortOToken(null)\n              else setShortOToken(allShorts[idx])\n            },\n            dropdownItems: allShorts.map(o => o.symbol),\n            balance: shortBalance,\n          },\n        ]}\n        renderEntry={renderRow}\n      />\n      <br />\n      <br />\n      <History id={fetchCount} />\n    </StyledContainer>\n  )\n}\n\nfunction inversePendingAmountString(amount: string): string {\n  if (amount.includes('-')) return amount.replace('-', '+')\n  else if (amount.includes('+')) return amount.replace('+', '-')\n  else return amount\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport ReactGA from 'react-ga'\nimport { DataView, DropDown, Tag, Help } from '@aragon/ui'\nimport BigNumber from 'bignumber.js'\nimport LabelText from '../../../components/LabelText'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\n\nimport { expiryToDate, toTokenAmount } from '../../../utils/math'\nimport Header from '../../../components/Header'\nimport SectionTitle from '../../../components/SectionHeader'\nimport StyledContainer from '../../../components/StyledContainer'\n\nimport { SubgraphPriceEntry } from '../../../types'\nimport { pricerMap } from './config'\nimport { ZERO_ADDR } from '../../../constants/addresses'\nimport { PRICE_SUBMISSION } from '../../../constants/dataviewContents'\nimport { useExpiryPriceData } from '../../../hooks/useExpiryPriceData'\n\nexport default function Oracle() {\n  useEffect(() => {\n    ReactGA.pageview('/protocol/oracle/')\n  }, [])\n\n  const [selectedAssetIndex, setSelectedAssetIndex] = useState(-1)\n  const [assetHistory, setAssetHistory] = useState<SubgraphPriceEntry[]>([])\n\n  const { allOracleAssets, isLoading } = useExpiryPriceData()\n\n  const haveValidSelection = useMemo(\n    () => allOracleAssets.length > 0 && selectedAssetIndex !== -1,\n    [allOracleAssets, selectedAssetIndex],\n  )\n\n  // update ths history array\n  useEffect(() => {\n    if (!haveValidSelection) return\n    setAssetHistory(allOracleAssets[selectedAssetIndex].prices)\n  }, [selectedAssetIndex, allOracleAssets, haveValidSelection])\n\n  return (\n    <StyledContainer>\n      <Header primary=\"Oracle\" />\n      In Opyn v2, we need on-chain prices for underlying assets to settle oTokens.\n      <SectionTitle title=\"Choose an Asset\" />\n      <DropDown\n        disabled={!allOracleAssets || allOracleAssets.length === 0}\n        items={allOracleAssets ? allOracleAssets.map(p => p.asset.symbol) : []}\n        selected={selectedAssetIndex}\n        onChange={setSelectedAssetIndex}\n      />\n      <SectionTitle title=\"Asset Detail\" />\n      <div style={{ display: 'flex', alignItems: 'center', paddingBottom: '3%' }}>\n        <div style={{ width: '30%' }}>\n          <LabelText label=\"Pricer\" />\n          <CustomIdentityBadge\n            label={haveValidSelection ? pricerMap[allOracleAssets[selectedAssetIndex].asset.symbol] : 'Unknown'}\n            entity={haveValidSelection ? allOracleAssets[selectedAssetIndex].pricer.id : ZERO_ADDR}\n          />\n        </div>\n\n        <div style={{ width: '30%' }}>\n          <div style={{ display: 'flex' }}>\n            <LabelText label=\"Locking Period\" />\n            <Help hint={'What is locking period'}>\n              Period of time after expiry that price submission will not be accepted.\n            </Help>\n          </div>\n          <div style={{ paddingTop: '3%' }}>\n            {haveValidSelection ? Number(allOracleAssets[selectedAssetIndex].pricer.lockingPeriod) / 60 : 0} Minutes\n          </div>\n        </div>\n\n        <div style={{ width: '30%' }}>\n          <div style={{ display: 'flex' }}>\n            {' '}\n            <LabelText label=\"Dispute Period\" />{' '}\n            <Help hint={'What is dispute period'}>\n              Period of time after price submission that the price can be overrided by the disputer.\n            </Help>{' '}\n          </div>\n          <div style={{ paddingTop: '3%' }}>\n            {haveValidSelection ? Number(allOracleAssets[selectedAssetIndex].pricer.disputePeriod) / 60 : 0} Minutes\n          </div>\n        </div>\n      </div>\n      <SectionTitle title=\"Price Submissions\" />\n      <DataView\n        status={isLoading ? 'loading' : 'default'}\n        fields={['Expiry', 'Price', 'Submitted Timestamp', 'Submitted By']}\n        emptyState={PRICE_SUBMISSION}\n        entriesPerPage={8}\n        entries={assetHistory.sort((a, b) => (Number(a.expiry) > Number(b.expiry) ? -1 : 1))}\n        renderEntry={({ expiry, reportedTimestamp, price, isDisputed }: SubgraphPriceEntry) => {\n          const tag = isDisputed ? <Tag mode=\"new\"> Disputer </Tag> : <Tag> Pricer </Tag>\n          return [\n            expiryToDate(expiry),\n            `${toTokenAmount(new BigNumber(price), 8).toString()} USD`,\n            reportedTimestamp,\n            tag,\n          ]\n        }}\n      />\n    </StyledContainer>\n  )\n}\n","import React, { useMemo, useEffect, useState, useCallback } from 'react'\nimport ReactGA from 'react-ga'\nimport { useHistory } from 'react-router-dom'\nimport { Col, Row } from 'react-grid-system'\nimport { Button, TextInput, DataView, IconSearch, Timer, Tag, IconGraph } from '@aragon/ui'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport Header from '../../../components/Header'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\nimport StyledContainer from '../../../components/StyledContainer'\n\nimport { SubgraphOToken } from '../../../types'\n\nimport { simplifyOTokenSymbol } from '../../../utils/others'\nimport { getOTokens } from '../../../utils/graph'\nimport { toTokenAmount, timeSince } from '../../../utils/math'\n\nimport useAsyncMemo from '../../../hooks/useAsyncMemo'\nimport { useCustomToast } from '../../../hooks'\n\nexport default function OtokenList() {\n  useEffect(() => {\n    ReactGA.pageview('protocol/otokens/')\n  }, [])\n\n  const [isLoading, setIsLoading] = useState(true)\n\n  const { networkId } = useConnectedWallet()\n\n  const toast = useCustomToast()\n\n  const [page, setPage] = useState(0)\n\n  const [searchStr, setSearchStr] = useState('')\n\n  const onChangeSearch = useCallback(event => {\n    setSearchStr(event.target.value)\n  }, [])\n\n  useEffect(() => {\n    setPage(0)\n  }, [searchStr])\n\n  const oTokens = useAsyncMemo(\n    async () => {\n      const result = await getOTokens(networkId, toast.error)\n      setIsLoading(false)\n      return result\n    },\n    [],\n    [networkId, toast.error],\n  )\n\n  const oTokensToShow = useMemo(() => {\n    return oTokens.filter(o => !searchStr || o.symbol.includes(searchStr) || o.name.includes(searchStr))\n  }, [searchStr, oTokens])\n\n  const history = useHistory()\n\n  const renderOTokenRow = useCallback(\n    (otoken: SubgraphOToken) => {\n      // 'oToken', 'strike', 'expiry', 'type', 'creator', 'created'\n      return [\n        simplifyOTokenSymbol(otoken.symbol),\n        toTokenAmount(otoken.strikePrice, 8).toFixed(0),\n        <Timer end={Number(otoken.expiryTimestamp) * 1000} />,\n        otoken.isPut ? (\n          <Tag color=\"#800000\" background=\"#ffb3b3\">\n            {' '}\n            Put{' '}\n          </Tag>\n        ) : (\n          <Tag color=\"#006600\" background=\"#c2f0c2\">\n            {' '}\n            Call{' '}\n          </Tag>\n        ),\n        <CustomIdentityBadge entity={otoken.creator} />,\n        timeSince(Number(otoken.createdAt) * 1000),\n        <Button icon={<IconGraph />} onClick={() => history.push(`/otoken/${otoken.id}`)} />,\n      ]\n    },\n    [history],\n  )\n\n  return (\n    <StyledContainer>\n      <Header primary={'OTokens'} />\n      <Row style={{ paddingBottom: 30 }}>\n        <Col>\n          <TextInput\n            value={searchStr}\n            onChange={onChangeSearch}\n            wide\n            adornmentPosition=\"end\"\n            adornment={<IconSearch />}\n          />\n        </Col>\n        <Col>{/* <DropDown></DropDown> */}</Col>\n      </Row>\n\n      <DataView\n        status={isLoading ? 'loading' : 'default'}\n        fields={['oToken', 'strike', 'expiry', 'type', 'creator', 'created', '']}\n        entries={oTokensToShow}\n        renderEntry={renderOTokenRow}\n        entriesPerPage={8}\n        page={page}\n        onPageChange={setPage}\n      />\n    </StyledContainer>\n  )\n}\n","import React, { useMemo, useEffect, useState, useCallback } from 'react'\nimport ReactGA from 'react-ga'\nimport { Col, Row } from 'react-grid-system'\nimport { useParams } from 'react-router-dom'\nimport { Box, AddressField, Button, DataView, IconExternal, Tag, TransactionBadge } from '@aragon/ui'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport Header from '../../../components/Header'\nimport SectionTitle from '../../../components/SectionHeader'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\nimport StyledContainer from '../../../components/StyledContainer'\n\nimport { useCustomToast, useTokenPrice, useExpiryPriceData } from '../../../hooks'\nimport useAsyncMemo from '../../../hooks/useAsyncMemo'\nimport { getOToken, getHolders, getMintersForOToken, getOTokenTrades } from '../../../utils/graph'\nimport { simplifyOTokenSymbol, isExpired, getExpiryPayout } from '../../../utils/others'\nimport { toTokenAmount, fromTokenAmount, timeSince } from '../../../utils/math'\nimport { getTokenImg } from '../../../imgs/utils'\nimport { networkIdToExplorer } from '../../../constants'\nimport BigNumber from 'bignumber.js'\nimport { OTokenTrade } from '../../../types'\n\nexport default function Otoken() {\n  useEffect(() => {\n    ReactGA.pageview('account/otoken/')\n  }, [])\n\n  const [isLoading, setIsLoading] = useState(true)\n  const [page, setPage] = useState(0)\n\n  const { networkId } = useConnectedWallet()\n  const { otoken } = useParams()\n\n  const { allOracleAssets } = useExpiryPriceData()\n\n  const toast = useCustomToast()\n\n  const tokenDetails = useAsyncMemo(\n    async () => {\n      const result = await getOToken(otoken, networkId, toast.error)\n      setIsLoading(false)\n      return result\n    },\n    null,\n    [otoken, networkId],\n  )\n\n  const holders = useAsyncMemo(\n    async () => {\n      return await getHolders(otoken, networkId, toast.error)\n    },\n    [],\n    [otoken, networkId],\n  )\n\n  const sellers = useAsyncMemo(\n    async () => {\n      return await getMintersForOToken(otoken, networkId, toast.error)\n    },\n    [],\n    [otoken, networkId],\n  )\n\n  const trades = useAsyncMemo(\n    async () => {\n      return await getOTokenTrades(networkId, otoken, toast.error)\n    },\n    [],\n    [otoken, networkId, tokenDetails],\n  )\n\n  const volume = useMemo(() => {\n    if (!tokenDetails) return new BigNumber(0)\n    const totalOTokenRawAmt = trades.reduce((prev, curr) => {\n      return prev.plus(curr.oTokenAmount)\n    }, new BigNumber(0))\n    const totalOTokenAmt = toTokenAmount(totalOTokenRawAmt, 8)\n    const strikePrice = toTokenAmount(tokenDetails?.strikePrice, 8)\n    return strikePrice.multipliedBy(totalOTokenAmt)\n  }, [trades, tokenDetails])\n\n  const underlyingPrice = useTokenPrice(tokenDetails?.underlyingAsset.id || undefined, 30)\n\n  const tokenExpired = useMemo(() => (tokenDetails ? isExpired(tokenDetails) : false), [tokenDetails])\n\n  const payOut = useMemo(() => {\n    if (tokenDetails === null) return new BigNumber(0)\n    const asset = allOracleAssets.find(a => a.asset.id === tokenDetails.underlyingAsset.id)\n    if (!asset) return new BigNumber(0)\n    const expiryPrice = asset.prices.find(p => p.expiry === tokenDetails.expiryTimestamp)?.price\n    if (expiryPrice === undefined) return new BigNumber(-1)\n\n    return getExpiryPayout(tokenDetails, '100000000', expiryPrice)\n  }, [allOracleAssets, tokenDetails])\n\n  const estPayOut = useMemo(() => {\n    if (tokenDetails === null) return new BigNumber(0)\n    return getExpiryPayout(tokenDetails, '100000000', fromTokenAmount(underlyingPrice, 8).toString())\n  }, [underlyingPrice, tokenDetails])\n\n  const renderTradeRow = useCallback(\n    (trade: OTokenTrade) => {\n      // amount', 'price', 'seller', 'buyer', 'timestamp', 'tx\n      return [\n        toTokenAmount(trade.oTokenAmount, 8).toFixed(2),\n        toTokenAmount(trade.paymentTokenAmount, trade.paymentToken.decimals)\n          .div(toTokenAmount(trade.oTokenAmount, 8))\n          .toFixed(4),\n        <CustomIdentityBadge entity={trade.seller} />,\n        <CustomIdentityBadge entity={trade.buyer} />,\n        timeSince(Number(trade.timestamp) * 1000),\n        <TransactionBadge\n          transaction={trade.transactionHash}\n          networkType={networkId === 1 ? 'main' : networkId === 42 ? 'kovan' : 'rinkeby'}\n        />,\n      ]\n    },\n    [networkId],\n  )\n\n  return (\n    <StyledContainer>\n      {tokenDetails === null ? (\n        <SectionTitle title=\"Token Not Found on this network. \" />\n      ) : (\n        <>\n          <Header\n            primary={\n              <div style={{ fontSize: 26 }}>\n                {simplifyOTokenSymbol(tokenDetails.symbol)}\n                {tokenExpired ? <Tag> Expired </Tag> : <Tag mode=\"new\"> Live </Tag>}\n                <Button\n                  icon={<IconExternal />}\n                  size=\"mini\"\n                  onClick={() => {\n                    window.open(`${networkIdToExplorer[networkId]}/address/${tokenDetails.id}`)\n                  }}\n                />\n              </div>\n            }\n            title={simplifyOTokenSymbol(tokenDetails.symbol)}\n          />\n          <Row>\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Underlying\">\n                <AddressField\n                  address={tokenDetails.underlyingAsset.id}\n                  icon={\n                    getTokenImg(tokenDetails.underlyingAsset) ? (\n                      <img height={20} src={getTokenImg(tokenDetails.underlyingAsset) as string} alt={'underlying'} />\n                    ) : null\n                  }\n                />\n              </Box>\n            </Col>\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Strike\">\n                <AddressField\n                  address={tokenDetails.strikeAsset.id}\n                  icon={\n                    getTokenImg(tokenDetails.strikeAsset) ? (\n                      <img height={20} src={getTokenImg(tokenDetails.strikeAsset) as string} alt={'strike'} />\n                    ) : null\n                  }\n                />\n              </Box>\n            </Col>\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Collateral\">\n                <AddressField\n                  address={tokenDetails.collateralAsset.id}\n                  icon={\n                    getTokenImg(tokenDetails.collateralAsset) ? (\n                      <img height={20} src={getTokenImg(tokenDetails.collateralAsset) as string} alt={'colla'} />\n                    ) : null\n                  }\n                />\n              </Box>\n            </Col>\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Open Interest\">\n                <div style={{ display: 'flex', height: 40 }}>\n                  <div style={{ fontSize: 20, paddingRight: 10 }}>\n                    {toTokenAmount(tokenDetails.totalSupply, 8).toFormat()}\n                  </div>\n                  {getTokenImg(tokenDetails) ? (\n                    <img\n                      style={{ paddingTop: 3 }}\n                      height={30}\n                      src={getTokenImg(tokenDetails) || undefined}\n                      alt={'colla'}\n                    />\n                  ) : null}\n                </div>\n              </Box>\n            </Col>\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Holders\">\n                <div style={{ display: 'flex', height: 40 }}>{holders?.length}</div>\n              </Box>\n            </Col>\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Sellers\">\n                <div style={{ display: 'flex', height: 40 }}>{sellers?.length}</div>\n              </Box>\n            </Col>\n            {\n              <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n                {tokenExpired ? (\n                  <Box heading=\"Payout\">\n                    <div style={{ display: 'flex', height: 40 }}>\n                      {`${payOut.toFixed(6)} ${tokenDetails.collateralAsset.symbol}`}\n                    </div>\n                  </Box>\n                ) : (\n                  <Box heading=\"Est. Payout\">\n                    <div style={{ display: 'flex', height: 40 }}>\n                      {`${estPayOut.toFixed(6)} ${tokenDetails.collateralAsset.symbol}`}\n                    </div>\n                    {/* <Timer format=\"dhm\" showIcon end={new Date(Number(tokenDetails.expiryTimestamp) * 1000)} /> */}\n                  </Box>\n                )}\n              </Col>\n            }\n            <Col md={6} sm={12} lg={4} xl={3} style={{ paddingTop: 10 }}>\n              <Box heading=\"Notional Volume\">\n                <div style={{ display: 'flex', height: 40 }}>${volume.toFormat()}</div>\n              </Box>\n            </Col>\n          </Row>\n\n          <Row style={{ paddingTop: 10 }}>\n            <Col lg={12}>\n              <DataView\n                status={isLoading ? 'loading' : 'default'}\n                heading=\"Recent Trades\"\n                fields={['amount', 'price', 'seller', 'buyer', 'timestamp', 'tx']}\n                entries={trades}\n                renderEntry={renderTradeRow}\n                entriesPerPage={5}\n                page={page}\n                onPageChange={setPage}\n              />\n            </Col>\n          </Row>\n        </>\n      )}\n    </StyledContainer>\n  )\n}\n","import React, { useEffect, useState, useCallback, useMemo } from 'react'\nimport ReactGA from 'react-ga'\nimport { Button, DataView, SyncIndicator, Info, useTheme, Split } from '@aragon/ui'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport Header from '../../../components/Header'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { regular, red, green } from '../../../components/StyleDiv'\nimport { LIQ_CALL_VAULT_STATE, LIQ_PUT_VAULT_STATE } from '../../../constants/dataviewContents'\n\nimport { useLiquidationStatus } from '../../../hooks'\nimport OpynTokenAmount from '../../../components/OpynTokenAmount'\nimport { getWeth, SupportedNetworks, getPrimaryPaymentToken } from '../../../constants'\nimport BigNumber from 'bignumber.js'\nimport { useController } from '../../../hooks/useController'\n\nexport default function Liquidation() {\n  useEffect(() => {\n    ReactGA.pageview('protocol/liquidation/')\n  }, [])\n\n  const { networkId } = useConnectedWallet()\n\n  const [putPage, setPutPage] = useState(0)\n  const [callPage, setCallPage] = useState(0)\n\n  const weth = useMemo(() => getWeth(networkId), [networkId])\n\n  const { vaults, isSyncing, isInitializing, spotPrice } = useLiquidationStatus(weth, 30)\n\n  const putVaults = useMemo(\n    () =>\n      vaults\n        .filter(vault => vault.shortOToken?.isPut)\n        .sort((a, b) => (a.liquidationPrice.gt(b.liquidationPrice) ? -1 : 1)),\n    [vaults],\n  )\n\n  const callVaults = useMemo(\n    () =>\n      vaults\n        .filter(vault => !vault.shortOToken?.isPut)\n        .sort((a, b) => (a.liquidationPrice.gt(b.liquidationPrice) ? 1 : -1)),\n    [vaults],\n  )\n\n  const totalCollateralPut = useMemo(\n    () => putVaults.reduce((prev, curr) => prev.plus(new BigNumber(curr.collateralAmount as string)), new BigNumber(0)),\n    [putVaults],\n  )\n\n  const totalCollateralCalls = useMemo(\n    () =>\n      callVaults.reduce((prev, curr) => prev.plus(new BigNumber(curr.collateralAmount as string)), new BigNumber(0)),\n    [callVaults],\n  )\n\n  const { liquidate } = useController()\n\n  const handleLiquidate = useCallback(\n    async (vaultOwner: string, vaultId: string, amount: string, roundId: string) => {\n      await liquidate(vaultOwner, vaultId, amount, roundId)\n    },\n    [liquidate],\n  )\n\n  const renderVaultRow = useCallback(\n    vault => {\n      const collateralAmount = vault.collateralAmount ? vault.collateralAmount : '0'\n      const shortAmount = vault.shortAmount as string\n      return [\n        <CustomIdentityBadge entity={vault.owner.id} />,\n        <VaultHealth liqPrice={vault.liquidationPrice} spotPrice={spotPrice} isPut={vault.shortOToken?.isPut} />,\n        <OpynTokenAmount token={vault.collateralAsset} amount={collateralAmount} chainId={networkId} />,\n        liquidationPrice(vault.liquidationPrice),\n        <OpynTokenAmount token={vault.shortOToken} amount={shortAmount} chainId={networkId} />,\n        <Button\n          disabled={!vault.isLiquidatable}\n          label={'Liquidate'}\n          onClick={async () => {\n            await handleLiquidate(vault.owner.id, vault.vaultId, shortAmount, vault.round.roundIdHex)\n          }}\n        />,\n      ]\n    },\n    [networkId, handleLiquidate, spotPrice],\n  )\n\n  return (\n    <StyledContainer>\n      <Header primary={'Liquidation'} secondary={`ETH Price $${spotPrice}`} />\n      {networkId !== SupportedNetworks.Mainnet ? (\n        <Info> This monitor is only available on Mainnet </Info>\n      ) : (\n        <div>\n          <DataView\n            heading={\n              <Split\n                primary=\"Call Vaults\"\n                secondary={\n                  <OpynTokenAmount\n                    token={getWeth(networkId)}\n                    amount={totalCollateralCalls.toString()}\n                    chainId={networkId}\n                  />\n                }\n              />\n            }\n            status={isInitializing ? 'loading' : 'default'}\n            emptyState={LIQ_CALL_VAULT_STATE}\n            fields={['owner', 'statue', 'collateral', 'Liq price', 'short', '']}\n            entries={callVaults}\n            renderEntry={renderVaultRow}\n            entriesPerPage={5}\n            page={callPage}\n            onPageChange={setCallPage}\n            tableRowHeight={45}\n          />\n\n          <DataView\n            heading={\n              <Split\n                primary=\"Put Vaults\"\n                secondary={\n                  <OpynTokenAmount\n                    token={getPrimaryPaymentToken(networkId)}\n                    amount={totalCollateralPut.toString()}\n                    chainId={networkId}\n                  />\n                }\n              />\n            }\n            status={isInitializing ? 'loading' : 'default'}\n            emptyState={LIQ_PUT_VAULT_STATE}\n            fields={['owner', 'status', 'collateral', 'Liq price', 'short', '']}\n            entries={putVaults}\n            renderEntry={renderVaultRow}\n            entriesPerPage={5}\n            page={putPage}\n            onPageChange={setPutPage}\n            tableRowHeight={45}\n          />\n          <SyncIndicator visible={isSyncing} children={'Syncing Oracle Data '} />\n        </div>\n      )}\n    </StyledContainer>\n  )\n}\n\nconst liquidationPrice = (price: BigNumber) => {\n  return regular(`$${price.toFixed(0)}`)\n}\n\nfunction VaultHealth({ liqPrice, spotPrice, isPut }: { liqPrice: BigNumber; spotPrice: BigNumber; isPut: boolean }) {\n  const theme = useTheme()\n  if (isPut) {\n    if (spotPrice.times(0.9).lt(liqPrice)) return red('Danger')\n    else if (spotPrice.times(0.7).lt(liqPrice)) return <div style={{ color: theme.warning }}> Warning </div>\n    else return green('Safe')\n  } else {\n    if (spotPrice.times(1.1).gt(liqPrice)) return red('Danger')\n    else if (spotPrice.times(1.4).gt(liqPrice)) return <div style={{ color: theme.warning }}> Warning </div>\n    else return green('Safe')\n  }\n}\n","import React, { useState, useEffect, useMemo } from 'react'\nimport ReactGA from 'react-ga'\nimport { Col, Row, Container } from 'react-grid-system'\nimport { Button, DataView, TextInput, Tag } from '@aragon/ui'\nimport { useParams } from 'react-router-dom'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { useAuthorizedOperators } from '../../../hooks/useAuthorizedOperators'\nimport SectionTitle from '../../../components/SectionHeader'\nimport Header from '../../../components/Header'\nimport CustomIdentityBadge from '../../../components/CustomIdentityBadge'\nimport Comment from '../../../components/Comment'\nimport StyledContainer from '../../../components/StyledContainer'\n\nimport { knownOperators } from '../../../constants/addresses'\nimport { OPERATORS } from '../../../constants/dataviewContents'\n\nimport { useController } from '../../../hooks/useController'\n\nimport { SupportedNetworks } from '../../../constants'\n\nexport default function OperatorSection() {\n  const { account } = useParams()\n\n  useEffect(() => {\n    ReactGA.pageview('/account/operators/')\n  }, [])\n\n  const { networkId, user } = useConnectedWallet()\n\n  const { operators, isLoading } = useAuthorizedOperators(user)\n\n  const recommendedOperators = useMemo(\n    () => knownOperators[networkId].filter(o => !operators.find(added => added.address === o.address.toLowerCase())),\n    [networkId, operators],\n  )\n\n  const [newOperatorAddr, setNewOperatorAddr] = useState('')\n\n  const controller = useController()\n\n  async function revokeOperator(operator) {\n    await controller.updateOperator(operator, false)\n  }\n\n  async function addCustomOperator(address: string) {\n    await controller.updateOperator(address, true)\n  }\n\n  return (\n    <StyledContainer>\n      <Header primary=\"Operators\" />\n      Operators are addresses which can manipulate your vaults on your behalf.\n      {operators.length > 0 && (\n        <>\n          <SectionTitle title=\"Authorized Operators\" />\n          <DataView\n            status={isLoading ? 'loading' : 'default'}\n            fields={['label', 'description', 'author', 'tag', 'action']}\n            emptyState={OPERATORS}\n            entries={operators}\n            renderEntry={({ address, isEOA }) => {\n              const info = getOperatorDetail(address, networkId, isEOA)\n              return [\n                <CustomIdentityBadge shorten={false} entity={address} label={info.label} />,\n                <Comment text={info.description} padding={0} />,\n                info.author,\n                <Tag color={info.tagColor} background={info.tagBackground}>\n                  {' '}\n                  {info.tagText}{' '}\n                </Tag>,\n                <Button label=\"revoke\" onClick={() => revokeOperator(address)} />,\n              ]\n            }}\n          />\n        </>\n      )}\n      {recommendedOperators.length > 0 && (\n        <>\n          <SectionTitle title=\"Recommended Operators\" />\n          <DataView\n            status={isLoading ? 'loading' : 'default'}\n            fields={['contract name', 'description', 'author', 'tag', '']}\n            entries={recommendedOperators}\n            renderEntry={operator => {\n              const info = getOperatorDetail(operator.address, networkId, false)\n              return [\n                <CustomIdentityBadge shorten={false} entity={operator.address} label={info.label} />,\n                <Comment text={info.description} padding={0} />,\n                info.author,\n                <Tag color={info.tagColor} background={info.tagBackground}>\n                  {' '}\n                  {info.tagText}{' '}\n                </Tag>,\n                <Button mode=\"strong\" label=\"Add\" onClick={() => addCustomOperator(operator.address)} />,\n              ]\n            }}\n          />\n        </>\n      )}\n      {/* Add operator */}\n      <Container style={{ padding: 0 }}>\n        <SectionTitle title=\"Add Custom Operator\" />\n\n        <Row>\n          <Col xs={12} md={6} lg={5}>\n            <TextInput\n              type=\"text\"\n              wide\n              value={newOperatorAddr}\n              onChange={e => {\n                setNewOperatorAddr(e.target.value)\n              }}\n              readOnly={user !== account}\n            />\n          </Col>\n          <Col xs={12} md={6} lg={3}>\n            <Button label=\"Add\" onClick={() => addCustomOperator(newOperatorAddr)} disabled={account !== user} />\n          </Col>\n        </Row>\n      </Container>\n    </StyledContainer>\n  )\n}\n\nfunction getOperatorDetail(address: string, networkId: SupportedNetworks, isEOA: boolean) {\n  let tagText = 'un-audited'\n  let tagColor = '#FFC300'\n  let tagBackground = '#FFF8BC'\n  let label = 'Unknown'\n  let description = ''\n  let author = 'Unknown'\n  const operatorInfo = knownOperators[networkId].find(info => info.address.toLowerCase() === address.toLowerCase())\n  if (operatorInfo) {\n    label = operatorInfo.name\n    author = operatorInfo.author\n    description = operatorInfo.description\n    if (operatorInfo.audited) {\n      tagColor = '#006600'\n      tagBackground = '#c2f0c2'\n      tagText = 'audited'\n    }\n  } else if (isEOA) {\n    tagColor = '#800000'\n    tagBackground = '#ffb3b3'\n    tagText = 'EOA'\n    author = '-'\n  }\n  return {\n    tagText,\n    tagColor,\n    tagBackground,\n    label,\n    description,\n    author,\n  }\n}\n","import React, { useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport { useHistory } from 'react-router-dom'\nimport { Row, Col } from 'react-grid-system'\nimport BoxButton from '../../components/BoxButton'\nimport { Header, IconUser, IconConfiguration, IconSwap } from '@aragon/ui'\n\nimport Comment from '../../components/Comment'\nimport SectionTitle from '../../components/SectionHeader'\nimport StyledContainer from '../../components/StyledContainer'\n\nconst rysk = require('../../imgs/icons/rysk.svg')\nconst ribbon = require('../../imgs/icons/ribbon.svg')\nconst stakeDao = require('../../imgs/icons/stake-dao.png')\n\nfunction HomePage() {\n  const history = useHistory()\n  useEffect(() => ReactGA.pageview('/'), [])\n  return (\n    <StyledContainer>\n      <Header primary=\"Gamma Portal\" />\n\n      <Comment padding={0} text=\"Create, manage and trade decentralized options\" />\n\n      <SectionTitle title={'Core'} />\n      <Row>\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Account\"\n            description=\"Manage vaults and positions\"\n            icon={<IconUser size=\"large\" />}\n            onClick={() => {\n              history.push('/account/')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Protocol\"\n            description=\"Protocol configs\"\n            icon={<IconConfiguration size=\"large\" />}\n            onClick={() => {\n              history.push('/protocol/')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Trade\"\n            description=\"Trade with 0x\"\n            icon={<IconSwap size=\"large\" />}\n            onClick={() => {\n              history.push('/trade/')\n            }}\n          />\n        </Col>\n      </Row>\n\n      <SectionTitle title={'Applications'} />\n      <Row>\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Ribbon Finance\"\n            description=\"Leading DOV products\"\n            icon={<img height={50} src={ribbon} alt={'ribbon finance'} />}\n            onClick={() => {\n              window.open('https://ribbon.finance/', '_blank')\n            }}\n          />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Stake Dao\"\n            description=\"Explore automatic option strategies\"\n            icon={<img height={50} src={stakeDao} alt={'stake dao'} />}\n            onClick={() => {\n              window.open('https://stakedao.org/', '_blank')\n            }}\n          />\n        </Col>\n        <Col sm={12} md={6} lg={4}>\n          <BoxButton\n            title=\"Rysk Finance\"\n            description=\"Dynamic Hedging Vault\"\n            icon={<img height={50} src={rysk} alt={'Opeth Finance'} />}\n            onClick={() => {\n              window.open('https://www.rysk.finance/', '_blank')\n            }}\n          />\n        </Col>\n      </Row>\n\n      {/* <SectionTitle title={'Stats'} />\n\n      <Row>\n        <Col sm={12} md={6} lg={4}>\n          <TotalAsset />\n        </Col>\n\n        <Col sm={12} md={6} lg={4}></Col>\n\n        <Col sm={12} md={6} lg={4}></Col>\n      </Row> */}\n    </StyledContainer>\n  )\n}\n\nexport default HomePage\n","import React, { useState } from 'react'\n\nimport SectionTitle from '../../components/SectionHeader'\n\nimport { Switch } from '@aragon/ui'\nimport { storePreference, getPreference } from '../../utils/storage'\n\nfunction ThemeSwitch({ setTheme }: { setTheme: any }) {\n  const theme = getPreference('theme', 'light')\n\n  const [isDarkMode, setDarkMode] = useState(theme === 'dark')\n\n  return (\n    <>\n      <SectionTitle title=\"Theme\" />\n      <div style={{ display: 'flex' }}>\n        <div style={{ paddingRight: 20 }}> Dark Mode </div>\n        <div style={{ paddingTop: 3 }}>\n          {' '}\n          <Switch\n            checked={isDarkMode}\n            onChange={checked => {\n              setDarkMode(checked)\n              const newMode = checked ? 'dark' : 'light'\n              setTheme(newMode)\n              storePreference('theme', newMode)\n            }}\n          />{' '}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default ThemeSwitch\n","import React, { useState } from 'react'\n\nimport SectionTitle from '../../components/SectionHeader'\n\nimport { Switch, useToast, Help } from '@aragon/ui'\nimport { storePreference, getPreference } from '../../utils/storage'\n\nfunction ApproveSwitch() {\n  const mode = getPreference('approval', 'unlimited')\n  const toast = useToast()\n\n  const [isUnlimited, setLimited] = useState(mode === 'unlimited')\n\n  return (\n    <>\n      <div style={{ display: 'flex' }}>\n        <SectionTitle title=\"ERC20 Approve Mode\" />\n        <div style={{ paddingLeft: '10px', paddingTop: '25px' }}>\n          <Help hint={'What is this'}>\n            Enabling unlimited approval will enable smart contracts to move all your token balance with 1 approval\n            transaction.\n            <br />\n            This can save you from making duplicated \"approve\" transactions, but it's also considered risky because if\n            Opyn got exploit, the hacker may be able to move your ERC20 tokens from your wallet.\n          </Help>\n        </div>\n      </div>\n\n      <div style={{ display: 'flex' }}>\n        <div style={{ paddingRight: 20 }}> Unlimited Approval </div>\n        <div style={{ paddingTop: 3 }}>\n          {' '}\n          <Switch\n            checked={isUnlimited}\n            onChange={checked => {\n              setLimited(checked)\n              const newMode = checked ? 'unlimited' : 'normal'\n              storePreference('approval', newMode)\n              toast('Approval mode updated')\n            }}\n          />{' '}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default ApproveSwitch\n","import React, { useCallback } from 'react'\n\nimport SectionTitle from '../../components/SectionHeader'\n\nimport { Button, useToast } from '@aragon/ui'\n\nfunction ClearCache() {\n  const toast = useToast()\n  const clearCache = useCallback(() => {\n    window.localStorage.clear()\n    toast('Cache Cleared')\n  }, [toast])\n\n  return (\n    <>\n      <SectionTitle title=\"System Cache\" />\n      <div> This web app use browser storage to cache used accounts, address labels and system preference. </div>\n      <br />\n      <Button label=\"Clear Cache\" onClick={clearCache} />\n    </>\n  )\n}\n\nexport default ClearCache\n","import React from 'react'\n\nimport SectionTitle from '../../components/SectionHeader'\n\nimport { Button } from '@aragon/ui'\n\nimport { useController } from '../../hooks/useController'\n\nfunction Refresh() {\n  const { refreshConfig } = useController()\n\n  return (\n    <>\n      <SectionTitle title=\"Refresh Config\" />\n      <div> Refresh system config in the Controller contract </div>\n      <br />\n      <Button label=\"Refresh Controller\" onClick={refreshConfig} />\n    </>\n  )\n}\n\nexport default Refresh\n","import React, { useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport Header from '../../components/Header'\nimport StyledContainer from '../../components/StyledContainer'\nimport ThemeSwitch from './Theme'\nimport ApproveSwitch from './Approval'\nimport ClearCache from './ClearCache'\n// import Network from './Network'\nimport Refresh from './Refresh'\n\nfunction Settings({ setTheme }: { setTheme: any }) {\n  useEffect(() => ReactGA.pageview('/settings/'), [])\n  return (\n    <StyledContainer>\n      <Header primary=\"Settings\" />\n      <ThemeSwitch setTheme={setTheme} />\n      <br />\n      <ApproveSwitch />\n      <br />\n      {/* <ZeroXFee />\n      <br /> */}\n      <ClearCache />\n      <br />\n      <br />\n      {/* <Network /> */}\n      {/* <br /> */}\n      <Refresh />\n    </StyledContainer>\n  )\n}\n\nexport default Settings\n","import React, { useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport { useHistory } from 'react-router-dom'\nimport { Row, Col } from 'react-grid-system'\nimport BoxButton from '../../components/BoxButton'\nimport Header from '../../components/Header'\nimport StyledContainer from '../../components/StyledContainer'\nimport { IconGroup } from '@aragon/ui'\n\nimport Comment from '../../components/Comment'\n\nfunction TradePage() {\n  const history = useHistory()\n  useEffect(() => {\n    ReactGA.pageview('/trade/')\n  }, [])\n  return (\n    <StyledContainer>\n      <Header primary=\"Trade\" />\n      <Comment padding={0} text=\"Trade oTokens with 0x protocol!\" />\n      <br />\n      <br />\n\n      <>\n        <Row>\n          <Col sm={12} md={6} lg={4}>\n            <BoxButton\n              title=\"OTC\"\n              description=\"Private OTC Trade\"\n              icon={<IconGroup size=\"large\" />}\n              onClick={() => {\n                history.push('/trade/otc/')\n              }}\n            />\n          </Col>\n\n          <div style={{ width: '30%', marginLeft: '3%' }}></div>\n        </Row>\n      </>\n    </StyledContainer>\n  )\n}\n\nexport default TradePage\n","import React, { useState } from 'react'\nimport { _AutoComplete as AutoComplete } from '@aragon/ui'\n\nimport { simplifyOTokenSymbol } from '../../utils/others'\nimport { SubgraphOToken } from '../../types'\n\ntype AutoCompleteProps = {\n  oTokens: SubgraphOToken[]\n  selectedOToken: SubgraphOToken | null\n  setSelectedOToken: React.Dispatch<React.SetStateAction<SubgraphOToken | null>>\n}\n\nexport default function OTokenAutoComplete({ selectedOToken, setSelectedOToken, oTokens }: AutoCompleteProps) {\n  const [searchTerm, setSearchTerm] = useState<undefined | string>('')\n\n  return (\n    <AutoComplete\n      items={oTokens.filter((o: SubgraphOToken) => {\n        return (\n          searchTerm &&\n          (simplifyOTokenSymbol(o.symbol).toLowerCase().indexOf(searchTerm.toLowerCase()) > -1 || o.id === searchTerm)\n        )\n      })}\n      renderItem={(o: SubgraphOToken) => simplifyOTokenSymbol(o.symbol)}\n      onChange={setSearchTerm}\n      onSelect={(o: SubgraphOToken) => {\n        setSearchTerm('')\n        setSelectedOToken(o)\n      }}\n      wide\n      value={searchTerm ? searchTerm : selectedOToken ? simplifyOTokenSymbol(selectedOToken?.symbol) : ''}\n      placeholder=\"Search 01JAN21, 800P, or address\"\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport { Row, Col } from 'react-grid-system'\nimport BigNumber from 'bignumber.js'\nimport { OTokenBalance, SubgraphOToken } from '../../../types'\n\nimport SectionHeader from '../../../components/SectionHeader'\n\nimport OTokenAutoComplete from '../../../components/OTokenAutoComplete'\nimport MakeOrderDetail from './MakeOrderDetail'\n\ntype MakeOrderProps = {\n  oTokenBalances: OTokenBalance[] | null\n  paymentTokenBalance: BigNumber\n  allOtokens: SubgraphOToken[]\n}\n\nexport default function MakeOrder({ oTokenBalances, paymentTokenBalance, allOtokens }: MakeOrderProps) {\n  const [selectedOToken, setSelectedOToken] = useState<null | SubgraphOToken>(null)\n\n  const oTokenBalance = selectedOToken\n    ? oTokenBalances?.find(b => b.token.id === selectedOToken.id)?.balance || new BigNumber(0)\n    : new BigNumber(0)\n\n  return (\n    <>\n      <SectionHeader title=\"Select oToken\" />\n      <Row>\n        <Col xl={4} lg={5} md={6} sm={12}>\n          <OTokenAutoComplete\n            oTokens={allOtokens}\n            selectedOToken={selectedOToken}\n            setSelectedOToken={setSelectedOToken}\n          />\n        </Col>\n      </Row>\n      {selectedOToken && (\n        <MakeOrderDetail\n          selectedOToken={selectedOToken}\n          paymentTokenBalance={paymentTokenBalance}\n          oTokenBalance={oTokenBalance}\n        />\n      )}\n    </>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Col, Row } from 'react-grid-system'\nimport ReactGA from 'react-ga'\nimport { Tabs, Info } from '@aragon/ui'\nimport { Header } from '../../../components/Header'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { useOTokenBalances, useTokenBalance, useLiveOTokens } from '../../../hooks'\nimport { getPrimaryPaymentToken, SupportedNetworks } from '../../../constants'\n\nimport MakeOrder from './MakeOrder'\nimport TakerOrder from './TakeOrder'\n\nexport default function OTC() {\n  useEffect(() => {\n    ReactGA.pageview('trade/otc/')\n  }, [])\n\n  const { user, networkId } = useConnectedWallet()\n\n  const { balances: oTokenBalances } = useOTokenBalances(user, networkId)\n  const paymentTokenBalance = useTokenBalance(getPrimaryPaymentToken(networkId).id, user, 15)\n\n  const { allOtokens } = useLiveOTokens()\n\n  const [selectedTab, setSelectedTab] = useState(0)\n\n  return networkId === SupportedNetworks.Kovan ? (\n    <Info mode=\"error\"> 0x V4 doesn't support kovan testnet, please switch network to Ropsten </Info>\n  ) : (\n    <StyledContainer>\n      <Header primary={'OTC'} />\n\n      <Row>\n        <Col xl={4} lg={5} md={6} sm={12}>\n          <Tabs selected={selectedTab} onChange={setSelectedTab} items={['Make Order', 'Take Order']} />\n        </Col>\n      </Row>\n\n      {selectedTab === 0 && (\n        <MakeOrder allOtokens={allOtokens} paymentTokenBalance={paymentTokenBalance} oTokenBalances={oTokenBalances} />\n      )}\n      {selectedTab === 1 && (\n        <TakerOrder paymentTokenBalance={paymentTokenBalance} oTokenBalances={oTokenBalances} allOtokens={allOtokens} />\n      )}\n    </StyledContainer>\n  )\n}\n","import React, { useState } from 'react'\nimport { Col, Row } from 'react-grid-system'\nimport { Tabs, Info } from '@aragon/ui'\nimport { Header } from '../../../components/Header'\nimport StyledContainer from '../../../components/StyledContainer'\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { useTokenBalance } from '../../../hooks'\nimport { SupportedNetworks } from '../../../constants'\n\nimport MakeOrder from './MakeOrderDetail'\nimport TakerOrder from './TakeOrder'\n\nimport { squeeth, weth } from './constants'\n\nexport default function OTC() {\n\n  const { user, networkId } = useConnectedWallet()\n  const wethBalance = useTokenBalance(weth.id, user, 30)\n  const squeethBalance = useTokenBalance(squeeth.id, user, 30)\n\n  const [selectedTab, setSelectedTab] = useState(0)\n\n  return (\n    <StyledContainer>\n      <Header primary={'Squeeth OTC'} />\n\n      {(networkId !== SupportedNetworks.Mainnet) ? (\n      <Info mode=\"error\"> Squeeth OTC is only on mainnet </Info>\n      ) : (\n        <>\n      <Row>\n        <Col xl={4} lg={5} md={6} sm={12}>\n          <Tabs selected={selectedTab} onChange={setSelectedTab} items={['Make Order', 'Take Order']} />\n        </Col>\n      </Row>\n\n      {selectedTab === 0 && (\n        <MakeOrder paymentTokenBalance={wethBalance} squeethBalance={squeethBalance} />\n      )}\n      {selectedTab === 1 && (\n        <TakerOrder paymentTokenBalance={wethBalance} squeethBalance={squeethBalance} />\n      )}\n      </>\n      )}\n    </StyledContainer>\n  )\n}\n","import React, { useState } from 'react'\nimport ReactGA from 'react-ga'\nimport { Col, Row, setConfiguration } from 'react-grid-system'\nimport 'moment-timezone'\n\nimport { Main } from '@aragon/ui'\nimport { walletContext } from './contexts/wallet'\n\nimport NavBar from './components/NavBar'\nimport SideBar from './components/SideBar'\n\nimport Factory from './pages/Protocol/Factory'\nimport Faucet from './pages/Protocol/Faucet'\nimport ProtocolHome from './pages/Protocol'\nimport Account from './pages/Account'\nimport AccountVault from './pages/Account/AccountVaults'\nimport ConnectWallet from './pages/Account/ConnectWallet'\nimport Vault from './pages/Account/VaultDetail'\nimport Oracle from './pages/Protocol/Oracle'\nimport OTokenList from './pages/Protocol/OTokenList/index'\nimport OToken from './pages/Protocol/OTokenList/otoken'\nimport Liquidation from './pages/Protocol/Liquidation/index'\nimport Operators from './pages/Account/Operators'\nimport HomePage from './pages/HomePage'\nimport Settings from './pages/Settings'\nimport Trade from './pages/Trade'\n\nimport OTC from './pages/Trade/OTC'\nimport OTCSqueeth from './pages/Trade/OTC_Squeeth'\n\nimport { useConnection } from './hooks/useConnection'\n\nimport { getPreference } from './utils/storage'\n\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport { SHOW_SIDE_BAR } from './constants'\n\nReactGA.initialize(process.env.REACT_APP_GA_TRACKINK_ID || '')\n\nfunction App() {\n  const wallet = useConnection()\n  const defaultTheme = getPreference('theme', 'light')\n  const [theme, setTheme] = useState(defaultTheme)\n\n  const [isSideBarOpen, setSideBarOpen] = useState(getPreference(SHOW_SIDE_BAR, 'true') === 'true')\n\n  setConfiguration({ containerWidths: [540, 620, 760, 980, 1140] })\n\n  return (\n    <Router>\n      <Main layout={false} theme={theme}>\n        <walletContext.Provider value={wallet}>\n          <NavBar isSideBarOpen={isSideBarOpen} setSideBarOpen={setSideBarOpen} />\n          <Row style={{ height: '100%' }} nogutter>\n            {isSideBarOpen && (\n              <Col sm={12} md={2} lg={2} xl={2}>\n                <SideBar />\n              </Col>\n            )}\n            <Col\n              sm={12}\n              md={isSideBarOpen ? 10 : 12}\n              lg={isSideBarOpen ? 10 : 12}\n              xl={isSideBarOpen ? 10 : 12}\n              // offset={maincontentOffset}\n            >\n              <Switch>\n                <Route path=\"/trade/otc/\">\n                  <OTC />\n                </Route>\n                <Route path=\"/trade/otc-squeeth/\">\n                  <OTCSqueeth />\n                </Route>\n                <Route path=\"/trade/\">\n                  <Trade />\n                </Route>\n\n                <Route path=\"/account/:account/operators\">\n                  <Operators />\n                </Route>\n                <Route path=\"/account/:account/vaults/\">\n                  <AccountVault />\n                </Route>\n                <Route path=\"/account/:account\">\n                  <Account />\n                </Route>\n                <Route path=\"/account/\">\n                  <ConnectWallet />\n                </Route>\n\n                <Route path=\"/vault/:owner/:vaultId\">\n                  <Vault />\n                </Route>\n                <Route path=\"/protocol/faucet\">\n                  <Faucet />\n                </Route>\n                <Route path=\"/protocol/oracle\">\n                  <Oracle />\n                </Route>\n\n                <Route path=\"/protocol/factory/\">\n                  <Factory />\n                </Route>\n                <Route path=\"/protocol/otokens/\">\n                  <OTokenList />\n                </Route>\n                <Route path=\"/protocol/liquidation/\">\n                  <Liquidation />\n                </Route>\n                <Route path=\"/protocol/\">\n                  <ProtocolHome />\n                </Route>\n\n                <Route path=\"/otoken/:otoken\">\n                  <OToken />\n                </Route>\n                <Route path=\"/settings/\">\n                  <Settings setTheme={setTheme} />\n                </Route>\n                <Route path=\"/\">\n                  <HomePage />\n                </Route>\n              </Switch>\n            </Col>\n          </Row>\n        </walletContext.Provider>\n      </Main>\n    </Router>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","import { useState } from 'react'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { useAsyncMemo } from './useAsyncMemo'\nimport { useCustomToast } from './useCustomToast'\nimport { getOracleAssetsAndPricers } from '../utils/graph'\n\nexport function useExpiryPriceData() {\n  const { networkId } = useConnectedWallet()\n  const [isLoading, setIsLoading] = useState(true)\n\n  const toast = useCustomToast()\n\n  const allOracleAssets = useAsyncMemo(\n    async () => {\n      setIsLoading(true)\n      const assets = await getOracleAssetsAndPricers(networkId, toast.error)\n      setIsLoading(false)\n      return assets === null ? [] : assets\n    },\n    [],\n    [networkId],\n  )\n\n  return { allOracleAssets, isLoading }\n}\n","import Notify from 'bnc-notify'\n\nconst BLOCKNATIVE_KEY = process.env.REACT_APP_BLOCKNATIVE_KEY\n\nlet notify: any = undefined\n\n// eslint-disable-next-line import/prefer-default-export\nexport const createNotify = (networkId: number) => {\n  if (notify === undefined)\n    notify = Notify({\n      dappId: BLOCKNATIVE_KEY,\n      networkId: networkId,\n    })\n  return notify\n}\n","import { useCallback, useMemo } from 'react'\n\nimport { createNotify } from '../utils/notify'\nimport { networkIdToExplorer } from '../constants'\nimport { useConnectedWallet } from '../contexts/wallet'\n\nexport function useNotify() {\n  const { networkId } = useConnectedWallet()\n  const notify = useMemo(() => createNotify(networkId), [networkId])\n\n  const notifyCallback = useCallback(\n    hash => {\n      const { emitter } = notify.hash(hash)\n      emitter.on('all', transaction => {\n        return {\n          onclick: () => window.open(`${networkIdToExplorer[networkId]}/tx/${transaction.hash}`),\n        }\n      })\n    },\n    [networkId, notify],\n  )\n\n  return { notifyCallback }\n}\n","import { useState, useEffect, useCallback, useMemo } from 'react'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport BigNumber from 'bignumber.js'\nimport { getPreference } from '../utils/storage'\nimport { MAX_UINT, Spenders, addresses } from '../constants'\nimport { useNotify } from './useNotify'\nconst abi = require('../constants/abis/erc20.json')\n\nexport function useUserAllowance(token: string, spender: Spenders) {\n  const { web3, user, networkId } = useConnectedWallet()\n\n  const spenderAddess = useMemo(() => {\n    return spender === Spenders.MarginPool\n      ? addresses[networkId].pool\n      : spender === Spenders.ZeroXExchange\n      ? addresses[networkId].zeroxExchange\n      : ''\n  }, [spender, networkId])\n\n  const [allowance, setAllowance] = useState(new BigNumber(0))\n  const [isLoadingAllowance, setIsLoadingAllowance] = useState(true)\n\n  const { notifyCallback } = useNotify()\n\n  const approve = useCallback(\n    async (amount?: BigNumber) => {\n      if (!web3 || !user) return\n      const approveMode = getPreference('approval', 'unlimited')\n\n      const erc = new web3.eth.Contract(abi, token)\n      const approveAmount = approveMode === 'normal' && amount ? amount.toString() : MAX_UINT\n\n      if (spenderAddess === '') throw new Error('Unkown Spender')\n\n      await erc.methods.approve(spenderAddess, approveAmount).send({ from: user }).on('transactionHash', notifyCallback)\n      const newAllowance = await erc.methods.allowance(user, spenderAddess).call()\n      setAllowance(new BigNumber(newAllowance.toString()))\n    },\n    [web3, token, user, notifyCallback, spenderAddess],\n  )\n\n  useEffect(() => {\n    if (user === '') return\n    const erc = new web3.eth.Contract(abi, token)\n    erc.methods\n      .allowance(user, spenderAddess)\n      .call()\n      .then(allowance => {\n        setAllowance(new BigNumber(allowance.toString()))\n        setIsLoadingAllowance(false)\n      })\n      .catch(err => {\n        setIsLoadingAllowance(false)\n      })\n  }, [web3, spenderAddess, token, user])\n\n  return { allowance, isLoadingAllowance, approve }\n}\n","import { useCallback, useMemo } from 'react'\nimport ReactGA from 'react-ga'\nimport BigNumber from 'bignumber.js'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { addresses, ZeroXEndpoint, SupportedNetworks } from '../constants'\nimport { useNotify } from './useNotify'\nimport { SignedOrder } from '../types'\nimport { useGasPrice } from './useGasPrice'\nimport { useCustomToast } from './useCustomToast'\n// import { ZEROX_PROTOCOL_FEE_KEY, FeeTypes } from '../constants'\n\n// import { getPreference } from '../utils/storage'\n\nconst v4orderUtils = require('@0x/protocol-utils')\nconst FEE_PERORDER_PER_GWEI = 0.00007\n// const FEE_RECIPIENT = '0xd325e15a52b780698c45ca3bdb6c49444fe5b588'\n\nconst abi = require('../constants/abis/0xV4Exchange.json')\n\nexport function use0xExchange() {\n  // const payWithWeth = useMemo(() => getPreference(ZEROX_PROTOCOL_FEE_KEY, FeeTypes.ETH) === FeeTypes.WETH, [])\n\n  const toast = useCustomToast()\n  const { networkId, web3, user } = useConnectedWallet()\n\n  const track = useCallback(\n    (action: string) => {\n      const label = networkId === SupportedNetworks.Mainnet ? 'mainnet' : 'testnet'\n      ReactGA.event({ category: 'trading', action, label })\n    },\n    [networkId],\n  )\n\n  const { notifyCallback } = useNotify()\n\n  const httpEndpoint = useMemo(() => ZeroXEndpoint[networkId].http, [networkId])\n\n  const { fast, fastest } = useGasPrice(5)\n\n  const getGasPriceForOrders = useCallback(\n    (orders: SignedOrder[]) => {\n      const closestExpiry = Math.min(...orders.map(o => Number(o.expiry) - Date.now() / 1000))\n      return closestExpiry < 120 ? fastest : fast\n    },\n    [fast, fastest],\n  )\n\n  /**\n   * If any order is expiring within 2 mins, use fastest\n   */\n  const getProtocolFee = useCallback(\n    (orderInfos: SignedOrder[]) => {\n      const gasPrice = getGasPriceForOrders(orderInfos)\n      return gasPrice.times(new BigNumber(orderInfos.length)).times(FEE_PERORDER_PER_GWEI)\n    },\n    [getGasPriceForOrders],\n  )\n\n  const createOrder = useCallback(\n    async (\n      makerToken: string,\n      takerToken: string,\n      makerAmount: BigNumber,\n      takerAmount: BigNumber,\n      expiry: number,\n      takerAddress?: string,\n    ) => {\n      const salt = new BigNumber(Date.now()).integerValue().toString()\n      const taker = takerAddress ? takerAddress : '0x0000000000000000000000000000000000000000'\n      const order = new v4orderUtils.LimitOrder({\n        chainId: networkId,\n        makerToken,\n        takerToken,\n        makerAmount,\n        takerAmount,\n        // takerTokenFeeAmount,\n        maker: user,\n        taker,\n        sender: '0x0000000000000000000000000000000000000000',\n        // feeRecipient: FEE_RECIPIENT,\n        // pool:\n        expiry: new BigNumber(expiry).integerValue(),\n        salt,\n        // verifyingContract: addresses[networkId].zeroxExchange,\n      })\n      track('create-order')\n      const signature = await order.getSignatureWithProviderAsync(\n        web3.currentProvider as any,\n        v4orderUtils.SignatureType.EIP712,\n      )\n      // const provider = new MetamaskSubprovider(web3.currentProvider as SupportedProvider)\n      // return signatureUtils.ecSignOrderAsync(provider, order, user)\n      // return signature;\n\n      return {\n        ...order,\n        signature,\n      }\n    },\n    [networkId, user, web3, track],\n  )\n\n  const fillOrders = useCallback(\n    async (orders: SignedOrder[], amounts: BigNumber[]) => {\n      if (!orders.length) return toast.error('No Orders selected')\n      const exchange = new web3.eth.Contract(abi, addresses[networkId].zeroxExchange)\n\n      const signatures = orders.map(order => order.signature)\n\n      const gasPrice = getGasPriceForOrders(orders)\n      const feeInEth = getProtocolFee(orders).toString()\n      const amountsStr = amounts.map(amount => amount.toString())\n\n      console.log(`only filling first order la, orders[0]`, orders[0])\n\n      // change to batch Fill when it's live\n      await exchange.methods\n        .batchFillLimitOrders(orders, signatures, amountsStr, false)\n        .send({\n          from: user,\n          value: web3.utils.toWei(feeInEth, 'ether'),\n          gasPrice: web3.utils.toWei(gasPrice.toString(), 'gwei'),\n        })\n        .on('transactionHash', notifyCallback)\n\n      track('fill-order')\n    },\n    [networkId, getProtocolFee, getGasPriceForOrders, notifyCallback, toast, user, web3, track],\n  )\n\n  const fillOrder = useCallback(\n    async (order: SignedOrder, amount: BigNumber) => {\n      const exchange = new web3.eth.Contract(abi, addresses[networkId].zeroxExchange)\n\n      // const signature = order.signature\n\n      const gasPrice = getGasPriceForOrders([order])\n      const feeInEth = getProtocolFee([order]).toString()\n      const amountStr = amount.toString()\n\n      console.log(`order`, order)\n\n      await exchange.methods\n        .fillLimitOrder(order, order.signature, amountStr)\n        .send({\n          from: user,\n          value: web3.utils.toWei(feeInEth, 'ether'),\n          gasPrice: web3.utils.toWei(gasPrice.toString(), 'gwei'),\n        })\n        .on('transactionHash', notifyCallback)\n      track('fill-order')\n    },\n    [networkId, getProtocolFee, getGasPriceForOrders, notifyCallback, user, web3, track],\n  )\n\n  const broadcastOrder = useCallback(\n    async (order: SignedOrder) => {\n      if (httpEndpoint === '') toast.error('0x Not supported on this network')\n      const url = `${httpEndpoint}sra/v4/order`\n      const res = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(order),\n      })\n      if (res.status === 200) return toast.success('Order successfully broadcasted')\n      const jsonRes = await res.json()\n      if (jsonRes.validationErrors) return toast.error(jsonRes.validationErrors[0].reason)\n\n      toast.error(JSON.stringify(jsonRes))\n    },\n    [httpEndpoint, toast],\n  )\n\n  const cancelOrders = useCallback(\n    async (orders: SignedOrder[], callback: Function) => {\n      const exchange = new web3.eth.Contract(abi, addresses[networkId].zeroxExchange)\n\n      await exchange.methods\n        .batchCancelLimitOrders(orders)\n        .send({\n          from: user,\n        })\n        .on('transactionHash', notifyCallback)\n      track('cancel-order')\n      callback()\n    },\n    [web3, notifyCallback, networkId, track, user],\n  )\n\n  return { getProtocolFee, fillOrders, fillOrder, createOrder, broadcastOrder, cancelOrders }\n}\n","import { useState, useCallback, useEffect } from 'react'\n\nimport { OTokenBalance } from '../types'\nimport { getBalances } from '../utils/graph'\nimport { SupportedNetworks } from '../constants/networks'\nimport { useCustomToast } from './useCustomToast'\n\nexport function useOTokenBalances(\n  account: string,\n  networkId: SupportedNetworks,\n  refetchInterval?: number,\n): { balances: OTokenBalance[] | null; refetch: Function; isLoading: boolean } {\n  const [balances, setBalances] = useState<OTokenBalance[]>([])\n\n  const [refreshCount, setRefreshCount] = useState(0)\n  const [isLoading, setIsLoadig] = useState(true)\n  const toast = useCustomToast()\n\n  const refetch = useCallback(() => {\n    setRefreshCount(count => count + 1)\n  }, [setRefreshCount])\n\n  useEffect(() => {\n    async function updateBalances() {\n      const balances = await getBalances(networkId, account, toast.error)\n      if (balances === null) return\n      setIsLoadig(false)\n      setBalances(balances)\n    }\n    updateBalances()\n    const interval = setInterval(updateBalances, refetchInterval ? refetchInterval * 1000 : 10000)\n    return () => clearInterval(interval)\n  }, [networkId, account, toast, refetchInterval, refreshCount])\n\n  return { balances, isLoading, refetch }\n}\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/USDC.cb9145be.png\";","export const MAX_UINT = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\n\nexport enum VaultTypes {\n  UNKNOWN = 'Unknown',\n  PUT = 'put',\n  CALL = 'call',\n}\n\nexport const WAITINT_PERIOD = 7500\n","import { useState, useEffect, useCallback } from 'react'\nimport { getPreference, storePreference } from '../utils/storage'\nimport Onboard from 'bnc-onboard'\nimport Web3 from 'web3'\nimport { networkToProvider, SupportedNetworks } from '../constants'\n\nconst BLOCKNATIVE_KEY = process.env.REACT_APP_BLOCKNATIVE_KEY\nconst FORTMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY\n\nexport const useConnection = () => {\n  const [user, setUser] = useState<string>('')\n\n  const [onboard, setOnboard] = useState<any>(null)\n\n  const [web3, setWeb3] = useState<Web3>(new Web3(networkToProvider[SupportedNetworks.Mainnet]))\n\n  const storedNetwork = Number(getPreference('gamma-networkId', '1'))\n  const [networkId, setNetworkId] = useState<SupportedNetworks>(storedNetwork)\n\n  // function for block native sdk when address is updated\n  const setAddressCallback = useCallback((address: string | undefined) => {\n    if (!address) {\n      setUser('')\n    } else {\n      setUser(address.toLowerCase())\n    }\n  }, [])\n\n  // function for block native sdk when wallet is updated\n  const setWalletCallback = useCallback(wallet => {\n    storePreference('selectedWallet', wallet.name)\n    const web3Instance = new Web3(wallet.provider)\n    setWeb3(web3Instance)\n  }, [])\n\n  const handleNetworkChange = useCallback(\n    _networkId => {\n      if (_networkId in SupportedNetworks) {\n        setNetworkId(_networkId)\n        storePreference('gamma-networkId', _networkId.toString())\n      }\n      if (onboard)\n        onboard.config({\n          networkId: _networkId,\n        })\n    },\n    [onboard],\n  )\n\n  useEffect(() => {\n    if (onboard !== null) return\n    const newOnboard = initOnboard(setAddressCallback, setWalletCallback, handleNetworkChange, networkId)\n    setOnboard(newOnboard)\n  }, [setAddressCallback, setWalletCallback, handleNetworkChange, networkId, onboard])\n\n  // get last connection info and try to set default user to previous connected account.\n  useEffect(() => {\n    async function getDefault() {\n      if (!onboard) return\n      const previouslySelectedWallet = getPreference('selectedWallet', 'null')\n      if (previouslySelectedWallet === 'null') return\n      const selected = await onboard.walletSelect(previouslySelectedWallet)\n\n      if (selected) {\n        const address = onboard.getState().address\n        if (address !== null) setAddressCallback(address)\n      }\n    }\n    getDefault()\n  }, [onboard, setAddressCallback])\n\n  const connect = useCallback(async () => {\n    if (!onboard) return\n    const selected = await onboard.walletSelect()\n    if (!selected) return false\n    const checked = await onboard.walletCheck()\n    if (!checked) return false\n    const account = onboard.getState().address\n    setUser(account.toLowerCase())\n    return account\n  }, [onboard])\n\n  const disconnect = useCallback(async () => {\n    onboard.walletReset()\n    setUser('')\n  }, [onboard])\n\n  return { networkId, user, setUser, web3, connect, disconnect }\n}\n\nexport const initOnboard = (addressChangeCallback, walletChangeCallback, networkChangeCallback, networkId) => {\n  const onboard = Onboard({\n    darkMode: getPreference('theme', 'light') === 'dark',\n    dappId: BLOCKNATIVE_KEY, // [String] The API key created by step one above\n    networkId: networkId, // [Integer] The Ethereum network ID your Dapp uses.\n    subscriptions: {\n      address: addressChangeCallback,\n      wallet: walletChangeCallback,\n      network: networkChangeCallback,\n    },\n    walletSelect: {\n      description: 'Please select a wallet to connect to the blockchain',\n      wallets: [\n        { walletName: 'walletLink', preferred: true, rpcUrl: networkToProvider[networkId] },\n        { walletName: 'metamask', preferred: true },\n        {\n          walletName: 'walletConnect',\n          rpc: {\n            [SupportedNetworks.Mainnet]: networkToProvider[SupportedNetworks.Mainnet],\n            [SupportedNetworks.Ropsten]: networkToProvider[SupportedNetworks.Ropsten],\n            [SupportedNetworks.Kovan]: networkToProvider[SupportedNetworks.Kovan],\n            [SupportedNetworks.Arbitrum]: networkToProvider[SupportedNetworks.Arbitrum],\n            [SupportedNetworks.Avalanche]: networkToProvider[SupportedNetworks.Avalanche],\n            [SupportedNetworks.Matic]: networkToProvider[SupportedNetworks.Matic],\n          }, // [Optional]\n          preferred: true,\n        },\n        {\n          walletName: 'fortmatic',\n          apiKey: FORTMATIC_KEY,\n          preferred: true,\n        },\n        { walletName: 'lattice', appName: 'Gamma Portal', rpcUrl: networkToProvider[networkId], preferred: true },\n      ],\n    },\n    walletCheck: [\n      { checkName: 'derivationPath' },\n      { checkName: 'connect' },\n      { checkName: 'accounts' },\n      { checkName: 'network' },\n    ],\n  })\n  return onboard\n}\n","import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\n\n/**\n * get gas price from ETH station. (In GWei)\n * @param refetchIntervalSec refetch interval in seconds\n */\nexport const useGasPrice = (\n  refetchIntervalSec: number,\n): { fast: BigNumber; fastest: BigNumber; safeLow: BigNumber; average: BigNumber } => {\n  const [fast, setFast] = useState(new BigNumber(0))\n  const [fastest, setFastest] = useState(new BigNumber(0))\n  const [safeLow, setSafeLow] = useState(new BigNumber(0))\n  const [average, setAverage] = useState(new BigNumber(0))\n\n  useEffect(() => {\n    let isCancelled = false\n\n    async function update() {\n      const response = await getGasPrice()\n      if (isCancelled) return\n\n      // convert to gwei\n      setFast(new BigNumber(response.fast).div(10))\n      setFastest(new BigNumber(response.fastest).div(10))\n      setSafeLow(new BigNumber(response.safeLow).div(10))\n      setAverage(new BigNumber(response.average).div(10))\n    }\n    update()\n    const id = setInterval(update, refetchIntervalSec * 1000)\n\n    // cleanup function: remove interval\n    return () => {\n      isCancelled = true\n      clearInterval(id)\n    }\n  }, [refetchIntervalSec])\n\n  return { fast, fastest, safeLow, average }\n}\n\nconst getGasPrice = async (): Promise<{ fast: number; fastest: number; safeLow: number; average: number }> => {\n  const url = 'https://ethgasstation.info/api/ethgasAPI.json?'\n  const res = await fetch(url)\n  return await res.json()\n}\n","import { useState } from 'react'\n\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { getLiveOTokens, getLiveOTokensIsSeries } from '../utils/graph'\nimport { useAsyncMemo } from '../hooks/useAsyncMemo'\nimport { useCustomToast } from './useCustomToast'\n\nexport function useLiveOTokens() {\n  const { networkId } = useConnectedWallet()\n  const toast = useCustomToast()\n\n  const [isLoading, setIsLoading] = useState(true)\n\n  const allOtokens = useAsyncMemo(\n    async () => {\n      try {\n        const result = await getLiveOTokens(networkId, toast.error)\n        setIsLoading(false)\n        return result ? result : []\n      } catch (error) {\n        setIsLoading(false)\n        return []\n      }\n    },\n    [],\n    [networkId, toast],\n  )\n\n  return { isLoading, allOtokens }\n}\n\nexport function useOTokenInSeries(underlying: string | undefined, strike: string | undefined) {\n  const { networkId } = useConnectedWallet()\n  const toast = useCustomToast()\n\n  const [isLoading, setIsLoading] = useState(true)\n\n  const allOtokens = useAsyncMemo(\n    async () => {\n      try {\n        const result =\n          underlying && strike\n            ? await getLiveOTokensIsSeries(networkId, underlying, strike, toast.error)\n            : await getLiveOTokens(networkId, toast.error)\n        setIsLoading(false)\n        return result ? result : []\n      } catch (error) {\n        setIsLoading(false)\n        return []\n      }\n    },\n    [],\n    [networkId, toast, underlying, strike],\n  )\n\n  return { isLoading, allOtokens }\n}\n","import { useMemo } from 'react'\nimport { tokens, ZERO_ADDR } from '../constants/addresses'\nimport { Token } from '../types'\n\nexport function useTokenBySymbol(symbol: string, networkId: number): Token {\n  const token = useMemo(() => tokens[networkId.toString()].find(token => token.symbol === symbol), [networkId, symbol])\n\n  if (token === undefined)\n    return {\n      name: 'Unknown',\n      id: ZERO_ADDR,\n      symbol: symbol,\n      decimals: 18,\n    }\n\n  return token\n}\n\nexport function useTokenByAddress(addr: string, networkId: number): Token {\n  const token = useMemo(() => tokens[networkId.toString()].find(token => token.id === addr), [networkId, addr])\n\n  if (token === undefined)\n    return {\n      name: 'Unknown',\n      id: addr,\n      symbol: 'Unknown',\n      decimals: 18,\n    }\n\n  return token\n}\n","import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport Web3 from 'web3'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { ZERO_ADDR } from '../constants/addresses'\n\nconst erc20Abi = require('../constants/abis/erc20.json')\n\n/**\n * get token balance.\n * @param token token address\n * @param refetchIntervalSec refetch interval in seconds\n * @returns {BigNumber} raw balance\n */\nexport const useTokenBalance = (token: string, account: string, refetchIntervalSec: number): BigNumber => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { web3, networkId } = useConnectedWallet()\n  useEffect(() => {\n    let isCancelled = false\n\n    async function updateBalance() {\n      if (!token) return\n      if (!account) return\n      const price = await getBalance(web3, token, account)\n      if (!isCancelled) setBalance(price)\n    }\n    updateBalance()\n    const id = setInterval(updateBalance, refetchIntervalSec * 1000)\n\n    // cleanup function: remove interval\n    return () => {\n      isCancelled = true\n      clearInterval(id)\n    }\n  }, [token, refetchIntervalSec, account, networkId, web3])\n\n  return balance\n}\n\nasync function getBalance(web3: Web3, token: string, account: string) {\n  if (token === ZERO_ADDR) return new BigNumber(await web3.eth.getBalance(account))\n  const erc20 = new web3.eth.Contract(erc20Abi, token)\n  const t = await erc20.methods.balanceOf(account).call()\n  return new BigNumber(t.toString())\n}\n","module.exports = __webpack_public_path__ + \"static/media/WAVAX.dc3a8c6b.webp\";","module.exports = __webpack_public_path__ + \"static/media/oETH.7f34ec26.svg\";","module.exports = __webpack_public_path__ + \"static/media/oBTC.4f3591b1.png\";","import React, { useState } from 'react'\nimport { Button, TextInput, Modal, IconEdit, DropDown } from '@aragon/ui'\nimport { DeadlineUnit } from '../constants'\n\nimport SectionHeader from './SectionHeader'\n\ntype EditOrderDeadlineModalProps = {\n  setDeadline: React.Dispatch<React.SetStateAction<number>>\n  setFinalDeadlineUnit: React.Dispatch<React.SetStateAction<DeadlineUnit>>\n}\n\nconst items = [DeadlineUnit.Seconds, DeadlineUnit.Minutes, DeadlineUnit.Hours, DeadlineUnit.Days]\n\nexport default function EditOrderDeadlineModal({ setDeadline, setFinalDeadlineUnit }: EditOrderDeadlineModalProps) {\n  // const [deadline, setDeadline] = useState<number>(20)\n  const [deadlineModalOpened, setDeadlineModalOpened] = useState(false)\n\n  // deadline input is set to deadline when the user click on confirm\n  const [deadlineInput, setDeadlineInput] = useState(20)\n  const [modalDeadlineIdx, setModalDeadlineIdx] = useState<number>(1)\n\n  // const [finalDeadlineUnit, setFinalDeadlineUnit] = useState<DeadlineUnit>(DeadlineUnit.Minutes)\n\n  return (\n    <>\n      <Button\n        label={'edit time'}\n        size=\"mini\"\n        display=\"icon\"\n        icon={<IconEdit />}\n        onClick={() => setDeadlineModalOpened(true)}\n      />\n      <Modal\n        padding={30}\n        visible={deadlineModalOpened}\n        closeButton={true}\n        onClose={() => setDeadlineModalOpened(false)}\n      >\n        <SectionHeader title=\"Set deadline\" paddingTop={0} />\n        Order will automatically become invalid after\n        <br />\n        <div style={{ display: 'flex' }}>\n          <TextInput type=\"number\" value={deadlineInput} onChange={e => setDeadlineInput(e.target.value)} />\n          <DropDown\n            items={items}\n            selected={modalDeadlineIdx}\n            onChange={idx => {\n              setModalDeadlineIdx(idx)\n              setDeadlineModalOpened(true)\n            }}\n          />\n        </div>\n        <br />\n        <Button\n          label=\"Confirm\"\n          onClick={() => {\n            setDeadlineModalOpened(false)\n            setFinalDeadlineUnit(items[modalDeadlineIdx])\n            setDeadline(deadlineInput)\n          }}\n        />\n      </Modal>\n    </>\n  )\n}\n","module.exports = \"data:image/png;base64,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\"","import BigNumber from 'bignumber.js'\n\nconst Web3 = require('web3')\nconst web3 = new Web3()\n\nexport function toTokenAmount(wei: BigNumber | number | string, decimals: number) {\n  return new BigNumber(wei).div(new BigNumber(10).pow(new BigNumber(decimals)))\n}\n\nexport function fromTokenAmount(amount: BigNumber, decimals: number) {\n  return amount.times(new BigNumber(10).pow(new BigNumber(decimals)))\n}\n\nexport function timeSince(timeStamp) {\n  const now = new Date()\n  const secondsPast = (now.getTime() - timeStamp) / 1000\n  if (secondsPast < 60) {\n    return `${parseInt(secondsPast.toString(), 10)}s ago`\n  }\n  if (secondsPast < 3600) {\n    return `${parseInt((secondsPast / 60).toString(), 10)}m ago`\n  }\n  if (secondsPast <= 86400) {\n    return `${parseInt((secondsPast / 3600).toString(), 10)}h ago`\n  }\n  if (secondsPast > 86400) {\n    const ts = new Date(timeStamp)\n    const day = ts.getDate()\n    const month = (ts.toDateString().match(/ [a-zA-Z]*/) as RegExpMatchArray)[0].replace(' ', '')\n    const year = ts.getFullYear() === now.getFullYear() ? '' : ` ${ts.getFullYear()}`\n    return `${day} ${month}${year}`\n  }\n\n  return timeStamp\n}\n\nexport function expiryToDate(timestamp: number | string) {\n  const timestampNum = Number(timestamp)\n  return new Date(timestampNum * 1000).toDateString()\n}\n\nexport const isAddress = web3.utils.isAddress\n\n/**\n * @returns {number} timestamp (in s)\n */\nexport function getNextFriday(): number {\n  const date = new Date()\n  date.setUTCDate(date.getUTCDate() + ((7 + 5 - date.getUTCDay()) % 7))\n  date.setMinutes(0)\n  date.setSeconds(0)\n  date.setMilliseconds(0)\n  date.setUTCHours(8)\n  return date.getTime() / 1000\n}\n","import React from 'react'\n\nimport { SubgraphOToken } from '../../types'\n\nimport oETH from '../../imgs/oETH.svg'\nimport oBTC from '../../imgs/oBTC.png'\n\nexport default function OTokenIcon({ otoken, width }: { otoken: SubgraphOToken; width: number }) {\n  const url = otoken.underlyingAsset.symbol === 'WETH' ? oETH : oBTC\n  return <img width={width} src={url} alt={'otoken'} />\n}\n","module.exports = __webpack_public_path__ + \"static/media/osqueeth.d44e8b63.svg\";","import { createContext, useContext } from 'react'\nimport Web3 from 'web3'\nimport { networkToProvider } from '../constants'\nimport { SupportedNetworks } from '../constants/networks'\n\nexport interface Wallet {\n  web3: Web3\n  user: string\n  setUser: (user: string) => void\n  networkId: SupportedNetworks\n  connect: () => Promise<string | false>\n  disconnect: Function\n}\n\nexport const DEFAULT: Wallet = {\n  networkId: SupportedNetworks.Mainnet,\n  web3: new Web3(networkToProvider[SupportedNetworks.Mainnet]),\n  user: '',\n  setUser: (user: string): void => {},\n  connect: async () => '',\n  disconnect: () => {},\n}\n\nexport const walletContext = createContext(DEFAULT)\nexport const useConnectedWallet = () => useContext(walletContext)\n","import { SupportedNetworks } from './networks'\nimport { Token } from '../types/index'\n\ntype Tokens = {\n  [key in SupportedNetworks]: Token[]\n}\n\nconst isPublic = process.env.REACT_APP_PUBLIC === 'true'\nexport const ZERO_ADDR = '0x0000000000000000000000000000000000000000'\n\nexport const eth: Token = {\n  name: 'Ether',\n  id: ZERO_ADDR,\n  symbol: 'ETH',\n  decimals: 18,\n}\n\nexport const tokens: Tokens = {\n  [SupportedNetworks.Mainnet]: [\n    eth,\n    {\n      name: 'USDC',\n      id: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n      symbol: 'USDC',\n      decimals: 6,\n    },\n    {\n      name: 'Wrapped Ether',\n      id: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n      symbol: 'WETH',\n      decimals: 18,\n    },\n    {\n      name: 'Wrapped Bitcoin',\n      id: '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599',\n      symbol: 'WBTC',\n      decimals: 8,\n    },\n    {\n      name: 'yvUSDC',\n      id: '0xa354f35829ae975e850e23e9615b11da1b3dc4de',\n      symbol: 'yvUSDC',\n      decimals: 6,\n    },\n  ],\n  [SupportedNetworks.Ropsten]: [\n    eth,\n    {\n      name: 'Opyn USDC',\n      id: '0x27415c30d8c87437becbd4f98474f26e712047f4',\n      symbol: 'USDC',\n      decimals: 6,\n      canMint: true,\n    },\n    {\n      name: 'Wrapped Ether',\n      id: '0xc778417e063141139fce010982780140aa0cd5ab',\n      symbol: 'WETH',\n      decimals: 18,\n    },\n    {\n      name: 'Opyn Wrapped Bitcoin',\n      id: '0xe477d1ffc1e5ea6a577846a4699617997315b4ee',\n      symbol: 'WBTC',\n      decimals: 8,\n      canMint: true,\n    },\n  ],\n  [SupportedNetworks.Kovan]: [\n    eth,\n    {\n      name: 'USDC',\n      id: '0x7e6eda50d1c833be936492bf42c1bf376239e9e2',\n      symbol: 'USDC',\n      decimals: 6,\n      canMint: true,\n    },\n    {\n      name: 'Wrapped Ether',\n      id: '0xd0a1e359811322d97991e03f863a0c30c2cf029c',\n      symbol: 'WETH',\n      decimals: 18,\n    },\n    {\n      name: 'Wrapped Bitcoin',\n      id: '0x50570256f0da172a1908207aaf0c80d4b279f303',\n      symbol: 'WBTC',\n      decimals: 8,\n      canMint: true,\n    },\n  ],\n  [SupportedNetworks.Avalanche]: [\n    {\n      name: 'Wrapped AVAX',\n      id: '0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7',\n      symbol: 'WAVAX',\n      decimals: 18,\n    },\n    {\n      name: 'USDC',\n      id: '0xa7d7079b0fead91f3e65f86e8915cb59c1a4c664',\n      symbol: 'USDC',\n      decimals: 6,\n    },\n  ],\n  [SupportedNetworks.Arbitrum]: [\n    {\n      name: 'USDC',\n      id: '0xff970a61a04b1ca14834a43f5de4533ebddb5cc8',\n      symbol: 'USDC',\n      decimals: 6,\n    },\n    {\n      name: 'Wrapped Ether',\n      id: '0x82af49447d8a07e3bd95bd0d56f35241523fbab1',\n      symbol: 'WETH',\n      decimals: 18,\n    },\n    {\n      name: 'Wrapped Bitcoin',\n      id: '0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f',\n      symbol: 'WBTC',\n      decimals: 8,\n    },\n  ],\n  [SupportedNetworks.Matic]: [\n    {\n      name: 'USDC',\n      id: '0x2791bca1f2de4661ed88a30c99a7a9449aa84174',\n      symbol: 'USDC',\n      decimals: 6,\n    },\n    {\n      name: 'Wrapped Ether',\n      id: '0x7ceb23fd6bc0add59e62ac25578270cff1b9f619',\n      symbol: 'WETH',\n      decimals: 18,\n    },\n    {\n      name: '(POS) Wrapped Bitcoin',\n      id: '0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6',\n      symbol: 'WBTC',\n      decimals: 8,\n    },\n  ],\n}\n\ntype SystemAddresses = {\n  [key in SupportedNetworks]: {\n    controller: string\n    calculator: string\n    factory: string\n    addressBook: string\n    whitelist: string\n    pool: string\n    zeroxExchange: string\n  }\n}\n\nexport const addresses: SystemAddresses = {\n  [SupportedNetworks.Mainnet]: {\n    controller: isPublic ? '0x4ccc2339F87F6c59c6893E1A678c2266cA58dC72' : '0xde158Fa7022f11707d4a3570eec4621B35d83829',\n    calculator: isPublic ? '0xfaa67e3736572645B38AF7410B3E1006708e13F4' : '0x9a33230f59Cc7Cc9A084E0098A2b2934FC7BF7c0',\n    factory: isPublic ? '0x7C06792Af1632E77cb27a558Dc0885338F4Bdf8E' : '0xE21127f47B365d3b1467746804f32BF8dCf47e26',\n    addressBook: isPublic ? '0x1E31F2DCBad4dc572004Eae6355fB18F9615cBe4' : '0x57ADe7D5E9D2F45A07f8039Da7228ACC305fbeaF',\n    pool: isPublic ? '0x5934807cC0654d46755eBd2848840b616256C6Ef' : '0x0Cb5BDBf1726f7CC720B21EA910ACeda9FdDf680',\n    whitelist: isPublic ? '0xa5EA18ac6865f315ff5dD9f1a7fb1d41A30a6779' : '0x2244364c94a9FCb6f9ae3A4cF38f279706011882',\n    zeroxExchange: '0xdef1c0ded9bec7f1a1670819833240f027b25eff',\n  },\n  [SupportedNetworks.Ropsten]: {\n    controller: isPublic ? '0x7e9beaccdccee88558aaa2dc121e52ec6226864e' : '0xdA9BDf0B5BAA8e6ab727408e6072c4Ab35e3229D',\n    calculator: isPublic ? '0x48DAd1a9e38Ff941429F1542e1Cf552e647306bB' : '0x7A63Eb4e5e024FAbD16c2FD508c92878f6F6445E',\n    factory: isPublic ? '0x8d6994b701f480c27757c5fe2bd93d5352160081' : '0xE3DFeFee5b295e57bAb033Fd66B8EdF016Fe85Ec',\n    addressBook: isPublic ? '0xe71417eefc794c9b83fc494861981721e26db0e9' : '0x8f92cfB1BF6eD1ce79F2E8Eb0DC96e0F3b61276D',\n    pool: isPublic ? '0x3C325EeBB64495665F5376930d30151C1075bFD8' : '0xFf8efB964Fa3219D1563Dd83e7253FC8d2B9c405',\n    whitelist: isPublic ? '0x5faCA6DF39c897802d752DfCb8c02Ea6959245Fc' : '0x32724C61e948892A906f5EB8892B1E7e6583ba1f',\n    zeroxExchange: '0xdef1c0ded9bec7f1a1670819833240f027b25eff', // v4\n  },\n  [SupportedNetworks.Kovan]: {\n    controller: isPublic ? '0xdee7d0f8ccc0f7ac7e45af454e5e7ec1552e8e4e' : '0xa84cff11957a0a08a3e1d568ed1caaf47626c1f3',\n    calculator: isPublic ? '0xFf8efB964Fa3219D1563Dd83e7253FC8d2B9c405' : '0xE9f33Cc4e29c3215fff5C8890E4e0d930246CC28',\n    factory: isPublic ? '0xb9d17ab06e27f63d0fd75099d5874a194ee623e2' : '0x32b5a18238BAdF23F8E88669de2bD3671ff7BF83',\n    addressBook: isPublic ? '0x8812f219f507e8cfe9d2f1e790164714c5e06a73' : '0x4163Bf53878B2169Ea9E404b9E840FA010DbF949',\n    pool: isPublic ? '0x8c7c60d766951c5c570bbb7065c993070061b795' : '0xFf7a2BD21f6dAb62948Bb7545266E9a6b2a0bEb2',\n    whitelist: isPublic ? '0x9164eB40a1b59512F1803aB4C2d1dE4B89627A93' : '0xc990BB199c0ed8CEE305bD1A4c50A87029AdfAE3',\n    zeroxExchange: '0x4eacd0af335451709e1e7b570b8ea68edec8bc97',\n  },\n  [SupportedNetworks.Avalanche]: {\n    controller: '0x9e3b94819aaF6de606C4Aa844E3215725b997064',\n    calculator: '0xBD5A1Dc654B5476B94F81755E68d1C8f0AAc2AFd',\n    factory: '0x25bC1cD298512885F0e452833198BCBb149f66a5',\n    addressBook: '0xBCa124824326CF8aBc5E2E569FFf3A6f17110510',\n    pool: '0xCCF6629aEaB734E621Cc59EBb0297196774fDb9D',\n    whitelist: '0xe9963AFfc9a53e293c9bB547c52902071e6087c9',\n    zeroxExchange: '0x0000000000000000000000000000000000000000',\n  },\n  [SupportedNetworks.Arbitrum]: {\n    controller: '0xeE30f92cc9Bf896679567d1aCD551f0E179756fC',\n    calculator: '0xC9F007D6F0aa2b6C5f0E4c0Ff79273227C2100A9',\n    factory: '0x4D3a52A0e98144CAf46Ac226d83e8f144b5c654D',\n    addressBook: '0x9a33230f59Cc7Cc9A084E0098A2b2934FC7BF7c0',\n    pool: '0x63d8d20606c048B9B79A30ea45Ca6787F8aEB051',\n    whitelist: '0xB8f0AC1Ab70643ebE8103Db3618EA5eD6901B458',\n    zeroxExchange: '0x0000000000000000000000000000000000000000',\n  },\n  [SupportedNetworks.Matic]: {\n    controller: '0x7a23c712bddde52b22d8ff52e4cdadb1bcb0b203',\n    calculator: '0x5C16b2fae97ab59814F34632202D7DE69c45c057',\n    factory: '0xedD70E045903D34fBA7302B5094D37EAceb1397c',\n    addressBook: '0xa87ECDaEA486bB0baEeB77FF0630364772A6bbFE',\n    pool: '0x30aE5DEBc9EdF60a23cD19494492b1ef37afA56d',\n    whitelist: '0x9E435A5Cb48aeE2C156a8E541ee645e1c171d012',\n    zeroxExchange: '0x0000000000000000000000000000000000000000',\n  },\n}\n\nexport const blacklistOTokens: { [key in SupportedNetworks]: string[] } = {\n  [SupportedNetworks.Mainnet]: [ZERO_ADDR],\n  [SupportedNetworks.Ropsten]: [ZERO_ADDR],\n  [SupportedNetworks.Kovan]: ['0x81300ac27ac2470713602b4d8a73dfcc85b779b1'],\n  [SupportedNetworks.Arbitrum]: [ZERO_ADDR],\n  [SupportedNetworks.Avalanche]: [ZERO_ADDR],\n  [SupportedNetworks.Matic]: [ZERO_ADDR],\n}\n\ntype KnownOperator = {\n  address: string\n  name: string\n  description: string\n  author: string\n  audited: boolean\n}\n\nexport const knownOperators: {\n  [key in SupportedNetworks]: KnownOperator[]\n} = {\n  [SupportedNetworks.Mainnet]: [\n    {\n      address: isPublic ? '0x8f7dd610c457fc7cb26b0f9db4e77581f94f70ac' : '0xa05157b27b7db2eb63bb0c11412b71e7de027f89',\n      name: 'PayableProxy',\n      description: 'Proxy contract to help mint calls with ETH instead of WETH',\n      audited: true,\n      author: 'Opyn',\n    },\n  ],\n  [SupportedNetworks.Ropsten]: [\n    {\n      address: isPublic ? '0x0da6280d0837292b7a1f27fc602c7e0bd3ce0b66' : '0x02d048A5f5153Eb48ce0fd4E7f03966C91139636',\n      name: 'PayableProxy',\n      description: 'Proxy contract to help mint calls with ETH instead of WETH',\n      audited: true,\n      author: 'Opyn',\n    },\n  ],\n  [SupportedNetworks.Kovan]: [\n    {\n      address: isPublic ? '0x5957a413f5ac4bcf2ba7c5c461a944b548adb1a5' : '0xe501e882f6e5f049899e02b7e48d89f223cb2a4f',\n      name: 'PayableProxy',\n      description: 'Proxy contract to help mint calls with ETH instead of WETH',\n      audited: true,\n      author: 'Opyn',\n    },\n  ],\n  [SupportedNetworks.Avalanche]: [],\n  [SupportedNetworks.Arbitrum]: [\n    {\n      address: '0x91332064B2aB742eFBB0Ee416895dffB5fA85053',\n      name: 'PayableProxy',\n      description: 'Proxy contract to help mint calls with ETH instead of WETH',\n      audited: true,\n      author: 'Opyn',\n    },\n  ],\n  [SupportedNetworks.Matic]: [\n    {\n      address: '0xb03036798511912359EDfff10c54E29db718f658',\n      name: 'PayableProxy',\n      description: 'Proxy contract to help mint calls with MATIC instead of WMATIC',\n      audited: true,\n      author: 'Opyn',\n    },\n  ],\n}\n\nexport const getETHAggregators = (networkId: SupportedNetworks) => {\n  if (networkId === SupportedNetworks.Mainnet) return '0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419'\n  if (networkId === SupportedNetworks.Kovan) return '0x9326BFA02ADD2366b30bacB125260Af641031331'\n  return ''\n}\n\nexport const getPrimaryPaymentToken = (networkId: SupportedNetworks) => {\n  return tokens[networkId].find(t => t.symbol === 'USDC') as Token\n}\n\nexport const getUSDC = (networkId: SupportedNetworks) => {\n  return tokens[networkId].find(t => t.symbol === 'USDC') || eth\n}\n\nexport const getWeth = (networkId: SupportedNetworks) => {\n  // return the wrapped native token\n  return tokens[networkId].find(t => t.symbol === 'WETH' || t.symbol === 'WAVAX') as Token\n}\n\nexport const getPayableProxyAddr = (networkId: SupportedNetworks) => {\n  return knownOperators[networkId].find(o => o.name === 'PayableProxy')\n}\n","import Ethereum from '../imgs/Ethereum.png'\nimport AVAX from '../imgs/WAVAX.webp'\nimport Arbitrum from '../imgs/Arbitrum.svg'\nimport Matic from '../imgs/matic.svg'\n\nexport enum SupportedNetworks {\n  Mainnet = 1,\n  Ropsten = 3,\n  Kovan = 42,\n  Matic = 137,\n  Avalanche = 43114,\n  Arbitrum = 42161,\n}\n\nexport const networkIdToExplorer = {\n  [SupportedNetworks.Mainnet]: 'https://etherscan.io',\n  [SupportedNetworks.Ropsten]: 'https://ropsten.etherscan.io',\n  [SupportedNetworks.Kovan]: 'https://kovan.etherscan.io',\n  [SupportedNetworks.Avalanche]: 'https://snowtrace.io',\n  [SupportedNetworks.Arbitrum]: 'https://arbiscan.io',\n  [SupportedNetworks.Matic]: 'https://polygonscan.com',\n}\n\nexport const networkToLogo: { [key in SupportedNetworks]: string } = {\n  [SupportedNetworks.Mainnet]: Ethereum,\n  [SupportedNetworks.Kovan]: Ethereum,\n  [SupportedNetworks.Ropsten]: Ethereum,\n  [SupportedNetworks.Avalanche]: AVAX,\n  [SupportedNetworks.Arbitrum]: Arbitrum,\n  [SupportedNetworks.Matic]: Matic,\n}\n\nexport const isMainnet: { [key in SupportedNetworks]: boolean } = {\n  [SupportedNetworks.Mainnet]: true,\n  [SupportedNetworks.Kovan]: false,\n  [SupportedNetworks.Ropsten]: false,\n  [SupportedNetworks.Avalanche]: true,\n  [SupportedNetworks.Arbitrum]: true,\n  [SupportedNetworks.Matic]: true,\n}\n\nexport const isSupportedByMetaMask = (network: SupportedNetworks) => {\n  if (\n    network === SupportedNetworks.Mainnet ||\n    network === SupportedNetworks.Kovan ||\n    network === SupportedNetworks.Ropsten\n  )\n    return true\n  return false\n}\n\nexport const networkToTokenConfig = (networkId: SupportedNetworks) => {\n  if (isSupportedByMetaMask(networkId)) return undefined\n  if (networkId === SupportedNetworks.Avalanche)\n    return {\n      name: 'Avalanche',\n      symbol: 'AVAX',\n      decimals: 18,\n    }\n  if (networkId === SupportedNetworks.Arbitrum)\n    return {\n      name: 'Arbitrum ETH',\n      symbol: 'AETH',\n      decimals: 18,\n    }\n  if (networkId === SupportedNetworks.Matic)\n    return {\n      name: 'Matic',\n      symbol: 'MATIC',\n      decimals: 18,\n    }\n}\n","module.exports = __webpack_public_path__ + \"static/media/Arbitrum.261f0ca6.svg\";","module.exports = __webpack_public_path__ + \"static/media/matic.5480961c.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/drip-black.9feb3aea.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAADAFBMVEVHcEwA/wAloHoAACQmoHomoXsA//8Of3YmoXoPnWYloHomoHsmoHs8mX8ylnkloXsinHoA/3MlmogloHomoHoloXokoHwloHojoHgmnH4lnXgjnnoloHokoXoloHsmoHsloHoooIUloXoAf2UloXoln3sloHoin3oloXsln3omonwioHkkoHkkoHoloXokoHskoHoloHkloXsloHkloXoloXoloHsmoHoloXsloHoknXkloHskn3oloHokoXsmpHwloXsloHoloXsmn3gloXsjn3gln3omo30loHkloXsmoXsmoXokoHoln3ompn8loHomonwkn3kkn3kmpX0loXsloHoloXolonslpX8loXskoHomoHslonwlonsmpH0mo30lpH0kn3kmoHoloXknp38monokoXsmoXskn3kknnokn3knp4AloHkmpH0loHkjoXsmoHsoqoImoXsnqoInq4ImqIAmonsmoXv///8noXwjoHkkoHoenXZQs5X3/Pr6/fwtpH+S0L39/v0pon0oonx2w6wmonwgnncnoXsnonwloXonpn8oq4L+/v8npH0qo30hn3j+//8mo30ro34oqYEmo3wnpX4nqIFCrYz5/Psmonsnp4Ain3n5/fw6qoccnXX+/v4WmnIennZgup7D5dsanHQbnHQprYT8/v33+/ofnncRmG/+//5RtJUYm3Inp38rpH4vpYHn9fDU7eUUmXAVmnHv+PYzp4MupYCb1MMproWNzbo+rIr0+vhnvaM8q4h6xa7t9/R9x7Ci18fA49kprIOr28w1qIREro5lvKFiu6Cu3M44qYYqsYem2Mm+49e34NPG5t1xwqnd8ev2+/nM6eC039LY7ufI597l9PB0w6pcuJzy+feGyrWU0b5XtplZt5ptwKee1cTP6+Ipo3284taY08FHr4/g8expvqSKzLex3tAOl23C5Nl3xKz7/f2AyLJUtZdJsJFMspLK6N+g1sbq9vJfuZ6CybPb7+mR0LxOspOPz7wnpX3i8u7m9PD29i49AAAAd3RSTlMAAfoB//4BAv0D+/78BAX6BwIGcf37MPwcEgwa4+eddZEK8wTDH+EYvTr+LGVOqVQ2p66ZloL1/IagFcAo1WP+tNClE8sjebNC7fg8aNL+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\"","import React, { useState, useEffect, useCallback, useMemo } from 'react'\nimport { Row, Col } from 'react-grid-system'\nimport BigNumber from 'bignumber.js'\nimport {\n  Button,\n  TextInput,\n  IconArrowRight,\n  IconUnlock,\n  LinkBase,\n  TextCopy,\n  EthIdenticon,\n  LoadingRing,\n} from '@aragon/ui'\nimport { SubgraphOToken } from '../../../types'\n\nimport { toTokenAmount, fromTokenAmount } from '../../../utils/math'\n\nimport { TradeAction, Errors, DeadlineUnit, Spenders } from '../../../constants'\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { getPrimaryPaymentToken, ZERO_ADDR } from '../../../constants/addresses'\n\nimport OTokenIcon from '../../../components/OTokenIcon'\nimport USDCIcon from '../../../imgs/USDC.png'\nimport { use0xExchange } from '../../../hooks/use0xExchange'\nimport { useUserAllowance } from '../../../hooks/useAllowance'\n\nimport EditOrderDeadlineModal from '../../../components/EditOrderDeadlineModal'\n\nimport WarningText from '../../../components/Warning'\nimport TokenBalanceEntry from '../../../components/TokenBalanceEntry'\nimport LabelText from '../../../components/LabelText'\nimport SectionHeader from '../../../components/SectionHeader'\nimport Comment from '../../../components/Comment'\nimport { useCustomToast } from '../../../hooks'\n\ntype TradeDetailProps = {\n  oTokenBalance: BigNumber\n  selectedOToken: SubgraphOToken\n  paymentTokenBalance: BigNumber\n}\n\nexport default function MakeOrderDetail({ selectedOToken, paymentTokenBalance, oTokenBalance }: TradeDetailProps) {\n  const { networkId } = useConnectedWallet()\n  const toast = useCustomToast()\n  const [action, setAction] = useState<TradeAction>(TradeAction.Buy)\n\n  const [inputTokenAmount, setInputTokenAmount] = useState<BigNumber>(new BigNumber(0))\n  const [outputTokenAmount, setOutputTokenAmount] = useState<BigNumber>(new BigNumber(0))\n\n  const [takerAddress, setTakerAddress] = useState<string>(ZERO_ADDR)\n\n  const [isApprovingUSDC, setIsApprovingUSDC] = useState(false)\n  const [isApprovingOToken, setIsApprovingOToken] = useState(false)\n\n  const paymentToken = useMemo(() => getPrimaryPaymentToken(networkId), [networkId])\n\n  const { createOrder } = use0xExchange()\n\n  const [encodedOrder, setSignedOrder] = useState<null | string>(null)\n\n  const [deadline, setDeadline] = useState<number>(20)\n\n  const [finalDeadlineUnit, setFinalDeadlineUnit] = useState<DeadlineUnit>(DeadlineUnit.Minutes)\n\n  const [error, setError] = useState(Errors.NO_ERROR)\n\n  const inputToken = useMemo(() => (action === TradeAction.Buy ? paymentToken : selectedOToken), [\n    paymentToken,\n    selectedOToken,\n    action,\n  ])\n\n  const outputToken = useMemo(() => (action === TradeAction.Buy ? selectedOToken : paymentToken), [\n    paymentToken,\n    selectedOToken,\n    action,\n  ])\n\n  const inputTokenBalance = useMemo(() => (action === TradeAction.Buy ? paymentTokenBalance : oTokenBalance), [\n    action,\n    paymentTokenBalance,\n    oTokenBalance,\n  ])\n  const outputTokenBalance = useMemo(() => (action === TradeAction.Buy ? oTokenBalance : paymentTokenBalance), [\n    action,\n    oTokenBalance,\n    paymentTokenBalance,\n  ])\n\n  const [needApproveInputToken, setNeedApprove] = useState(true)\n  const { allowance: usdcAllowance, approve: approveUSDC } = useUserAllowance(paymentToken.id, Spenders.ZeroXExchange)\n  const { allowance: oTokenAllowance, approve: approveOTokenZX } = useUserAllowance(\n    selectedOToken.id,\n    Spenders.ZeroXExchange,\n  )\n\n  const approveUSDCAndFee = useCallback(async () => {\n    setIsApprovingUSDC(true)\n    try {\n      if (action === TradeAction.Buy) {\n        const rawInputAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals)\n        await approveUSDC(rawInputAmount)\n      }\n    } catch {\n      setIsApprovingUSDC(false)\n    }\n  }, [action, inputToken, inputTokenAmount, approveUSDC])\n\n  const approveOToken = useCallback(async () => {\n    setIsApprovingOToken(true)\n    try {\n      const rawInputAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals)\n      await approveOTokenZX(rawInputAmount)\n    } catch {\n      setIsApprovingOToken(false)\n    }\n  }, [inputTokenAmount, inputToken, approveOTokenZX])\n\n  const inputIcon = useMemo(\n    () =>\n      action === TradeAction.Buy ? (\n        <img alt=\"inputtoken\" width={25} src={USDCIcon} />\n      ) : (\n        <OTokenIcon otoken={selectedOToken} width={25} />\n      ),\n    [action, selectedOToken],\n  )\n\n  const outputIcon = useMemo(\n    () =>\n      action === TradeAction.Buy ? (\n        <OTokenIcon otoken={selectedOToken} width={25} />\n      ) : (\n        <img alt=\"outputtoken\" width={25} src={USDCIcon} />\n      ),\n    [action, selectedOToken],\n  )\n\n  const handleInputChange = useCallback(\n    event => {\n      try {\n        const newAmount = new BigNumber(event.target.value)\n        setInputTokenAmount(newAmount)\n      } catch {}\n    },\n    [setInputTokenAmount],\n  )\n\n  const handleOuputChange = useCallback(\n    event => {\n      try {\n        const newAmount = new BigNumber(event.target.value)\n        setOutputTokenAmount(newAmount)\n      } catch {}\n    },\n    [setOutputTokenAmount],\n  )\n\n  const price = useMemo(() => {\n    if (action === TradeAction.Sell) {\n      return inputTokenAmount.isZero() || inputTokenAmount.isNaN()\n        ? new BigNumber(0)\n        : outputTokenAmount.div(inputTokenAmount)\n    } else {\n      return outputTokenAmount.isZero() || outputTokenAmount.isNaN()\n        ? new BigNumber(0)\n        : inputTokenAmount.div(outputTokenAmount)\n    }\n  }, [inputTokenAmount, action, outputTokenAmount])\n\n  // check balance error\n  useEffect(() => {\n    // if (error !== Errors.NO_ERROR || error !== Errors.INSUFFICIENT_BALANCE) return\n    const inputBalance = action === TradeAction.Buy ? paymentTokenBalance : oTokenBalance\n    const rawInputAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals).integerValue()\n    if (rawInputAmount.gt(inputBalance)) setError(Errors.INSUFFICIENT_BALANCE)\n    else if (error === Errors.INSUFFICIENT_BALANCE) setError(Errors.NO_ERROR)\n  }, [paymentTokenBalance, oTokenBalance, inputToken, inputTokenAmount, action, error])\n\n  // check has enough input allowance\n  useEffect(() => {\n    const inputRawAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals)\n    if (action === TradeAction.Buy) {\n      setNeedApprove(usdcAllowance.lt(inputRawAmount))\n    } else {\n      setNeedApprove(oTokenAllowance.lt(inputRawAmount))\n    }\n  }, [action, oTokenAllowance, usdcAllowance, inputTokenAmount, inputToken])\n\n  const createEncodedOrder = useCallback(async () => {\n    const deadlineInSec = getDeadlineInSec(deadline, finalDeadlineUnit)\n    const makerAssetAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals).integerValue()\n    const takerAssetAmount = fromTokenAmount(outputTokenAmount, outputToken.decimals).integerValue()\n    const expiry = Date.now() / 1000 + deadlineInSec\n    const order = await createOrder(\n      inputToken.id,\n      outputToken.id,\n      // paymentToken.id,\n      makerAssetAmount,\n      takerAssetAmount,\n      // makerFee,\n      expiry,\n      takerAddress,\n    )\n    const objJsonStr = JSON.stringify(order)\n    const encodedOrder = Buffer.from(objJsonStr).toString('base64')\n    setSignedOrder(encodedOrder)\n    toast.success('Order successfully created')\n  }, [\n    toast,\n    finalDeadlineUnit,\n    createOrder,\n    deadline,\n    // makerFee,\n    inputToken.decimals,\n    inputToken.id,\n    inputTokenAmount,\n    outputToken.decimals,\n    outputToken.id,\n    outputTokenAmount,\n    takerAddress,\n    // paymentToken.id,\n  ])\n\n  return (\n    <>\n      <Comment text=\"Side\" padding={15} />\n      <Row>\n        <Col>\n          <Button\n            label=\"Buy\"\n            onClick={() => setAction(TradeAction.Buy)}\n            mode={action === TradeAction.Buy ? 'positive' : 'normal'}\n          />\n          <Button\n            label=\"Sell\"\n            onClick={() => setAction(TradeAction.Sell)}\n            mode={action === TradeAction.Sell ? 'negative' : 'normal'}\n          />\n        </Col>\n      </Row>\n\n      {/* Input Output Amount Row */}\n      <Comment text=\"Amount\" padding={15} />\n      <Row>\n        <Col xl={3} lg={4} md={4} sm={5}>\n          <TextInput\n            type=\"number\"\n            adornment={inputIcon}\n            adornmentPosition=\"end\"\n            value={inputTokenAmount.toNumber()}\n            onChange={handleInputChange}\n          />\n          <LinkBase\n            style={{ fontSize: 12, opacity: 0.7 }}\n            onClick={() => {\n              setInputTokenAmount(toTokenAmount(inputTokenBalance, inputToken.decimals))\n            }}\n          >\n            {' '}\n            Balance: {toTokenAmount(inputTokenBalance, inputToken.decimals).toFixed(4)}\n          </LinkBase>\n          <WarningText show={error !== Errors.NO_ERROR} text={error} />\n        </Col>\n        <Col lg={1} xl={1} style={{ paddingTop: '10px' }}>\n          <IconArrowRight size=\"medium\" />\n        </Col>\n        <Col xl={3} lg={4} md={4} sm={5}>\n          <TextInput\n            type=\"number\"\n            adornment={outputIcon}\n            adornmentPosition=\"end\"\n            value={outputTokenAmount.toFixed()}\n            onChange={handleOuputChange}\n          />\n          <div style={{ fontSize: 12, opacity: 0.7 }}>\n            {' '}\n            Balance: {toTokenAmount(outputTokenBalance, outputToken.decimals).toFixed(4)}{' '}\n          </div>\n        </Col>\n      </Row>\n\n      <Comment text=\"Taker Address\" padding={15} />\n      <Row>\n        <Col xl={5} lg={5} md={6} sm={8}>\n          <TextInput\n            type=\"string\"\n            value={takerAddress}\n            adornment={<EthIdenticon address={takerAddress} scale={1} radius={3} soften={0.7} />}\n            adornmentPosition=\"end\"\n            onChange={event => setTakerAddress(event.target.value)}\n            wide\n          />\n        </Col>\n      </Row>\n\n      <SectionHeader title=\"Detail\" />\n      <TokenBalanceEntry label=\"Price\" amount={price.toFixed(4)} symbol={`${paymentToken.symbol} / oToken`} />\n      <TokenBalanceEntry label=\"Maker Fee\" amount={'0'} symbol={paymentToken.symbol} />\n\n      <div style={{ display: 'flex' }}>\n        <LabelText label={'Deadline'} minWidth={'150px'} />\n        <div style={{ paddingRight: '5px' }}>{deadline.toString()}</div>\n        <div style={{ opacity: 0.7, paddingRight: '15px' }}> {finalDeadlineUnit.toString()} </div>\n        <EditOrderDeadlineModal setDeadline={setDeadline} setFinalDeadlineUnit={setFinalDeadlineUnit} />\n      </div>\n\n      <br />\n\n      <div style={{ display: 'flex' }}>\n        <Button\n          disabled={\n            needApproveInputToken || error !== Errors.NO_ERROR || inputTokenAmount.isZero() || inputTokenAmount.isNaN()\n            // needApproveUSDCForFee // need to enable maker fee\n          }\n          label={'Generate Order'}\n          mode=\"strong\"\n          onClick={createEncodedOrder}\n        />\n        {/* Need to enable usdc in the following: it's a buy or sell nned approve USDC for fee */}\n        {action === TradeAction.Buy && needApproveInputToken && (\n          <Button\n            label=\"approve-fee\"\n            icon={isApprovingUSDC ? <LoadingRing /> : <IconUnlock />}\n            display=\"icon\"\n            onClick={approveUSDCAndFee}\n          />\n        )}\n\n        {/* Need to enable oToken if it's a sell order. */}\n        {action === TradeAction.Sell && needApproveInputToken && (\n          <Button\n            label=\"approve-otoken\"\n            icon={isApprovingOToken ? <LoadingRing /> : <IconUnlock />}\n            display=\"icon\"\n            onClick={approveOToken}\n          />\n        )}\n\n        <br />\n      </div>\n\n      {encodedOrder && (\n        <>\n          <SectionHeader title=\"Result\" />\n          <Comment padding={0} text=\"Send the following string to the taker.\" />\n          <TextCopy value={encodedOrder} />\n        </>\n      )}\n    </>\n  )\n}\n\nfunction getDeadlineInSec(deadline: number, type: DeadlineUnit) {\n  switch (type) {\n    case DeadlineUnit.Seconds:\n      return deadline\n    case DeadlineUnit.Minutes:\n      return deadline * 60\n    case DeadlineUnit.Hours:\n      return deadline * 3600\n    case DeadlineUnit.Days:\n      return deadline * 86400\n  }\n}\n","import React, { useState, useMemo, useEffect, useCallback } from 'react'\nimport { TextInput, Button, Timer, IconUnlock, LoadingRing } from '@aragon/ui'\nimport BigNumber from 'bignumber.js'\nimport { OTokenBalance, SignedOrder, SubgraphOToken, Token } from '../../../types'\nimport { getPrimaryPaymentToken, Errors, Spenders, ZERO_ADDR } from '../../../constants'\n\nimport SectionHeader from '../../../components/SectionHeader'\nimport LabelText from '../../../components/LabelText'\nimport TokenBalanceEntry from '../../../components/TokenBalanceEntry'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { toTokenAmount } from '../../../utils/math'\nimport { use0xExchange } from '../../../hooks/use0xExchange'\nimport WarningText from '../../../components/Warning'\nimport { useUserAllowance } from '../../../hooks/useAllowance'\nimport { useCustomToast } from '../../../hooks'\n\ntype TakerOrderProps = {\n  oTokenBalances: OTokenBalance[] | null\n  paymentTokenBalance: BigNumber\n  allOtokens: SubgraphOToken[]\n}\n\nexport default function TakerOrder({ oTokenBalances, paymentTokenBalance, allOtokens }: TakerOrderProps) {\n  const { getProtocolFee, fillOrder } = use0xExchange()\n\n  const { networkId, user } = useConnectedWallet()\n\n  const paymentToken = useMemo(() => getPrimaryPaymentToken(networkId), [networkId])\n\n  const toast = useCustomToast()\n\n  const [encodedOrder, setEncodedOrder] = useState('')\n\n  const [order, setOrder] = useState<null | SignedOrder>(null)\n\n  const [makerAsset, setMakerAsset] = useState<Token | null>(null)\n  const [takerAsset, setTakerAsset] = useState<Token | null>(null)\n\n  const [isApproving, setIsApproving] = useState(false)\n\n  // const payFeeWithWeth = useMemo(() => getPreference(ZEROX_PROTOCOL_FEE_KEY, FeeTypes.ETH) === FeeTypes.WETH, [])\n\n  const takerAssetBalance = useMemo(\n    () =>\n      takerAsset\n        ? takerAsset?.symbol.includes('USD')\n          ? paymentTokenBalance\n          : oTokenBalances?.find(b => b.token.id === takerAsset.id)?.balance || new BigNumber(0)\n        : new BigNumber(0),\n    [takerAsset, paymentTokenBalance, oTokenBalances],\n  )\n\n  const balanceError = order\n    ? takerAssetBalance.gte(order.takerAmount)\n      ? Errors.NO_ERROR\n      : Errors.INSUFFICIENT_BALANCE\n    : Errors.NO_ERROR\n\n  useEffect(() => {\n    if (encodedOrder === '') return\n    try {\n      const order: SignedOrder = JSON.parse(new Buffer(encodedOrder, 'base64').toString())\n      setOrder(order)\n      // asset is either oToken or usdc\n      const makerAsset = allOtokens.find(t => t.id === order.makerToken) || paymentToken\n      const takerAsset = allOtokens.find(t => t.id === order.takerToken) || paymentToken\n      setMakerAsset(makerAsset)\n      setTakerAsset(takerAsset)\n    } catch (error) {\n      toast.error('Decode order failed')\n    }\n  }, [encodedOrder, allOtokens, paymentTokenBalance, paymentToken, toast])\n\n  // denominated in eth\n  const protocolFee = useMemo(() => (order ? getProtocolFee([order]) : new BigNumber(0)), [getProtocolFee, order])\n  // const hasEnoughWeth = useMemo(() => wethBalance.gt(fromTokenAmount(protocolFee, 18)), [protocolFee, wethBalance])\n\n  // get taker asset allowance\n  const { approve, allowance } = useUserAllowance(takerAsset?.id || paymentToken.id, Spenders.ZeroXExchange)\n\n  const needApprove = useMemo(() => (order ? new BigNumber(order.takerAmount).gt(allowance) : false), [\n    order,\n    allowance,\n  ])\n\n  const handleFillOrder = useCallback(async () => {\n    if (!order) return toast.error('No order selected')\n    await fillOrder(order, new BigNumber(order.takerAmount))\n  }, [fillOrder, order, toast])\n\n  const takable = useMemo(() => (order ? order.taker === ZERO_ADDR || order.taker.toLowerCase() === user : true), [\n    order,\n    user,\n  ])\n\n  const approveOToken = useCallback(async () => {\n    if (!order) return toast.error('No order selected')\n    setIsApproving(true)\n    try {\n      await approve(new BigNumber(order.takerAmount))\n    } catch (error) {\n      toast.error(error.message)\n    } finally {\n      setIsApproving(false)\n    }\n  }, [approve, order, toast])\n\n  return (\n    <>\n      <SectionHeader title=\"Order\" />\n      <span style={{ opacity: 0.9, fontSize: 15 }}> Paste the order string you get from the order maker. </span>\n      <TextInput wide onChange={event => setEncodedOrder(event.target.value)} />\n      <WarningText show={!takable} text=\"You cannot take this order\" />\n\n      {order && (\n        <>\n          <SectionHeader title=\"Detail\" />\n\n          <TokenBalanceEntry\n            label=\"I Get\"\n            amount={toTokenAmount(order.makerAmount, makerAsset?.decimals || 8).toString()}\n            symbol={makerAsset?.symbol || ''}\n          />\n\n          <TokenBalanceEntry\n            label=\"I Pay\"\n            amount={toTokenAmount(order.takerAmount, takerAsset?.decimals || 8).toString()}\n            symbol={takerAsset?.symbol || ''}\n          />\n          <WarningText show={balanceError !== Errors.NO_ERROR} text={balanceError} />\n\n          <div style={{ display: 'flex', paddingTop: '5px' }}>\n            <LabelText label={'Expires in'} minWidth={'150px'} />\n            <Timer end={new Date(Number(order.expiry) * 1000)} />\n          </div>\n\n          {order.takerTokenFeeAmount !== '0' && (\n            <TokenBalanceEntry\n              label=\"Taker Fee\"\n              amount={toTokenAmount(order.takerTokenFeeAmount, takerAsset?.decimals || 8).toString()}\n              symbol={takerAsset?.symbol || ''}\n            />\n          )}\n\n          <TokenBalanceEntry label=\"Protocol Fee\" amount={protocolFee.toString()} symbol={'ETH'} />\n\n          <br />\n          <div style={{ display: 'flex' }}>\n            <Button\n              disabled={balanceError !== Errors.NO_ERROR || needApprove || !takable}\n              mode=\"strong\"\n              label=\"Complete Trade\"\n              onClick={handleFillOrder}\n            />\n\n            {needApprove && (\n              <Button\n                label=\"approve\"\n                mode=\"positive\"\n                display=\"icon\"\n                icon={isApproving ? <LoadingRing /> : <IconUnlock />}\n                onClick={approveOToken}\n              />\n            )}\n          </div>\n        </>\n      )}\n    </>\n  )\n}\n","import React, { useState, useEffect, useCallback, useMemo } from 'react'\nimport { Row, Col } from 'react-grid-system'\nimport BigNumber from 'bignumber.js'\nimport {\n  Button,\n  TextInput,\n  IconArrowRight,\n  IconUnlock,\n  LinkBase,\n  TextCopy,\n  EthIdenticon,\n  LoadingRing,\n} from '@aragon/ui'\n\nimport { toTokenAmount, fromTokenAmount } from '../../../utils/math'\n\nimport { TradeAction, Errors, DeadlineUnit, Spenders } from '../../../constants'\nimport { ZERO_ADDR } from '../../../constants/addresses'\n\nimport WETHIcon from '../../../imgs/ETH.png'\nimport SQTHIcon from '../../../imgs/osqueeth.svg'\n\nimport { use0xExchange } from '../../../hooks/use0xExchange'\nimport { useUserAllowance } from '../../../hooks/useAllowance'\n\nimport EditOrderDeadlineModal from '../../../components/EditOrderDeadlineModal'\n\nimport WarningText from '../../../components/Warning'\nimport TokenBalanceEntry from '../../../components/TokenBalanceEntry'\nimport LabelText from '../../../components/LabelText'\nimport SectionHeader from '../../../components/SectionHeader'\nimport Comment from '../../../components/Comment'\nimport { useCustomToast } from '../../../hooks'\nimport { squeeth, weth } from './constants'\n\ntype TradeDetailProps = {\n  squeethBalance: BigNumber\n  paymentTokenBalance: BigNumber\n}\n\nexport default function MakeOrderDetailSimple({ paymentTokenBalance, squeethBalance }: TradeDetailProps) {\n  const toast = useCustomToast()\n  const [action, setAction] = useState<TradeAction>(TradeAction.Buy)\n\n  const [inputTokenAmount, setInputTokenAmount] = useState<BigNumber>(new BigNumber(0))\n  const [outputTokenAmount, setOutputTokenAmount] = useState<BigNumber>(new BigNumber(0))\n\n  const [takerAddress, setTakerAddress] = useState<string>(ZERO_ADDR)\n\n  const [isApprovingPaymentToken, setApprovingPaymentToken] = useState(false)\n  const [isApprovingSqueeth, setIsApprovingOToken] = useState(false)\n\n  const paymentToken = weth\n\n  const { createOrder } = use0xExchange()\n\n  const [encodedOrder, setSignedOrder] = useState<null | string>(null)\n\n  const [deadline, setDeadline] = useState<number>(20)\n\n  const [finalDeadlineUnit, setFinalDeadlineUnit] = useState<DeadlineUnit>(DeadlineUnit.Minutes)\n\n  const [error, setError] = useState(Errors.NO_ERROR)\n\n  const inputToken = useMemo(() => (action === TradeAction.Buy ? paymentToken : squeeth), [\n    paymentToken,\n    action,\n  ])\n\n  const outputToken = useMemo(() => (action === TradeAction.Buy ? squeeth : paymentToken), [\n    paymentToken,\n    action,\n  ])\n\n  const inputTokenBalance = useMemo(() => (action === TradeAction.Buy ? paymentTokenBalance : squeethBalance), [\n    action,\n    paymentTokenBalance,\n    squeethBalance,\n  ])\n  const outputTokenBalance = useMemo(() => (action === TradeAction.Buy ? squeethBalance : paymentTokenBalance), [\n    action,\n    squeethBalance,\n    paymentTokenBalance,\n  ])\n\n  const [needApproveInputToken, setNeedApprove] = useState(true)\n  const { allowance: usdcAllowance, approve: approveUSDC } = useUserAllowance(paymentToken.id, Spenders.ZeroXExchange)\n  const { allowance: oTokenAllowance, approve: approveOTokenZX } = useUserAllowance(\n    squeeth.id,\n    Spenders.ZeroXExchange,\n  )\n\n  const approveUSDCAndFee = useCallback(async () => {\n    setApprovingPaymentToken(true)\n    try {\n      if (action === TradeAction.Buy) {\n        const rawInputAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals)\n        await approveUSDC(rawInputAmount)\n      }\n    } catch {\n      setApprovingPaymentToken(false)\n    }\n  }, [action, inputToken, inputTokenAmount, approveUSDC])\n\n  const approveOToken = useCallback(async () => {\n    setIsApprovingOToken(true)\n    try {\n      const rawInputAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals)\n      await approveOTokenZX(rawInputAmount)\n    } catch {\n      setIsApprovingOToken(false)\n    }\n  }, [inputTokenAmount, inputToken, approveOTokenZX])\n\n  const inputIcon = useMemo(\n    () =>\n      action === TradeAction.Buy ? (\n        <img alt=\"inputtoken\" width={25} src={WETHIcon} />\n      ) : (\n        <img alt=\"inputtoken\" width={25} src={SQTHIcon} />\n      ),\n    [action],\n  )\n\n  const outputIcon = useMemo(\n    () =>\n      action === TradeAction.Buy ? (\n        <img alt=\"inputtoken\" width={25} src={SQTHIcon} />\n      ) : (\n        <img alt=\"outputtoken\" width={25} src={WETHIcon} />\n      ),\n    [action],\n  )\n\n  const handleInputChange = useCallback(\n    event => {\n      try {\n        const newAmount = new BigNumber(event.target.value)\n        setInputTokenAmount(newAmount)\n      } catch {}\n    },\n    [setInputTokenAmount],\n  )\n\n  const handleOuputChange = useCallback(\n    event => {\n      try {\n        const newAmount = new BigNumber(event.target.value)\n        setOutputTokenAmount(newAmount)\n      } catch {}\n    },\n    [setOutputTokenAmount],\n  )\n\n  const price = useMemo(() => {\n    if (action === TradeAction.Sell) {\n      return inputTokenAmount.isZero() || inputTokenAmount.isNaN()\n        ? new BigNumber(0)\n        : outputTokenAmount.div(inputTokenAmount)\n    } else {\n      return outputTokenAmount.isZero() || outputTokenAmount.isNaN()\n        ? new BigNumber(0)\n        : inputTokenAmount.div(outputTokenAmount)\n    }\n  }, [inputTokenAmount, action, outputTokenAmount])\n\n  // check balance error\n  useEffect(() => {\n    // if (error !== Errors.NO_ERROR || error !== Errors.INSUFFICIENT_BALANCE) return\n    const inputBalance = action === TradeAction.Buy ? paymentTokenBalance : squeethBalance\n    const rawInputAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals).integerValue()\n    if (rawInputAmount.gt(inputBalance)) setError(Errors.INSUFFICIENT_BALANCE)\n    else if (error === Errors.INSUFFICIENT_BALANCE) setError(Errors.NO_ERROR)\n  }, [paymentTokenBalance, squeethBalance, inputToken, inputTokenAmount, action, error])\n\n  // check has enough input allowance\n  useEffect(() => {\n    const inputRawAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals)\n    if (action === TradeAction.Buy) {\n      setNeedApprove(usdcAllowance.lt(inputRawAmount))\n    } else {\n      setNeedApprove(oTokenAllowance.lt(inputRawAmount))\n    }\n  }, [action, oTokenAllowance, usdcAllowance, inputTokenAmount, inputToken])\n\n  const createEncodedOrder = useCallback(async () => {\n    const deadlineInSec = getDeadlineInSec(deadline, finalDeadlineUnit)\n    const makerAssetAmount = fromTokenAmount(inputTokenAmount, inputToken.decimals).integerValue()\n    const takerAssetAmount = fromTokenAmount(outputTokenAmount, outputToken.decimals).integerValue()\n    const expiry = Date.now() / 1000 + deadlineInSec\n    const order = await createOrder(\n      inputToken.id,\n      outputToken.id,\n      // paymentToken.id,\n      makerAssetAmount,\n      takerAssetAmount,\n      // makerFee,\n      expiry,\n      takerAddress,\n    )\n    const objJsonStr = JSON.stringify(order)\n    const encodedOrder = Buffer.from(objJsonStr).toString('base64')\n    setSignedOrder(encodedOrder)\n    toast.success('Order successfully created')\n  }, [\n    toast,\n    finalDeadlineUnit,\n    createOrder,\n    deadline,\n    // makerFee,\n    inputToken.decimals,\n    inputToken.id,\n    inputTokenAmount,\n    outputToken.decimals,\n    outputToken.id,\n    outputTokenAmount,\n    takerAddress,\n    // paymentToken.id,\n  ])\n\n  return (\n    <>\n      <Comment text=\"Side\" padding={15} />\n      <Row>\n        <Col>\n          <Button\n            label=\"Buy\"\n            onClick={() => setAction(TradeAction.Buy)}\n            mode={action === TradeAction.Buy ? 'positive' : 'normal'}\n          />\n          <Button\n            label=\"Sell\"\n            onClick={() => setAction(TradeAction.Sell)}\n            mode={action === TradeAction.Sell ? 'negative' : 'normal'}\n          />\n        </Col>\n      </Row>\n\n      {/* Input Output Amount Row */}\n      <Comment text=\"Amount\" padding={15} />\n      <Row>\n        <Col xl={3} lg={4} md={4} sm={5}>\n          <TextInput\n            type=\"number\"\n            adornment={inputIcon}\n            adornmentPosition=\"end\"\n            value={inputTokenAmount.toNumber()}\n            onChange={handleInputChange}\n          />\n          <LinkBase\n            style={{ fontSize: 12, opacity: 0.7 }}\n            onClick={() => {\n              setInputTokenAmount(toTokenAmount(inputTokenBalance, inputToken.decimals))\n            }}\n          >\n            {' '}\n            Balance: {toTokenAmount(inputTokenBalance, inputToken.decimals).toFixed(4)}\n          </LinkBase>\n          <WarningText show={error !== Errors.NO_ERROR} text={error} />\n        </Col>\n        <Col lg={1} xl={1} style={{ paddingTop: '10px' }}>\n          <IconArrowRight size=\"medium\" />\n        </Col>\n        <Col xl={3} lg={4} md={4} sm={5}>\n          <TextInput\n            type=\"number\"\n            adornment={outputIcon}\n            adornmentPosition=\"end\"\n            value={outputTokenAmount.toFixed()}\n            onChange={handleOuputChange}\n          />\n          <div style={{ fontSize: 12, opacity: 0.7 }}>\n            {' '}\n            Balance: {toTokenAmount(outputTokenBalance, outputToken.decimals).toFixed(4)}{' '}\n          </div>\n        </Col>\n      </Row>\n\n      <Comment text=\"Taker Address\" padding={15} />\n      <Row>\n        <Col xl={5} lg={5} md={6} sm={8}>\n          <TextInput\n            type=\"string\"\n            value={takerAddress}\n            adornment={<EthIdenticon address={takerAddress} scale={1} radius={3} soften={0.7} />}\n            adornmentPosition=\"end\"\n            onChange={event => setTakerAddress(event.target.value)}\n            wide\n          />\n        </Col>\n      </Row>\n\n      <SectionHeader title=\"Detail\" />\n      <TokenBalanceEntry label=\"Price\" amount={price.toFixed(4)} symbol={`${paymentToken.symbol} / ${squeeth.symbol}`} />\n      <TokenBalanceEntry label=\"Maker Fee\" amount={'0'} symbol={paymentToken.symbol} />\n\n      <div style={{ display: 'flex' }}>\n        <LabelText label={'Deadline'} minWidth={'150px'} />\n        <div style={{ paddingRight: '5px' }}>{deadline.toString()}</div>\n        <div style={{ opacity: 0.7, paddingRight: '15px' }}> {finalDeadlineUnit.toString()} </div>\n        <EditOrderDeadlineModal setDeadline={setDeadline} setFinalDeadlineUnit={setFinalDeadlineUnit} />\n      </div>\n\n      <br />\n\n      <div style={{ display: 'flex' }}>\n        <Button\n          disabled={\n            needApproveInputToken || error !== Errors.NO_ERROR || inputTokenAmount.isZero() || inputTokenAmount.isNaN()\n            // needApproveUSDCForFee // need to enable maker fee\n          }\n          label={'Generate Order'}\n          mode=\"strong\"\n          onClick={createEncodedOrder}\n        />\n        {/* Need to enable usdc in the following: it's a buy or sell nned approve USDC for fee */}\n        {action === TradeAction.Buy && needApproveInputToken && (\n          <Button\n            label=\"approve-fee\"\n            icon={isApprovingPaymentToken ? <LoadingRing /> : <IconUnlock />}\n            display=\"icon\"\n            onClick={approveUSDCAndFee}\n          />\n        )}\n\n        {/* Need to enable oToken if it's a sell order. */}\n        {action === TradeAction.Sell && needApproveInputToken && (\n          <Button\n            label=\"approve-otoken\"\n            icon={isApprovingSqueeth ? <LoadingRing /> : <IconUnlock />}\n            display=\"icon\"\n            onClick={approveOToken}\n          />\n        )}\n\n        <br />\n      </div>\n\n      {encodedOrder && (\n        <>\n          <SectionHeader title=\"Result\" />\n          <Comment padding={0} text=\"Send the following string to the taker.\" />\n          <TextCopy value={encodedOrder} />\n        </>\n      )}\n    </>\n  )\n}\n\nfunction getDeadlineInSec(deadline: number, type: DeadlineUnit) {\n  switch (type) {\n    case DeadlineUnit.Seconds:\n      return deadline\n    case DeadlineUnit.Minutes:\n      return deadline * 60\n    case DeadlineUnit.Hours:\n      return deadline * 3600\n    case DeadlineUnit.Days:\n      return deadline * 86400\n  }\n}\n","import React, { useState, useMemo, useEffect, useCallback } from 'react'\nimport { TextInput, Button, Timer, IconUnlock, LoadingRing } from '@aragon/ui'\nimport BigNumber from 'bignumber.js'\nimport { SignedOrder, Token } from '../../../types'\nimport { getPrimaryPaymentToken, Errors, Spenders, ZERO_ADDR } from '../../../constants'\n\nimport SectionHeader from '../../../components/SectionHeader'\nimport LabelText from '../../../components/LabelText'\nimport TokenBalanceEntry from '../../../components/TokenBalanceEntry'\n\nimport { useConnectedWallet } from '../../../contexts/wallet'\nimport { toTokenAmount } from '../../../utils/math'\nimport { use0xExchange } from '../../../hooks/use0xExchange'\nimport WarningText from '../../../components/Warning'\nimport { useUserAllowance } from '../../../hooks/useAllowance'\nimport { useCustomToast } from '../../../hooks'\nimport { squeeth, weth } from './constants'\n\ntype TakerOrderProps = {\n  squeethBalance: BigNumber\n  paymentTokenBalance: BigNumber\n}\n\nexport default function TakerOrder({ squeethBalance, paymentTokenBalance }: TakerOrderProps) {\n  const { getProtocolFee, fillOrder } = use0xExchange()\n\n  const { networkId, user } = useConnectedWallet()\n\n  const paymentToken = useMemo(() => getPrimaryPaymentToken(networkId), [networkId])\n\n  const toast = useCustomToast()\n\n  const [encodedOrder, setEncodedOrder] = useState('')\n\n  const [order, setOrder] = useState<null | SignedOrder>(null)\n\n  const [makerAsset, setMakerAsset] = useState<Token | null>(null)\n  const [takerAsset, setTakerAsset] = useState<Token | null>(null)\n\n  const [isApproving, setIsApproving] = useState(false)\n\n  // const payFeeWithWeth = useMemo(() => getPreference(ZEROX_PROTOCOL_FEE_KEY, FeeTypes.ETH) === FeeTypes.WETH, [])\n\n  const takerAssetBalance = useMemo(\n    () =>\n      takerAsset\n        ? takerAsset.id.toLowerCase() === squeeth.id\n          ? squeethBalance\n          : paymentTokenBalance\n        : new BigNumber(0),\n    [takerAsset, paymentTokenBalance, squeethBalance],\n  )\n\n  const balanceError = order\n    ? takerAssetBalance.gte(order.takerAmount)\n      ? Errors.NO_ERROR\n      : Errors.INSUFFICIENT_BALANCE\n    : Errors.NO_ERROR\n\n  useEffect(() => {\n    if (encodedOrder === '') return\n    try {\n      const order: SignedOrder = JSON.parse(new Buffer(encodedOrder, 'base64').toString())\n      setOrder(order)\n      // asset is either oToken or usdc\n      const makerAsset = order.makerToken.toLowerCase() === squeeth.id ? squeeth : \n      order.makerToken.toLowerCase() === weth.id ? weth : undefined\n  \n      const takerAsset = order.takerToken.toLowerCase() === squeeth.id ? squeeth : \n      order.takerToken.toLowerCase() === weth.id ? weth : undefined\n\n      if (!makerAsset || !takerAsset) throw new Error('Not an Squeeth Order') \n      setMakerAsset(makerAsset)\n      setTakerAsset(takerAsset)\n    } catch (error) {\n      toast.error('Decode order failed (Not a suqeeth / weth order)')\n    }\n  }, [encodedOrder, paymentTokenBalance, paymentToken, toast])\n\n  // denominated in eth\n  const protocolFee = useMemo(() => (order ? getProtocolFee([order]) : new BigNumber(0)), [getProtocolFee, order])\n  // const hasEnoughWeth = useMemo(() => wethBalance.gt(fromTokenAmount(protocolFee, 18)), [protocolFee, wethBalance])\n\n  // get taker asset allowance\n  const { approve, allowance } = useUserAllowance(takerAsset?.id || paymentToken.id, Spenders.ZeroXExchange)\n\n  const needApprove = useMemo(() => (order ? new BigNumber(order.takerAmount).gt(allowance) : false), [\n    order,\n    allowance,\n  ])\n\n  const handleFillOrder = useCallback(async () => {\n    if (!order) return toast.error('No order selected')\n    await fillOrder(order, new BigNumber(order.takerAmount))\n  }, [fillOrder, order, toast])\n\n  const takable = useMemo(() => (order ? order.taker === ZERO_ADDR || order.taker.toLowerCase() === user : true), [\n    order,\n    user,\n  ])\n\n  const approveOToken = useCallback(async () => {\n    if (!order) return toast.error('No order selected')\n    setIsApproving(true)\n    try {\n      await approve(new BigNumber(order.takerAmount))\n    } catch (error) {\n      toast.error(error.message)\n    } finally {\n      setIsApproving(false)\n    }\n  }, [approve, order, toast])\n\n  return (\n    <>\n      <SectionHeader title=\"Order\" />\n      <span style={{ opacity: 0.9, fontSize: 15 }}> Paste the order string you get from the order maker. </span>\n      <TextInput wide onChange={event => setEncodedOrder(event.target.value)} />\n      <WarningText show={!takable} text=\"You cannot take this order\" />\n\n      {order && (\n        <>\n          <SectionHeader title=\"Detail\" />\n\n          <TokenBalanceEntry\n            label=\"I Get\"\n            amount={toTokenAmount(order.makerAmount, makerAsset?.decimals || 8).toString()}\n            symbol={makerAsset?.symbol || ''}\n          />\n\n          <TokenBalanceEntry\n            label=\"I Pay\"\n            amount={toTokenAmount(order.takerAmount, takerAsset?.decimals || 8).toString()}\n            symbol={takerAsset?.symbol || ''}\n          />\n          <WarningText show={balanceError !== Errors.NO_ERROR} text={balanceError} />\n\n          <div style={{ display: 'flex', paddingTop: '5px' }}>\n            <LabelText label={'Expires in'} minWidth={'150px'} />\n            <Timer end={new Date(Number(order.expiry) * 1000)} />\n          </div>\n\n          {order.takerTokenFeeAmount !== '0' && (\n            <TokenBalanceEntry\n              label=\"Taker Fee\"\n              amount={toTokenAmount(order.takerTokenFeeAmount, takerAsset?.decimals || 8).toString()}\n              symbol={takerAsset?.symbol || ''}\n            />\n          )}\n\n          <TokenBalanceEntry label=\"Protocol Fee\" amount={protocolFee.toString()} symbol={'ETH'} />\n\n          <br />\n          <div style={{ display: 'flex' }}>\n            <Button\n              disabled={balanceError !== Errors.NO_ERROR || needApprove || !takable}\n              mode=\"strong\"\n              label=\"Complete Trade\"\n              onClick={handleFillOrder}\n            />\n\n            {needApprove && (\n              <Button\n                label=\"approve\"\n                mode=\"positive\"\n                display=\"icon\"\n                icon={isApproving ? <LoadingRing /> : <IconUnlock />}\n                onClick={approveOToken}\n              />\n            )}\n          </div>\n        </>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { useTheme } from '@aragon/ui'\n\nfunction SectionTitle({ title, paddingTop }: { title: any; paddingTop?: number }) {\n  const theme = useTheme()\n  return (\n    <div\n      style={{\n        paddingTop: paddingTop !== undefined ? paddingTop : 20,\n        paddingBottom: 10,\n        fontSize: 20,\n        color: theme.contentSecondary,\n      }}\n    >\n      {title}\n    </div>\n  )\n}\n\nexport default SectionTitle\n","import Web3 from 'web3'\nimport ENS from 'ethereum-ens'\nimport { SubgraphOToken, SubgraphOracleAsset } from '../types'\nimport {\n  isSupportedByMetaMask,\n  networkIdToExplorer,\n  networkIdToName,\n  networkToProvider,\n  networkToTokenConfig,\n  SupportedNetworks,\n  WAITINT_PERIOD,\n} from '../constants'\nimport { toTokenAmount } from './math'\nimport BigNumber from 'bignumber.js'\n\n// ENS\nexport const resolveENS = async (ensName: string, networkId: number) => {\n  const web3 = new Web3(networkToProvider[networkId])\n  const ens = new ENS(web3)\n  const address = await ens.resolver(ensName).addr()\n  return address.toLowerCase()\n}\n\nexport const isEOA = async (address: string, networkId: number): Promise<Boolean> => {\n  const web3 = new Web3(networkToProvider[networkId])\n  return (await web3.eth.getCode(address)) === '0x'\n}\n\n/**\n * Sorting function\n * @param a\n * @param b\n */\nexport const sortByExpiryThanStrike = (a: SubgraphOToken, b: SubgraphOToken) => {\n  if (Number(a.expiryTimestamp) > Number(b.expiryTimestamp)) return 1\n  else if (Number(a.expiryTimestamp) > Number(b.expiryTimestamp)) return -1\n  else if (Number(a.strikePrice) > Number(b.strikePrice)) return 1\n  else return -1\n}\n\nexport const isExpired = (token: SubgraphOToken) => {\n  return Number(token.expiryTimestamp) < Date.now() / 1000\n}\n\nexport const isSettlementAllowed = (token: SubgraphOToken, allOracleData: SubgraphOracleAsset[]) => {\n  const pricesForUnderlying = allOracleData.find(data => data.asset.id === token.underlyingAsset.id)\n  if (!pricesForUnderlying) return false\n  const hasPriceForExpiry = pricesForUnderlying.prices.find(priceData => priceData.expiry === token.expiryTimestamp)\n  if (!hasPriceForExpiry) return false\n  return Number(token.expiryTimestamp) + WAITINT_PERIOD < Date.now() / 1000\n}\n\nexport const isITM = (token: SubgraphOToken, expiryPrice: string) => {\n  return (\n    (token.isPut && Number(expiryPrice) < Number(token.strikePrice)) ||\n    (!token.isPut && Number(expiryPrice) > Number(token.strikePrice))\n  )\n}\n\nexport const getExpiryPayout = (\n  token: SubgraphOToken,\n  amount: string,\n  expiryPrice: string,\n  collateralPrice?: string,\n) => {\n  if (token.isPut) {\n    // assume that underlying is stable asset\n    const denominator =\n      token.collateralAsset.id === token.strikeAsset.id || !collateralPrice ? 1 : new BigNumber(collateralPrice)\n    return BigNumber.max(\n      toTokenAmount(new BigNumber(token.strikePrice).minus(new BigNumber(expiryPrice)), 8).times(\n        toTokenAmount(amount, 8),\n      ),\n      0,\n    ).div(denominator)\n  } else {\n    const denominator =\n      token.collateralAsset.id === token.underlyingAsset.id || !collateralPrice\n        ? 1\n        : new BigNumber(collateralPrice).div(expiryPrice)\n    return BigNumber.max(\n      toTokenAmount(new BigNumber(expiryPrice).minus(token.strikePrice), 8).times(toTokenAmount(amount, 8)),\n      0,\n    )\n      .div(toTokenAmount(expiryPrice, 8))\n      .div(denominator)\n  }\n}\n\nexport function toUTCDateString(expiry: number): string {\n  const expiryDate = new Date(expiry * 1000)\n  return expiryDate.toUTCString().split(' ').slice(1, 4).join(' ')\n}\n\nexport function sleep(ms: number) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n\nexport function simplifyOTokenSymbol(symbol: string) {\n  // oWETHUSDC/WETH-15JAN21-680C\n  const [assets, remaining] = symbol.split('/')\n  const [, date, strike] = remaining.split('-')\n  // return oWETH--15JAN21-680C\n  return `${assets.replace('USDC', '')}-${date}-${strike}`\n}\n\nexport async function switchNetwork(provider: any, networkId: SupportedNetworks): Promise<boolean> {\n  if (!provider.request) return false\n  if (isSupportedByMetaMask(networkId)) {\n    await provider.request({\n      method: 'wallet_switchEthereumChain',\n      params: [\n        {\n          chainId: `0x${networkId.toString(16)}`,\n        },\n      ],\n    })\n    return true\n  } else {\n    await provider.request({\n      method: 'wallet_addEthereumChain',\n      params: [\n        {\n          chainId: `0x${networkId.toString(16)}`,\n          chainName: networkIdToName[networkId],\n          nativeCurrency: networkToTokenConfig(networkId),\n          rpcUrls: [networkToProvider[networkId]],\n          blockExplorerUrls: [networkIdToExplorer[networkId]],\n        },\n      ],\n    })\n    return true\n  }\n}\n","import BigNumber from 'bignumber.js'\nimport {\n  SignedOrder,\n  OrderWithMetaData,\n  SubgraphOToken as OToken,\n  OTokenOrderBook,\n  OTokenOrderBookWithDetail,\n} from '../types'\nimport {\n  ZeroXEndpoint,\n  getPrimaryPaymentToken,\n  OrderType,\n  Errors,\n  MIN_BID,\n  MAX_ASK,\n  ZERO_ADDR,\n  SupportedNetworks,\n} from '../constants'\nimport { sleep } from '../utils/others'\nimport { toTokenAmount } from './math'\nconst Promise = require('bluebird')\n\n// const USING_PRIVATE_ENDPOINT = process.env.REACT_APP_ZX_ENDPOINT !== undefined;\n\ntype entries = {\n  total: number\n  page: number\n  perPage: number\n  records: OrderWithMetaData[]\n}\n\n/**\n * get oToken:WETH stats (v1) for all options\n * @param {Array<{addr:string, decimals:number}>} options\n * @param {{addr:string, decimals:number}} quoteAsset\n * @return {Promise<Array<\n * >}\n */\nexport async function getBasePairAskAndBids(\n  oTokens: OToken[],\n  networkId: SupportedNetworks,\n): Promise<OTokenOrderBook[]> {\n  const filteredOTokens = oTokens // await filter0xAvailablePairs(networkId, oTokens);\n  // 0x has rate limit of 6 request / 10 sec, will need to chuck array into 6 each\n  const BATCH_REQUEST = 6\n  const COOLDOWN = networkId === 1 ? 0.5 : 2\n\n  const batchOTokens = filteredOTokens.reduce(\n    (prev: OToken[][], curr) => {\n      if (prev.length > 0 && prev[prev.length - 1].length >= BATCH_REQUEST) {\n        return [...prev, [curr]]\n      } else {\n        const copy = [...prev]\n        copy[copy.length - 1].push(curr)\n        return copy\n      }\n    },\n    [[]],\n  )\n\n  let final: OTokenOrderBook[] = []\n\n  for (const batch of batchOTokens) {\n    const [bestAskAndBids] = await Promise.all([\n      Promise.map(batch, async ({ id: oTokenAddr }: OToken) => {\n        const { asks, bids } = await getOTokenUSDCOrderBook(networkId, oTokenAddr)\n        return {\n          id: oTokenAddr,\n          asks: asks.filter(record => isValidAsk(record)),\n          bids: bids.filter(record => isValidBid(record)),\n        }\n      }),\n      sleep(COOLDOWN * 1000),\n    ])\n    final = final.concat(bestAskAndBids)\n  }\n\n  return final\n}\n\nexport const getBidsSummary = (bids: OrderWithMetaData[]) => {\n  const bestBidPrice = bids.length > 0 ? getBidPrice(bids[0].order, 6, 8) : new BigNumber(0)\n  const totalBidAmt = getTotalBidAmount(bids, 8)\n  return {\n    bestBidPrice,\n    totalBidAmt,\n  }\n}\n\nexport const getAsksSummary = (asks: OrderWithMetaData[]) => {\n  const bestAskPrice = asks.length > 0 ? getAskPrice(asks[0].order, 8, 6) : new BigNumber(0)\n  const totalAskAmt = getTotalAskAmount(asks, 8)\n  return {\n    bestAskPrice,\n    totalAskAmt,\n  }\n}\n\nexport const getOrderBookDetail = (basicBook: OTokenOrderBook | undefined): OTokenOrderBookWithDetail => {\n  if (basicBook === undefined) {\n    return {\n      id: '0',\n      bids: [],\n      asks: [],\n      bestBidPrice: '0.0',\n      bestAskPrice: '0.0',\n      totalAskAmt: '0.0',\n      totalBidAmt: '0.0',\n    }\n  }\n\n  const bids = basicBook.bids.filter(order => isValidBid(order))\n  const asks = basicBook.asks.filter(order => isValidAsk(order))\n\n  const { bestBidPrice, totalBidAmt } = getBidsSummary(bids)\n  const { bestAskPrice, totalAskAmt } = getAsksSummary(asks)\n\n  return {\n    id: basicBook.id,\n    bids,\n    asks,\n    bestBidPrice: bestBidPrice.toFixed(2),\n    bestAskPrice: bestAskPrice.toFixed(2),\n    totalAskAmt: totalAskAmt.toFixed(2),\n    totalBidAmt: totalBidAmt.toFixed(2),\n  }\n}\n\ntype PairData = {\n  assetDataA: {\n    minAmount: string\n    maxAmount: string\n    precision: number\n    assetData: string\n  }\n  assetDataB: {\n    minAmount: string\n    maxAmount: string\n    precision: number\n    assetData: string\n  }\n}\n\n/**\n *\n * @param {OrderWithMetaData} order\n */\nexport const getRemainingAmounts = (\n  order: OrderWithMetaData,\n): {\n  remainingTakerAssetAmount: BigNumber\n  remainingMakerAssetAmount: BigNumber\n} => {\n  const remainingTakerAssetAmount = new BigNumber(order.metaData.remainingFillableTakerAmount)\n  const makerAssetAmountBN = new BigNumber(order.order.makerAmount)\n  const takerAssetAmountBN = new BigNumber(order.order.takerAmount)\n  const remainingMakerAssetAmount = remainingTakerAssetAmount.multipliedBy(makerAssetAmountBN).div(takerAssetAmountBN)\n  return { remainingTakerAssetAmount, remainingMakerAssetAmount }\n}\n\n/**\n * get bids and asks for an oToken\n */\nexport async function getOTokenUSDCOrderBook(\n  networkId: SupportedNetworks,\n  oToken: string,\n): Promise<{\n  success: Boolean\n  asks: OrderWithMetaData[]\n  bids: OrderWithMetaData[]\n}> {\n  const quote = getPrimaryPaymentToken(networkId).id\n  const endpoint = ZeroXEndpoint[networkId].http\n  if (endpoint === '')\n    return {\n      success: false,\n      asks: [],\n      bids: [],\n    }\n  const url = `${endpoint}sra/v4/orderbook?baseToken=${oToken}&quoteToken=${quote}&perPage=${100}`\n  try {\n    const res = await fetch(url)\n    // refetch in 0.5 sec\n    if (res.status === 429) {\n      await sleep(500)\n      return getOTokenUSDCOrderBook(networkId, oToken)\n    } else {\n      const result: { asks: entries; bids: entries } = await res.json()\n      return {\n        success: true,\n        asks: result.asks.records,\n        bids: result.bids.records,\n      }\n    }\n  } catch (error) {\n    return {\n      success: false,\n      asks: [],\n      bids: [],\n    }\n  }\n}\n\nexport const isValidBid = (entry: OrderWithMetaData) => {\n  const bidPrice = getBidPrice(entry.order, 6, 8)\n  return bidPrice.gt(MIN_BID) && isValid(entry)\n}\n\nexport const isValidAsk = (entry: OrderWithMetaData) => {\n  const askPrice = getAskPrice(entry.order, 6, 8)\n  return askPrice.lt(MAX_ASK) && isValid(entry)\n}\n\n/**\n * Return true if the order is valid\n */\nconst isValid = (entry: OrderWithMetaData) => {\n  const FILL_BUFFER = 35\n  const open = entry.order.taker === ZERO_ADDR\n  const notExpired = parseInt(entry.order.expiry, 10) > Date.now() / 1000 + FILL_BUFFER\n  const notDust = getOrderFillRatio(entry).gt(5) // got at least 5% unfill\n  return notExpired && notDust && open\n}\n\nexport const getOrderFillRatio = (order: OrderWithMetaData) =>\n  new BigNumber(order.metaData.remainingFillableTakerAmount).div(new BigNumber(order.order.takerAmount)).times(100)\n\n/**\n *\n * @param {number} networkId\n * @param {string[]} oTokens array of oToken addresses\n * @returns {OrderType}\n */\nexport const categorizeOrder = (\n  networkId: SupportedNetworks,\n  oTokens: string[],\n  orderInfo: OrderWithMetaData,\n): { type: OrderType; token: string } => {\n  const usd = getPrimaryPaymentToken(networkId).id\n\n  const takerToken = orderInfo.order.takerToken\n  const makerToken = orderInfo.order.makerToken\n  if (takerToken === usd && oTokens.includes(makerToken)) {\n    return { type: OrderType.ASK, token: makerToken }\n  }\n  if (makerToken === usd && oTokens.includes(takerToken)) {\n    return { type: OrderType.BID, token: takerToken }\n  }\n  return { type: OrderType.NOT_OTOKEN, token: '' }\n}\n\n/**\n * Send orders to the mesh node\n * @param {number} networkId\n * @param {SignedOrder[]} orders\n */\nexport const broadcastOrders = async (networkId: SupportedNetworks, orders: SignedOrder[]) => {\n  const endpoint = ZeroXEndpoint[networkId].http\n  const url = `${endpoint}sra/v4/orders`\n  const res = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(orders),\n  })\n  if (res.status === 200) return\n  const jsonRes = await res.json()\n  throw jsonRes.validationErrors[0].reason\n}\n\n/**\n * Calculate the price of a bid order\n */\nexport const getBidPrice = (\n  bid: SignedOrder,\n  makerAssetDecimals: number = 6,\n  takerAssetDecimals: number = 8,\n): BigNumber => {\n  const makerAssetAmount = toTokenAmount(new BigNumber(bid.makerAmount), makerAssetDecimals)\n  const takerAssetAmount = toTokenAmount(new BigNumber(bid.takerAmount), takerAssetDecimals)\n  return makerAssetAmount.div(takerAssetAmount)\n}\n\n/**\n * Sort functino to sort bids from high to low\n * @param a\n * @param b\n */\nexport const sortBids = (a: OrderWithMetaData, b: OrderWithMetaData): 1 | -1 => {\n  const priceA = getBidPrice(a.order, 6, 8)\n  const priceB = getBidPrice(b.order, 6, 8)\n  return priceA.gt(priceB) ? -1 : 1\n}\n\n/**\n * Sort function to sort asks from low to high\n * @param a\n * @param b\n */\nexport const sortAsks = (a: OrderWithMetaData, b: OrderWithMetaData): 1 | -1 => {\n  const priceA = getAskPrice(a.order, 8, 6)\n  const priceB = getAskPrice(b.order, 8, 6)\n  return priceA.gt(priceB) ? 1 : -1\n}\n\n/**\n * Calculate price of an ask order\n * @description maker want to sell oToken\n * takerAssetAmount 100 weth\n * makerAssetAmount 1 oToken\n */\nexport const getAskPrice = (\n  ask: SignedOrder,\n  makerAssetDecimals: number = 8,\n  takerAssetDecimals: number = 6,\n): BigNumber => {\n  const makerAssetAmount = toTokenAmount(new BigNumber(ask.makerAmount), makerAssetDecimals)\n  const takerAssetAmount = toTokenAmount(new BigNumber(ask.takerAmount), takerAssetDecimals)\n  return takerAssetAmount.div(makerAssetAmount)\n}\n\n/**\n *\n * @param asks\n * @param decimals\n * @returns {BigNumber} max amount of oToken fillable\n */\nexport const getTotalAskAmount = (asks: OrderWithMetaData[], decimals: number): BigNumber => {\n  return asks.reduce(\n    (prev, cur) => prev.plus(toTokenAmount(getRemainingAmounts(cur).remainingMakerAssetAmount, decimals)),\n    new BigNumber(0),\n  )\n}\n\n/**\n *\n * @param bids\n * @param decimals\n * @returns {BigNumber} max amount of oToken fillable\n */\nexport const getTotalBidAmount = (bids: OrderWithMetaData[], decimals: number): BigNumber => {\n  return bids.reduce(\n    (prev, cur) => prev.plus(toTokenAmount(cur.metaData.remainingFillableTakerAmount, decimals)),\n    new BigNumber(0),\n  )\n}\n\n/**\n * Calculate amount of output token to get if I supply {amount} takerAsset\n * @param orderInfos bid order\n * @param amount oToken to sell\n */\nexport const calculateOrderOutput = (orderInfos: OrderWithMetaData[], amount: BigNumber) => {\n  if (amount.isZero()) {\n    return {\n      error: Errors.NO_ERROR,\n      ordersToFill: [] as SignedOrder[],\n      amounts: [] as BigNumber[],\n      sumOutput: new BigNumber(0),\n    }\n  }\n  if (orderInfos.length === 0) {\n    return {\n      error: Errors.INSUFFICIENT_LIQUIDITY,\n      ordersToFill: [] as SignedOrder[],\n      amounts: [] as BigNumber[],\n      sumOutput: new BigNumber(0),\n    }\n  }\n  let inputLeft = amount.integerValue()\n\n  let sumOutput = new BigNumber(0)\n\n  // array of orders to fill\n  const ordersToFill: SignedOrder[] = []\n  // amounts to fill for each order\n  const amounts: BigNumber[] = []\n\n  for (const { metaData, order } of orderInfos) {\n    // amonunt of oToken fillable. always an integer\n    const fillable = new BigNumber(metaData.remainingFillableTakerAmount)\n\n    ordersToFill.push(order)\n\n    const price = new BigNumber(order.makerAmount).div(new BigNumber(order.takerAmount))\n\n    if (fillable.lt(inputLeft)) {\n      sumOutput = sumOutput.plus(fillable.times(price).integerValue(BigNumber.ROUND_DOWN))\n      inputLeft = inputLeft.minus(fillable)\n      // fill the full amount of this order\n      amounts.push(fillable)\n    } else {\n      sumOutput = sumOutput.plus(inputLeft.times(price).integerValue(BigNumber.ROUND_DOWN))\n      // fill the last order with only amount = inputLeft\n      amounts.push(inputLeft)\n      inputLeft = new BigNumber(0)\n      break\n    }\n  }\n\n  if (inputLeft.gt(new BigNumber(0))) {\n    return {\n      error: Errors.INSUFFICIENT_LIQUIDITY,\n      ordersToFill: [] as SignedOrder[],\n      amounts: [] as BigNumber[],\n      sumOutput: new BigNumber(0),\n    }\n  }\n\n  return { error: Errors.NO_ERROR, ordersToFill, amounts, sumOutput: sumOutput.integerValue() }\n}\n\n/**\n * Calculate amount of {takerAsset} need to pay if I want {amount} {makerAsset}\n * @param orderInfos ask orders\n * @param amount oToken I want to buy\n */\nexport const calculateOrderInput = (orderInfos: OrderWithMetaData[], amount: BigNumber) => {\n  if (amount.isZero()) {\n    return {\n      error: Errors.NO_ERROR,\n      ordersToFill: [] as SignedOrder[],\n      amounts: [] as BigNumber[],\n      sumInput: new BigNumber(0),\n    }\n  }\n  if (orderInfos.length === 0) {\n    return {\n      error: Errors.INSUFFICIENT_LIQUIDITY,\n      ordersToFill: [] as SignedOrder[],\n      amounts: [] as BigNumber[],\n      sumInput: new BigNumber(0),\n    }\n  }\n  let neededMakerAmount = amount // needed maker asset\n\n  const ordersToFill: SignedOrder[] = []\n  // amounts to fill for each order (rounded)\n  const amounts: BigNumber[] = []\n\n  for (const { metaData, order } of orderInfos) {\n    const fillableTakerAmount = new BigNumber(metaData.remainingFillableTakerAmount)\n\n    const fillableMakerAmount = new BigNumber(order.makerAmount)\n      .times(fillableTakerAmount)\n      .div(new BigNumber(order.takerAmount))\n      .integerValue(BigNumber.ROUND_DOWN)\n\n    ordersToFill.push(order)\n\n    if (fillableMakerAmount.lt(neededMakerAmount)) {\n      // takes all fillabe amount\n      amounts.push(fillableTakerAmount)\n      neededMakerAmount = neededMakerAmount.minus(fillableMakerAmount)\n    } else {\n      // only fill partial of the order\n      const requiredTakerAsset = fillableTakerAmount.times(neededMakerAmount).div(fillableMakerAmount)\n      amounts.push(requiredTakerAsset.integerValue(BigNumber.ROUND_CEIL))\n      neededMakerAmount = new BigNumber(0)\n      break\n    }\n  }\n\n  if (neededMakerAmount.gt(new BigNumber(0))) {\n    return {\n      error: Errors.INSUFFICIENT_LIQUIDITY,\n      ordersToFill: [] as SignedOrder[],\n      amounts: [] as BigNumber[],\n      sumInput: new BigNumber(0),\n    }\n  }\n\n  // sum all amounts\n  const sumInput = amounts.reduce((prev, curr) => prev.plus(curr), new BigNumber(0))\n\n  return {\n    error: Errors.NO_ERROR,\n    ordersToFill,\n    amounts,\n    sumInput: sumInput.integerValue(),\n  }\n}\n","import { useEffect, useState, useMemo, useReducer } from 'react'\nimport useWebSocket, { ReadyState } from 'react-use-websocket'\nimport { ZeroXEndpoint, OrderType } from '../constants'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { OrderWithMetaData, SubgraphOToken, OTokenOrderBook } from '../types'\nimport { categorizeOrder, getBasePairAskAndBids, sortBids, sortAsks, isValidBid, isValidAsk } from '../utils/0x-utils'\n// import { assetDataUtils } from '@0x/order-utils'\n\nenum OrderbookUpdateType {\n  Init,\n  Update,\n  Expire,\n}\n\nfunction orderbookReducer(\n  books: OTokenOrderBook[],\n  action: {\n    type?: OrderbookUpdateType\n    updateInfos?: {\n      type: OrderType\n      token: string\n      order: OrderWithMetaData\n    }[]\n    books?: OTokenOrderBook[]\n  },\n) {\n  switch (action.type) {\n    case OrderbookUpdateType.Init: {\n      return action.books ?? []\n    }\n    case OrderbookUpdateType.Update: {\n      if (!action.updateInfos) return books\n      let orderbooksCopy = [...books]\n      for (const { type, token, order: orderInfo } of action.updateInfos) {\n        if (type === OrderType.BID) {\n          const orderBookForThisOToken = orderbooksCopy.find(ob => ob.id === token)\n          if (orderBookForThisOToken) {\n            const bids = orderBookForThisOToken.bids\n            const existingBidIdx = bids.findIndex(bid => bid.metaData.orderHash === orderInfo.metaData.orderHash)\n            if (existingBidIdx !== -1) {\n              orderBookForThisOToken.bids[existingBidIdx] = orderInfo\n            } else {\n              orderBookForThisOToken.bids.push(orderInfo)\n              orderBookForThisOToken.bids = orderBookForThisOToken.bids.sort(sortBids)\n            }\n            orderBookForThisOToken.bids = orderBookForThisOToken.bids.filter(isValidBid)\n          } else {\n            // no orderbook for this oToken\n            if (orderInfo.metaData.remainingFillableTakerAmount !== '0') {\n              const bids = [orderInfo]\n              orderbooksCopy.push({ bids, asks: [], id: token })\n            }\n          }\n        } else if (type === OrderType.ASK) {\n          const orderBookForThisOToken = orderbooksCopy.find(ob => ob.id === token)\n          if (orderBookForThisOToken) {\n            const asks = orderBookForThisOToken.asks\n            const existingAskIdx = asks.findIndex(ask => ask.metaData.orderHash === orderInfo.metaData.orderHash)\n            if (existingAskIdx !== -1) {\n              orderBookForThisOToken.asks[existingAskIdx] = orderInfo\n            } else {\n              orderBookForThisOToken.asks.push(orderInfo)\n              orderBookForThisOToken.asks = orderBookForThisOToken.asks.sort(sortAsks)\n            }\n            orderBookForThisOToken.asks = orderBookForThisOToken.asks.filter(isValidAsk)\n          } else {\n            // no orderbook for this oToken\n            if (orderInfo.metaData.remainingFillableTakerAmount !== '0') {\n              const asks = [orderInfo]\n              orderbooksCopy.push({ asks, bids: [], id: token })\n            }\n          }\n        }\n      }\n      return orderbooksCopy\n    }\n    case OrderbookUpdateType.Expire: {\n      const orderbooksCopy = [...books]\n      for (let orderbook of orderbooksCopy) {\n        orderbook.bids = orderbook.bids.filter(order => isValidBid(order))\n        orderbook.asks = orderbook.asks.filter(order => isValidAsk(order))\n      }\n      return orderbooksCopy\n    }\n    default:\n      return books\n  }\n}\n\nexport function use0xOrderBooks(oTokens: SubgraphOToken[], completeCallback?: any) {\n  const { networkId } = useConnectedWallet()\n\n  const wsUrl = useMemo(() => ZeroXEndpoint[networkId].ws, [networkId])\n\n  const [isLoading, setIsLoading] = useState(true)\n\n  const [orderbooksBasic, dispatch] = useReducer(orderbookReducer, [])\n\n  const { sendMessage, lastMessage, readyState } = useWebSocket(\n    wsUrl,\n    {\n      share: true,\n      onError: event => {\n        console.log(event)\n      },\n      shouldReconnect: closeEvent => true,\n      reconnectAttempts: 10,\n      reconnectInterval: 3000,\n    },\n    true,\n  )\n\n  // fetch initial bids and asks when oTokens are ready\n  useEffect(() => {\n    async function refreshOrders() {\n      if (oTokens.length === 0) return []\n      setIsLoading(true)\n      const result = await getBasePairAskAndBids(oTokens, networkId)\n      setIsLoading(false)\n      if (typeof completeCallback === 'function') completeCallback()\n      return result\n    }\n    refreshOrders().then((books: OTokenOrderBook[]) => {\n      dispatch({ type: OrderbookUpdateType.Init, books })\n    })\n  }, [oTokens, networkId, completeCallback])\n\n  useEffect(() => {\n    // subscribe to order changes\n    if (readyState === ReadyState.OPEN) return\n\n    // const usdc = getUSDC(networkId).id\n    const config: any = {\n      type: 'subscribe',\n      channel: 'orders',\n      requestId: Date.now().toString(),\n      // traderToken: usdc,\n    }\n    sendMessage(JSON.stringify(config))\n  }, [readyState, sendMessage, networkId])\n\n  // filter out invalid orders every 5 sec\n  useEffect(() => {\n    const interval = setInterval(() => {\n      dispatch({ type: OrderbookUpdateType.Expire })\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [orderbooksBasic])\n\n  const [lastUpdatedMsg, setLastUpdatedMsg] = useState<any>(null)\n\n  // update bids and asks array when receive new orders\n  useEffect(() => {\n    if (!lastMessage || !lastMessage.data) return\n    if (lastMessage === lastUpdatedMsg) return\n\n    // const orderbooksCopy = [...orderbooksBasic]\n\n    const data = JSON.parse(lastMessage.data)\n    const orders: OrderWithMetaData[] = data.payload\n    const otokenAddrs = oTokens.map(token => token.id)\n\n    const updateInfos = orders\n      .map(orderInfo => {\n        const { type, token } = categorizeOrder(networkId, otokenAddrs, orderInfo)\n        return { type, token, order: orderInfo }\n      })\n      .filter(updateInfo => {\n        return updateInfo.type !== OrderType.NOT_OTOKEN\n      })\n\n    if (updateInfos.length > 0)\n      dispatch({\n        type: OrderbookUpdateType.Update,\n        updateInfos,\n      })\n\n    setLastUpdatedMsg(lastMessage)\n  }, [lastUpdatedMsg, lastMessage, orderbooksBasic, oTokens, networkId])\n\n  return { orderbooks: orderbooksBasic, isLoading }\n}\n","import { useMemo } from 'react'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { useAsyncMemo } from '../hooks/useAsyncMemo'\nimport { getWhitelistedProducts } from '../utils/graph'\nimport { SubgraphToken } from '../types'\nimport { useCustomToast } from './useCustomToast'\n\ntype Product = {\n  id: string\n  strike: SubgraphToken\n  collateral: SubgraphToken\n  underlying: SubgraphToken\n  isPut: boolean\n  label: string\n}\n\nexport function useAllProducts(): { allProducts: Product[] } {\n  const { networkId } = useConnectedWallet()\n  const toast = useCustomToast()\n\n  const allProducts = useAsyncMemo(\n    async () => {\n      const products = await getWhitelistedProducts(networkId, toast.error)\n      if (products === null) return []\n\n      return products.map(product => {\n        const type = product.isPut ? 'Put' : 'Call'\n        const optionName = `${product.underlying.symbol}-${product.strike.symbol} ${type}`\n        return {\n          label: optionName,\n          ...product,\n        }\n      })\n    },\n    [],\n    [networkId],\n  )\n\n  return { allProducts }\n}\n\ntype Series = {\n  underlying: SubgraphToken\n  strike: SubgraphToken\n}\n\nexport function useAllSeries() {\n  const { allProducts } = useAllProducts()\n\n  const allSeries = useMemo(() => {\n    return allProducts.reduce((prev: Series[], curr) => {\n      const included = prev.find(\n        entry => entry.underlying.id === curr.underlying.id && entry.strike.id === curr.strike.id,\n      )\n      if (!included) return [...prev, { underlying: curr.underlying, strike: curr.strike }]\n      return prev\n    }, [])\n  }, [allProducts])\n\n  return { allSeries }\n}\n","import { useCallback, useMemo } from 'react'\nimport ReactGA from 'react-ga'\nimport BigNumber from 'bignumber.js'\nimport { useConnectedWallet } from '../contexts/wallet'\n\nimport { addresses, ZERO_ADDR } from '../constants/addresses'\n\nimport { useNotify } from './useNotify'\nimport { useCustomToast } from './useCustomToast'\n\nconst abi = require('../constants/abis/factory.json')\n\nexport function useFactory() {\n  const toast = useCustomToast()\n\n  const { networkId, user, web3 } = useConnectedWallet()\n  const { notifyCallback } = useNotify()\n\n  const factory = useMemo(() => {\n    const address = addresses[networkId].factory\n    return new web3.eth.Contract(abi, address)\n  }, [networkId, web3])\n\n  const createOToken = useCallback(\n    async (\n      underlying: string,\n      strike: string,\n      collateral: string,\n      strikePrice: BigNumber,\n      expiry: BigNumber,\n      isPut: boolean,\n    ) => {\n      if (!factory) return toast.error('No wallet connected')\n      ReactGA.event({ category: 'factory', action: 'createOtoken' })\n      await factory.methods\n        .createOtoken(underlying, strike, collateral, strikePrice.toString(), expiry.toString(), isPut)\n        .send({ from: user })\n        .on('transactionHash', notifyCallback)\n    },\n    [factory, user, notifyCallback, toast],\n  )\n\n  const isCreated = useCallback(\n    async (\n      underlying: string,\n      strike: string,\n      collateral: string,\n      strikePrice: BigNumber,\n      expiry: BigNumber,\n      isPut: boolean,\n    ): Promise<boolean> => {\n      if (!factory) {\n        toast.error('No wallet connected')\n        return false\n      }\n      const deployedAddress = await factory.methods\n        .getOtoken(underlying, strike, collateral, strikePrice.toString(), expiry.toString(), isPut)\n        .call()\n\n      return deployedAddress !== ZERO_ADDR\n    },\n    [toast, factory],\n  )\n\n  const getTargetOtokenAddress = useCallback(\n    async (\n      underlying: string,\n      strike: string,\n      collateral: string,\n      strikePrice: BigNumber,\n      expiry: BigNumber,\n      isPut: boolean,\n    ) => {\n      if (!factory) return toast.error('No wallet connected')\n      const targetAddress = await factory.methods\n        .getTargetOtokenAddress(underlying, strike, collateral, strikePrice.toString(), expiry.toString(), isPut)\n        .call()\n      return targetAddress\n    },\n    [factory, toast],\n  )\n\n  return { createOToken, isCreated, getTargetOtokenAddress }\n}\n","import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\n\nimport { ZERO_ADDR } from '../constants'\n\n/**\n * get token price by address.\n * @param token token address\n * @param refetchIntervalSec refetch interval in seconds\n * @returns {BigNumber} price denominated in USD\n */\nexport const useTokenPrice = (token: string | undefined, refetchIntervalSec: number = 20): BigNumber => {\n  const [price, setPrice] = useState(new BigNumber(0))\n\n  useEffect(() => {\n    let isCancelled = false\n\n    async function updatePrice() {\n      const price = await getTokenPriceCoingecko(token)\n      if (!isCancelled) setPrice(price)\n    }\n    updatePrice()\n    const id = setInterval(updatePrice, refetchIntervalSec * 1000)\n    // cleanup function: remove interval\n    return () => {\n      isCancelled = true\n      clearInterval(id)\n    }\n  }, [token, refetchIntervalSec])\n\n  return price\n}\n\nexport const getTokenPriceCoingecko = async (token: string | undefined): Promise<BigNumber> => {\n  if (!token || token === ZERO_ADDR) return new BigNumber(0)\n  let requestAddr = token\n  // map kovan address to mainnet address\n  // WETH\n  if (\n    requestAddr.toLowerCase() === '0xd0a1e359811322d97991e03f863a0c30c2cf029c' ||\n    requestAddr.toLowerCase() === '0xc778417e063141139fce010982780140aa0cd5ab' ||\n    requestAddr.toLowerCase() === '0x82af49447d8a07e3bd95bd0d56f35241523fbab1'\n  )\n    requestAddr = '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2'\n  // WBTC\n  if (\n    requestAddr.toLowerCase() === '0xd7c8c2f7b6ebdbc88e5ab0101dd24ed5aca58b0f' ||\n    requestAddr.toLowerCase() === '0xd7c8c2f7b6ebdbc88e5ab0101dd24ed5aca58b0f' ||\n    requestAddr.toLowerCase() === '0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f'\n  )\n    requestAddr = '0x2260fac5e5542a773aa44fbcfedf7c193bc2c599'\n\n  const url = `https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses=${requestAddr}&vs_currencies=usd`\n  const res = await fetch(url)\n  const priceStruct: { usd: number } = (await res.json())[requestAddr.toLowerCase()]\n  if (priceStruct === undefined) return new BigNumber(0)\n  const price = priceStruct.usd\n  return new BigNumber(price)\n}\n","import { useState, useEffect } from 'react'\nimport { BreakPoints } from '../constants'\n\nconst getDeviceConfig = (width: number) => {\n  if (width < 320) {\n    return BreakPoints.xs\n  } else if (width >= 320 && width < 720) {\n    return BreakPoints.sm\n  } else if (width >= 720 && width < 1024) {\n    return BreakPoints.md\n  } else {\n    // width > 1024\n    return BreakPoints.lg\n  }\n}\n\nexport const useBreakpoint = () => {\n  const [brkPnt, setBrkPnt] = useState(() => getDeviceConfig(window.innerWidth))\n\n  useEffect(() => {\n    const calcInnerWidth = function () {\n      setBrkPnt(getDeviceConfig(window.innerWidth))\n    }\n    window.addEventListener('resize', calcInnerWidth)\n    return () => window.removeEventListener('resize', calcInnerWidth)\n  }, [])\n\n  return brkPnt\n}\n","import BigNumber from 'bignumber.js'\n\nimport Web3 from 'web3'\nimport { SubgraphVault, SubgraphOToken, ChainlinkRound } from '../types'\nimport { SupportedNetworks, getETHAggregators, addresses, AUCTION_TIME } from '../constants'\nimport { toTokenAmount } from './math'\n\nconst aggregatorAbi = require('../constants/abis/chainlinkAggregator.json')\nconst controllerAbi = require('../constants/abis/controller.json')\n\nexport function getMostProfitableRoundId(\n  otoken: SubgraphOToken,\n  vaultCollateral: string,\n  vaultShort: string,\n  liqPrice: BigNumber,\n  roundData: ChainlinkRound[],\n) {\n  const roundsUnderwater = roundData.filter(round => {\n    const historicalPrice = toTokenAmount(round.value, 8)\n    return otoken.isPut ? historicalPrice.lt(liqPrice) : historicalPrice.gt(liqPrice)\n  })\n  const isLiquidatable = roundsUnderwater.length > 0\n  if (!isLiquidatable) return { isLiquidatable }\n\n  const round = roundsUnderwater\n    .map(round => {\n      const price = calculateDebtPrice(otoken, vaultCollateral, vaultShort, round)\n      return { ...round, price }\n    })\n    .sort((a, b) => (a.price.gt(b.price) ? -1 : 1))[0] // sort high to low\n\n  return { isLiquidatable, round }\n}\n\nfunction calculateDebtPrice(\n  otoken: SubgraphOToken,\n  vaultCollateral: string,\n  vaultShort: string,\n  roundData: ChainlinkRound,\n): BigNumber {\n  const otokenAmount = toTokenAmount(vaultShort, 8)\n  const endingPrice = new BigNumber(vaultCollateral).div(otokenAmount)\n\n  const auctionElapsedTime = Math.floor(Date.now() / 1000) - roundData.unixTimestamp\n  if (auctionElapsedTime > AUCTION_TIME) return endingPrice\n\n  const roundSpotPrice = new BigNumber(roundData.value)\n  const startPrice = getCashValueInCollateral(otoken, roundSpotPrice)\n  const price = endingPrice.minus(startPrice).times(auctionElapsedTime).div(AUCTION_TIME)\n\n  if (price > endingPrice) return endingPrice\n  return price\n}\n\nfunction getCashValueInCollateral(otoken: SubgraphOToken, spot: BigNumber) {\n  const cashValueInStrike = getCashValue(otoken, spot)\n  if (otoken.isPut) return cashValueInStrike\n  return cashValueInStrike.div(spot)\n}\n\n/**\n * get cash value, denominated in strike\n */\nfunction getCashValue(otoken: SubgraphOToken, spot: BigNumber) {\n  const strikePrice = new BigNumber(otoken.strikePrice)\n  if (otoken.isPut && strikePrice.gt(spot)) return strikePrice.minus(spot)\n  if (!otoken.isPut && strikePrice.lt(spot)) return spot.minus(strikePrice)\n  return new BigNumber(0)\n}\n\nexport async function getLastRoundId(web3: Web3, networkId: SupportedNetworks) {\n  const aggregatorAddress = getETHAggregators(networkId)\n  if (aggregatorAddress === '') return { latestAnswer: '0', latestRoundId: '0' }\n  const aggregator = new web3.eth.Contract(aggregatorAbi, aggregatorAddress)\n  const latestRoundId = (await aggregator.methods.latestRound().call()) as string\n  const latestAnswer = (await aggregator.methods.latestAnswer().call()) as string\n  return { latestAnswer, latestRoundId }\n}\n\nexport async function dumbCheckIsLiquidatable(\n  web3: Web3,\n  networkId: SupportedNetworks,\n  vault: SubgraphVault,\n  roundId,\n): Promise<{\n  isLiquidatable: boolean\n  price: string\n}> {\n  const defaultResult = { isLiquidatable: false, price: '0' }\n  if (roundId === '0') return defaultResult\n  const address = addresses[networkId].controller\n  const controller = new web3.eth.Contract(controllerAbi, address)\n  try {\n    const result = await controller.methods.isLiquidatable(vault.owner.id, vault.vaultId, roundId).call()\n    const isLiquidatable = result[0]\n    const price = result[1]\n    return { isLiquidatable, price }\n  } catch (error) {\n    console.log(`error`, error)\n    return defaultResult\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport BigNumber from 'bignumber.js'\nimport { useCallback, useMemo } from 'react'\n\nimport { toTokenAmount } from '../utils/math'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { addresses, EthSpotShock, timeLeftToPT } from '../constants'\nconst calculatorAbi = require('../constants/abis/marginCalculator.json')\n\nconst useMarginCalculator = () => {\n  const { web3, networkId } = useConnectedWallet()\n\n  const calculator = useMemo(() => new web3.eth.Contract(calculatorAbi, addresses[networkId].calculator), [networkId])\n\n  const getNakedMarginRequired = useCallback(\n    async (\n      underlying: string,\n      strikeAsset: string,\n      collateral: string,\n      shortAmount: BigNumber,\n      strikePrice: BigNumber,\n      underlyingPrice: string,\n      shortExpiryTimestamp: number,\n      collateralDecimals: number,\n      isPut: boolean,\n    ) => {\n      if (!calculator) return null\n\n      const minCollat = await calculator.methods\n        .getNakedMarginRequired(\n          underlying,\n          strikeAsset,\n          collateral,\n          shortAmount.toString(),\n          strikePrice.toString(),\n          underlyingPrice,\n          shortExpiryTimestamp,\n          collateralDecimals,\n          isPut,\n        )\n        .call()\n      return new BigNumber(minCollat.toString())\n    },\n    [calculator],\n  )\n\n  const getMarginRequired = useCallback(\n    async (\n      oTokenId: string,\n      collatAddress: string,\n      shortAmount: BigNumber,\n      collatAmount: BigNumber,\n      collatDecimals: number,\n    ) => {\n      if (!calculator) return new BigNumber(0)\n\n      const [, requiredMargin]: Array<string> = await calculator.methods\n        .getMarginRequired(\n          [[oTokenId], [], [collatAddress], [shortAmount.toString()], [], [collatAmount.toString()]],\n          1,\n        )\n        .call()\n      return toTokenAmount(new BigNumber(requiredMargin.toString()), collatDecimals)\n    },\n    [calculator],\n  )\n\n  const getLiquidationPrice = useCallback(\n    (collatRatio: BigNumber, _isPut: boolean, rawStrikePrice: string, expiry: number) => {\n      const strikePrice = toTokenAmount(rawStrikePrice, 8)\n      const now = Math.floor(Date.now() / 1000)\n      const timeLeft = expiry - now\n      const maxPrice = timeLeftToPT(timeLeft)\n      const spotShock = new BigNumber(EthSpotShock)\n      if (_isPut) {\n        if (collatRatio.gte(1)) return new BigNumber(0)\n        return strikePrice.times(collatRatio.minus(1)).div(spotShock.times(maxPrice - 1))\n      } else {\n        if (collatRatio.gte(1)) return new BigNumber(Infinity)\n        return strikePrice\n          .times(spotShock)\n          .times(maxPrice - 1)\n          .div(collatRatio.minus(1))\n      }\n    },\n    [],\n  )\n\n  return {\n    getNakedMarginRequired,\n    getMarginRequired,\n    getLiquidationPrice,\n  }\n}\n\nexport default useMarginCalculator\n","import { BigNumber } from 'bignumber.js'\nimport { useState, useEffect } from 'react'\nimport { useConnectedWallet } from '../contexts/wallet'\nimport { useCustomToast } from './useCustomToast'\nimport useAsyncMemo from './useAsyncMemo'\nimport { getNonEmptyPartialCollatVaults, getMainnetChainlinkRounds } from '../utils/graph'\nimport { getMostProfitableRoundId } from '../utils/liquidation'\nimport { SubgraphVault, SubgraphOToken, ChainlinkRound } from '../types'\nimport useMarginCalculator from './useMarginCalculator'\nimport { toTokenAmount, fromTokenAmount } from '../utils/math'\nimport { useTokenPrice } from './useTokenPrice'\n\n/**\n * get latest roundId\n * get list of vaults using partial collat, associate with \"is liquidatable boolean\"\n */\nexport const useLiquidationStatus = (underlying, refetchIntervalSec: number) => {\n  const toast = useCustomToast()\n  const [isInitializing, setIsInitializing] = useState(true)\n  const [isSyncing, setIsSyncing] = useState(true)\n\n  const [rounds, setRounds] = useState<ChainlinkRound[]>([])\n\n  const [rawVaults, setRawVaults] = useState<SubgraphVault[]>([])\n  const { networkId } = useConnectedWallet()\n\n  const { getLiquidationPrice } = useMarginCalculator()\n\n  const spotPrice = useTokenPrice(underlying.id, 30)\n\n  useEffect(() => {\n    let isCancelled = false\n    async function updateRoundsData() {\n      const sixHoursBefore = Math.floor(Date.now() / 1000) - 3600 * 6\n      const rounds = await getMainnetChainlinkRounds(sixHoursBefore, toast.error)\n      if (!isCancelled) {\n        setRounds(rounds)\n      }\n    }\n    setIsSyncing(true)\n    updateRoundsData()\n    const id = setInterval(updateRoundsData, refetchIntervalSec * 1000)\n    // cleanup function: remove interval\n    return () => {\n      isCancelled = true\n      clearInterval(id)\n    }\n  }, [refetchIntervalSec, toast.error])\n\n  // fetch vaults\n  useEffect(() => {\n    let isCancelled = false\n    async function refetchVaults() {\n      setIsSyncing(true)\n      const vaults = await getNonEmptyPartialCollatVaults(networkId, toast.error)\n      if (!isCancelled) {\n        setRawVaults(vaults)\n      }\n      setIsInitializing(true)\n      setIsSyncing(false)\n    }\n    refetchVaults()\n    const id = setInterval(refetchVaults, refetchIntervalSec * 1000)\n    // cleanup function\n    return () => {\n      isCancelled = true\n      clearInterval(id)\n    }\n  }, [refetchIntervalSec, networkId, toast.error])\n\n  // attach isLiquidatable on each row\n  const vaults = useAsyncMemo(\n    async () => {\n      setIsSyncing(true)\n      const result = rawVaults.map(vault => {\n        const short = vault.shortOToken as SubgraphOToken\n        const shortAmount = vault.shortAmount as string\n        const collateralAmount = vault.collateralAmount as string\n        const fullCollateralAmount = short.isPut\n          ? fromTokenAmount(\n              toTokenAmount(short.strikePrice, 8).times(toTokenAmount(shortAmount, 8)),\n              short.collateralAsset.decimals,\n            )\n          : fromTokenAmount(toTokenAmount(shortAmount, 8), short.collateralAsset.decimals)\n\n        const collatRatio = new BigNumber(collateralAmount).div(fullCollateralAmount)\n        const liquidationPrice = getLiquidationPrice(\n          collatRatio,\n          short.isPut,\n          short.strikePrice,\n          parseInt(short.expiryTimestamp),\n        )\n\n        const { isLiquidatable, round } = getMostProfitableRoundId(\n          short,\n          collateralAmount,\n          shortAmount,\n          liquidationPrice,\n          rounds,\n        )\n\n        return { ...vault, isLiquidatable, collatRatio, liquidationPrice, round }\n      })\n      setIsSyncing(false)\n      return result\n    },\n    [],\n    [networkId, toast.error, rawVaults, rounds],\n  )\n\n  return { vaults, isSyncing, isInitializing, spotPrice }\n}\n","/**\n * Get value by key\n * @param {string} key\n * @param {string} defaultValue\n */\nexport function getPreference(key: string, defaultValue: string): string {\n  return localStorage.getItem(key) || defaultValue\n}\n\n/**\n * store value to storage\n * @param {string} key\n * @param {string} value\n */\nexport function storePreference(key: string, value: string): void {\n  localStorage.setItem(key, value)\n}\n\nexport function checkAddressAndAddToStorage(address: string): void {\n  const watch_addrs = getPreference('watch_addresses', '[]')\n  const usedAddresses = JSON.parse(watch_addrs)\n  if (!usedAddresses.includes(address.toLowerCase()) && !usedAddresses.includes(address)) {\n    usedAddresses.push(address)\n    storePreference('watch_addresses', JSON.stringify(usedAddresses))\n  }\n}\n","import BigNumber from 'bignumber.js'\nimport { subgraph as endpoints } from '../constants/endpoints'\nimport { blacklistOTokens } from '../constants/addresses'\nimport { SupportedNetworks } from '../constants/networks'\nimport {\n  ChainlinkRound,\n  SubgraphVault,\n  SubgraphToken,\n  SubgraphOracleAsset,\n  SubgraphOToken,\n  OTokenBalance,\n  OTokenTrade,\n} from '../types'\n\n/**\n * Get account info\n */\nexport async function getAccount(\n  networkId: SupportedNetworks,\n  account: string,\n  errorCallback: Function,\n): Promise<{\n  operatorCount: string\n  operators: { operator: { id: string } }[]\n  vaultCount: string\n  vaults: SubgraphVault[]\n} | null> {\n  const query = `\n  {\n    account(id: \"${account}\") {\n      vaultCount\n      vaults {\n        vaultId\n        collateralAsset {\n          id\n          symbol\n          decimals\n        }\n        collateralAmount\n        shortOToken{\n          id\n          symbol\n          decimals\n          expiryTimestamp\n          underlyingAsset {\n            symbol\n            id\n          }\n        }\n        shortAmount\n        longOToken {\n          id\n          symbol\n          decimals\n          expiryTimestamp\n          underlyingAsset {\n            symbol\n            id\n          }\n        }\n        longAmount\n      }\n      operatorCount\n      operators {\n        operator {\n          id\n        }\n      }\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.account\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport async function getOTokenTrades(\n  networkId: SupportedNetworks,\n  otoken: string,\n  errorCallback: Function,\n): Promise<OTokenTrade[]> {\n  const query = `{\n    otokenTrades(\n      where: {\n        oToken_contains: \"${otoken}\"\n      }, \n      orderBy: timestamp, \n      orderDirection: desc\n    ) {\n      oTokenAmount\n      paymentTokenAmount\n      paymentToken {\n        symbol\n        decimals\n        id\n      }\n      buyer\n      seller\n      timestamp\n      transactionHash\n    }\n  }\n  `\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.otokenTrades\n  } catch (error) {\n    errorCallback(error.toString())\n    return []\n  }\n}\n\nexport async function getERC20s(\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<SubgraphToken[] | null> {\n  const query = `\n  {\n    erc20S{\n      symbol\n      id\n      decimals\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.erc20S\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport async function getWhitelistedProducts(\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<\n  | {\n      id: string\n      strike: SubgraphToken\n      collateral: SubgraphToken\n      underlying: SubgraphToken\n      isPut: boolean\n    }[]\n  | null\n> {\n  const query = `\n  {\n    whitelistedProducts (where:{isWhitelisted: true}) {\n      id\n      strike {\n        symbol\n        id\n        decimals\n      }\n      underlying {\n        symbol\n        id\n        decimals\n      }\n      collateral {\n        symbol\n        id\n        decimals\n      }\n      isPut\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.whitelistedProducts\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport async function getVault(\n  networkId: SupportedNetworks,\n  accountOwner: string,\n  vaultId: number,\n  errorCallback: Function,\n): Promise<null | {\n  collateralAmount: string | null\n  collateralAsset: null | { id: string; symbol: string }\n  longAmount: string | null\n  longOToken: null | SubgraphOToken\n  owner: {\n    operators: {\n      operator: {\n        id: string\n      }\n    }[]\n  }\n  shortAmount: null | string\n  shortOToken: null | SubgraphOToken\n}> {\n  const query = `{\n    vault(id: \"${accountOwner}-${vaultId}\")\n    {\n      owner {\n        operators {\n          operator {\n            id\n          }\n        }\n      }\n      shortOToken {\n        id\n        symbol\n        decimals\n        expiryTimestamp\n        collateralAsset {\n          id\n          symbol\n          decimals\n        }\n        underlyingAsset{\n          id\n          symbol\n          decimals\n        }\n      }\n      shortAmount\n      collateralAsset {\n        id\n        symbol\n        decimals\n      }\n      collateralAmount\n      longOToken {\n        id\n        symbol\n        decimals\n        expiryTimestamp\n        collateralAsset {\n          id\n          symbol\n          decimals\n        }\n        underlyingAsset{\n          id\n          symbol\n          decimals\n        }\n      }\n      longAmount \n    }\n  }\n  `\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.vault\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\n/**\n * Get all oTokens\n */\nexport async function getOTokens(networkId: SupportedNetworks, errorCallback: Function): Promise<SubgraphOToken[]> {\n  const query = `\n  {\n    otokens (\n      first: 1000, \n      orderBy: createdAt, \n      orderDirection: desc\n    ) {\n      id\n      symbol\n      name\n      strikeAsset {\n        id\n        symbol\n        decimals\n      }\n      underlyingAsset {\n        id\n        symbol\n        decimals\n      }\n      collateralAsset {\n        id\n        symbol\n        decimals\n      }\n      strikePrice\n      isPut\n      expiryTimestamp\n      createdAt\n      createdTx\n      creator\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const oTokens = response.data.otokens.filter(\n      (otoken: { id: string }) => !blacklistOTokens[networkId].includes(otoken.id),\n    )\n    return oTokens\n  } catch (error) {\n    errorCallback(error.toString())\n    return []\n  }\n}\n\nexport async function getNonEmptyPartialCollatVaults(\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<SubgraphVault[]> {\n  if (networkId === SupportedNetworks.Ropsten) {\n    console.log(`not on ropsten yet`)\n    return []\n  }\n  const query = `\n  { \n    vaults (\n      where: {\n        type:\"1\",\n        shortAmount_gt: \"0\"\n      },\n      first: 1000\n    ) {\n      type\n      owner {\n        id\n      }\n      vaultId\n      shortOToken {\n        id\n        symbol\n        decimals\n        expiryTimestamp\n        strikePrice\n        collateralAsset {\n          id\n          symbol\n          decimals\n        }\n        underlyingAsset{\n          id\n          symbol\n          decimals\n        }\n        strikeAsset{\n          id\n          symbol\n          decimals\n        }\n        isPut\n      }\n      shortAmount\n      collateralAsset {\n        id\n        symbol\n        decimals\n      }\n      collateralAmount\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const now = Math.floor(Date.now() / 1000)\n    return response.data.vaults.filter(vault => parseInt(vault.shortOToken.expiryTimestamp) > now)\n  } catch (error) {\n    errorCallback(error.toString())\n    return []\n  }\n}\n\n/**\n * Get oTokens\n */\nexport async function getOToken(\n  id: string,\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<SubgraphOToken | null> {\n  const query = `\n  {\n    otoken (id: \"${id}\") {\n      id\n      symbol\n      name\n      decimals\n      strikeAsset {\n        id\n        symbol\n        decimals\n      }\n      underlyingAsset {\n        id\n        symbol\n        decimals\n      }\n      collateralAsset {\n        id\n        symbol\n        decimals\n      }\n      strikePrice\n      isPut\n      expiryTimestamp\n      createdAt\n      createdTx\n      creator\n      totalSupply\n      decimals\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.otoken\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport async function getHolders(\n  otoken: string,\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<{ account: string; balance: string }[]> {\n  const query = `\n  {\n    accountBalances (where: {token: \"${otoken.toLowerCase()}\"}) {\n      account\n      balance\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const balances = response.data.accountBalances.filter(\n      (balanceEntry: { account: string; balance: string }) => balanceEntry.balance !== '0',\n    )\n    return balances\n  } catch (error) {\n    errorCallback(error.toString())\n    return []\n  }\n}\n\nexport async function getMintersForOToken(\n  otoken: string,\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<string[]> {\n  const query = `\n  {\n    mintShortActions (first: 1000, where:{\n      oToken: \"${otoken.toLowerCase()}\"\n    }) {\n      to\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const actions = response.data.mintShortActions\n    const uniqueMinters = Array.from(new Set(actions.map((a: { to: string }) => a.to)))\n    return uniqueMinters as string[]\n  } catch (error) {\n    errorCallback(error.toString())\n    return []\n  }\n}\n\n/**\n * Get all oTokens\n */\nexport async function getLiveOTokens(\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<SubgraphOToken[] | null> {\n  const current = new BigNumber(Date.now()).div(1000).integerValue().toString()\n  const query = `\n  {\n    otokens (where: {expiryTimestamp_gt: ${current}}, first: 1000) {\n      id\n      symbol\n      name\n      decimals\n      strikeAsset {\n        id\n        symbol\n        decimals\n      }\n      underlyingAsset {\n        id\n        symbol\n        decimals\n      }\n      collateralAsset {\n        id\n        symbol\n        decimals\n      }\n      strikePrice\n      isPut\n      expiryTimestamp\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const oTokens = response.data.otokens.filter(\n      (otoken: { id: string }) => !blacklistOTokens[networkId].includes(otoken.id),\n    )\n    return oTokens\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\n/**\n * Get all oTokens that's in the series\n */\nexport async function getLiveOTokensIsSeries(\n  networkId: SupportedNetworks,\n  underlyingAddr: string,\n  strikeAddr: string,\n  errorCallback: Function,\n): Promise<SubgraphOToken[] | null> {\n  const current = new BigNumber(Date.now()).div(1000).integerValue().toString()\n  const query = `\n  {\n    otokens (where: {\n      expiryTimestamp_gt: ${current},\n      underlyingAsset: \"${underlyingAddr}\",\n      strikeAsset: \"${strikeAddr}\",\n    }) {\n      id\n      symbol\n      name\n      decimals\n      strikeAsset {\n        id\n        symbol\n        decimals\n      }\n      underlyingAsset {\n        id\n        symbol\n        decimals\n      }\n      collateralAsset {\n        id\n        symbol\n        decimals\n      }\n      strikePrice\n      isPut\n      expiryTimestamp\n    }\n  }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const oTokens = response.data.otokens.filter(\n      (otoken: { id: string }) => !blacklistOTokens[networkId].includes(otoken.id),\n    )\n    return oTokens\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport async function getBalances(\n  networkId: SupportedNetworks,\n  owner: string,\n  errorCallback: Function,\n): Promise<OTokenBalance[] | null> {\n  const query = `\n  {\n    accountBalances (where: {account: \"${owner}\"}, first: 1000) {\n      token {\n        id\n        name\n        symbol\n        decimals\n        underlyingAsset{\n          id\n          symbol\n          decimals\n        }\n        strikeAsset {\n          id\n          symbol\n          decimals\n        }\n        collateralAsset {\n          id\n          symbol\n          decimals\n        }\n        strikePrice\n        expiryTimestamp\n        isPut\n      }\n    balance\n  }\n}`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    const balances = response.data.accountBalances\n    return balances\n      .map((b: OTokenBalance) => {\n        return {\n          ...b,\n          balance: new BigNumber(b.balance),\n        }\n      })\n      .filter(b => !b.balance.isZero())\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport const getVaultHistory = async (\n  networkId: SupportedNetworks,\n  owner: string,\n  vaultId: number,\n  errorCallback: Function,\n) => {\n  const query = `{\n    depositCollateralActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      asset {\n        id\n        symbol\n        decimals\n      }\n      amount\n      timestamp\n      transactionHash\n    }\n    withdrawCollateralActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      asset {\n        id\n        symbol\n        decimals\n      }\n      amount\n      timestamp\n      transactionHash\n    }\n    depositLongActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      oToken {\n        symbol\n        id\n      }\n      amount\n      timestamp\n      transactionHash\n    }\n    withdrawLongActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      oToken {\n        symbol\n        id\n      }\n      amount\n      timestamp\n      transactionHash\n    }\n    mintShortActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      oToken {\n        symbol\n        id\n      }\n      amount\n      timestamp\n      transactionHash\n    }\n    burnShortActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      oToken {\n        symbol\n        id\n      }\n      amount\n      timestamp\n      transactionHash\n    }\n    settleActions (where: {vault_contains: \"${owner}-${vaultId}\"}) {\n      id\n      short {\n        symbol\n        id\n        collateralAsset {\n          id\n          symbol\n          decimals\n        }\n      }\n      collateral\n      amount\n      timestamp\n      transactionHash\n    }\n  }\n  `\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nexport const getOracleAssetsAndPricers = async (\n  networkId: SupportedNetworks,\n  errorCallback: Function,\n): Promise<SubgraphOracleAsset[] | null> => {\n  const query = `{\n    oracleAssets {\n     asset {\n       id\n       symbol\n       decimals\n     }\n     pricer {\n       id\n       lockingPeriod\n       disputePeriod\n     }\n     prices (first: 1000) {\n      expiry\n      reportedTimestamp\n      isDisputed\n      price\n     }\n   }\n   }`\n  try {\n    const response = await postQuery(endpoints[networkId], query)\n    return response.data.oracleAssets\n  } catch (error) {\n    errorCallback(error.toString())\n    return null\n  }\n}\n\nconst postQuery = async (endpoint: string, query: string) => {\n  const options = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ query }),\n  }\n  const url = endpoint\n  const response = await fetch(url, options)\n  const data = await response.json()\n  if (data.errors) {\n    throw new Error(data.errors[0].message)\n  } else {\n    return data\n  }\n}\n\nexport const getMainnetChainlinkRounds = async (\n  earliestTimestamp: number,\n  errorCallback: Function,\n): Promise<ChainlinkRound[]> => {\n  // const earliestTimestamp = Math.floor(Date.now() / 1000 - 21600)\n  const query = `{\n    feeds(where:{contractAddress:\"0x37bc7498f4ff12c19678ee8fe19d713b87f6a9e6\"}) {\n      rounds (\n        where: {\n          unixTimestamp_gt: ${earliestTimestamp}\n        }\n        orderBy: unixTimestamp,\n      ) {\n        number\n        unixTimestamp\n        value\n      }\n    }\n  }`\n  try {\n    const endpoint = 'https://api.thegraph.com/subgraphs/name/skofman/chainlink'\n    const response = await postQuery(endpoint, query)\n    const rawRounds = response.data.feeds[0].rounds\n    // sorted by oldest to latest\n    return rawRounds.map(rawRound => {\n      return { ...rawRound, roundIdHex: toAggregatorRoundId(rawRound.number) }\n    })\n  } catch (error) {\n    errorCallback(error.toString())\n    return []\n  }\n}\n\nconst toAggregatorRoundId = (feedRoundId: string) => {\n  const rawRoundIdHex = parseInt(feedRoundId).toString(16)\n  const base = '0x50000000000000000'\n  const aggregatorRoundIdHex = base\n    .substring(0, base.length - rawRoundIdHex.length) // cut last {rawRoundHex.length} chars\n    .concat(rawRoundIdHex)\n  return aggregatorRoundIdHex\n}\n","import { useState, useEffect, useMemo } from 'react'\n\nexport function useAsyncMemo<T>(\n  callback: () => Promise<T>,\n  init: T,\n  dependencies: any[] = [],\n  onError?: (e: Error) => void,\n): T {\n  const [output, setOutput] = useState<T>(init)\n\n  const _callback = useMemo(callback, dependencies)\n\n  useEffect(() => {\n    let isNotCancelled = true\n\n    _callback.then(payload => {\n      if (isNotCancelled) {\n        setOutput(payload)\n      }\n    })\n\n    return () => {\n      isNotCancelled = false\n    }\n  }, [_callback])\n\n  useEffect(() => {\n    _callback.catch(onError)\n  }, [_callback, onError])\n\n  return output\n}\n\nexport default useAsyncMemo\n","import React, { useCallback, useMemo } from 'react'\nimport { useToast, GU } from '@aragon/ui'\n\nexport function useCustomToast() {\n  const showToast = useToast()\n\n  const toast = useCallback(\n    msg => {\n      showToast(\n        <div style={{ display: 'block', flex: 1 }}>\n          <span\n            style={{\n              display: 'block',\n              position: 'relative',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap',\n              marginBottom: `${0.5 * GU}px`,\n            }}\n          >\n            {msg}\n          </span>\n        </div>,\n      )\n    },\n    [showToast],\n  )\n\n  const error = useCallback(\n    msg => {\n      toast(` ${msg}`)\n    },\n    [toast],\n  )\n\n  const info = useCallback(\n    msg => {\n      toast(` ${msg}`)\n    },\n    [toast],\n  )\n\n  const success = useCallback(\n    msg => {\n      toast(` ${msg}`)\n    },\n    [toast],\n  )\n\n  const state = useMemo(() => {\n    return {\n      success,\n      error,\n      info,\n    }\n  }, [success, info, error])\n\n  return state\n}\n","import React from 'react'\n\nimport { useTheme } from '@aragon/ui'\n\nfunction LabelText({ label, minWidth }: { label: string; minWidth?: string }) {\n  const theme = useTheme()\n\n  return <div style={{ fontSize: 15, color: theme.contentSecondary, paddingRight: '2%', minWidth }}>{label}</div>\n}\n\nexport default LabelText\n","import React, { ReactChild } from 'react'\n\ntype commentProps = {\n  text: string | ReactChild\n  padding?: number\n}\n\nfunction Comment({ text, padding = 10 }: commentProps) {\n  return <div style={{ paddingTop: padding, opacity: 0.7 }}>{text}</div>\n}\n\nexport default Comment\n"],"sourceRoot":""}