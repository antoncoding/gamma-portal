{"version":3,"file":"FloatIndicator.js","sources":["../../../../../src/components/FloatIndicator/FloatIndicator.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transition, animated } from 'react-spring'\nimport { Inside } from 'use-inside'\nimport RootPortal from '../RootPortal/RootPortal'\nimport { useTheme } from '../../theme'\nimport { GU, RADIUS, textStyle, springs } from '../../style'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport { ToastContext } from '../ToastHub/ToastHub'\n\nconst FloatIndicator = React.memo(function FloatIndicator({\n  children,\n  visible,\n  shift,\n  ...props\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const { itemsVisible: toastItemsVisible } = useContext(ToastContext)\n\n  const wide = below('medium')\n  const horizontalSpacing = wide ? 2 * GU : 3 * GU\n  const horizontalSpacingEnd = horizontalSpacing + (shift || 0)\n\n  return (\n    <RootPortal>\n      <Transition\n        native\n        items={toastItemsVisible ? false : visible}\n        from={{ progress: 0 }}\n        enter={{ progress: 1 }}\n        leave={{ progress: 0 }}\n        config={springs.smooth}\n      >\n        {show =>\n          show &&\n          /* eslint-disable react/prop-types */\n          (({ progress }) => (\n            <div\n              css={`\n                position: absolute;\n                z-index: 1;\n                bottom: ${wide ? 2 * GU : 3 * GU}px;\n                display: flex;\n                justify-content: flex-end;\n                width: 100%;\n                padding: 0 ${horizontalSpacingEnd}px 0 ${horizontalSpacing}px;\n              `}\n            >\n              <animated.div\n                style={{\n                  pointerEvents: visible ? 'auto' : 'none',\n                  opacity: progress,\n                  transform: progress.interpolate(\n                    v => `translate3d(0, calc(10px * ${1 - v}), 0)`\n                  ),\n                }}\n                css={`\n                  flex-grow: ${Number(wide)};\n                  display: flex;\n                  align-items: center;\n                  height: ${6 * GU}px;\n                  padding: ${1 * GU}px ${2 * GU}px;\n                  ${textStyle('body3')};\n                  white-space: nowrap;\n                  color: ${theme.floatingContent};\n                  background: ${theme.floating};\n                  border: 1px solid ${theme.border};\n                  border-radius: ${RADIUS}px;\n                  cursor: default;\n                  justify-content: center;\n                `}\n                {...props}\n              >\n                <Inside name=\"FloatIndicator\">{children}</Inside>\n              </animated.div>\n            </div>\n          ))\n        /* eslint-enable react/prop-types */\n        }\n      </Transition>\n    </RootPortal>\n  )\n})\n\nFloatIndicator.propTypes = {\n  children: PropTypes.node.isRequired,\n  shift: PropTypes.number,\n  visible: PropTypes.bool,\n}\n\nFloatIndicator.defaultProps = {\n  shift: 0,\n  visible: true,\n}\n\nexport default FloatIndicator\n"],"names":["RADIUS","FloatIndicator","React","memo","children","visible","shift","props","theme","useTheme","useViewport","below","useContext","ToastContext","toastItemsVisible","itemsVisible","wide","horizontalSpacing","GU","horizontalSpacingEnd","progress","springs","smooth","show","pointerEvents","opacity","transform","interpolate","v","Number","textStyle","floatingContent","floating","border","Inside","propTypes","PropTypes","node","isRequired","number","bool","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAoEmCA;;IA1D7BC,cAAc,gBAAGC,KAAK,CAACC,IAAN,CAAW,SAASF,cAAT,OAK/B;AAAA,MAJDG,QAIC,QAJDA,QAIC;AAAA,MAHDC,OAGC,QAHDA,OAGC;AAAA,MAFDC,KAEC,QAFDA,KAEC;AAAA,MADEC,KACF;;AACD,MAAMC,KAAK,GAAGC,QAAQ,EAAtB;;AADC,qBAEiBC,WAAW,EAF5B;AAAA,MAEOC,KAFP,gBAEOA,KAFP;;AAAA,oBAG2CC,UAAU,CAACC,YAAD,CAHrD;AAAA,MAGqBC,iBAHrB,eAGOC,YAHP;;AAKD,MAAMC,IAAI,GAAGL,KAAK,CAAC,QAAD,CAAlB;AACA,MAAMM,iBAAiB,GAAGD,IAAI,GAAG,IAAIE,EAAP,GAAY,IAAIA,EAA9C;AACA,MAAMC,oBAAoB,GAAGF,iBAAiB,IAAIX,KAAK,IAAI,CAAb,CAA9C;AAEA,sBACE,oBAAC,UAAD,qBACE,oBAAC,UAAD;AACE,IAAA,MAAM,MADR;AAEE,IAAA,KAAK,EAAEQ,iBAAiB,GAAG,KAAH,GAAWT,OAFrC;AAGE,IAAA,IAAI,EAAE;AAAEe,MAAAA,QAAQ,EAAE;AAAZ,KAHR;AAIE,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAJT;AAKE,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KALT;AAME,IAAA,MAAM,EAAEC,OAAO,CAACC;AANlB,KAQG,UAAAC,IAAI;AAAA,WACHA,IAAI;AACJ;AACC;AAAA,UAAGH,QAAH,SAAGA,QAAH;AAAA,0BACC;AAAA,cAIcJ,IAAI,GAAG,IAAIE,EAAP,GAAY,IAAIA,EAJlC;AAAA,eAQiBC,oBARjB;AAAA,eAQ6CF;AAR7C,sBAWE;AACE,QAAA,KAAK,EAAE;AACLO,UAAAA,aAAa,EAAEnB,OAAO,GAAG,MAAH,GAAY,MAD7B;AAELoB,UAAAA,OAAO,EAAEL,QAFJ;AAGLM,UAAAA,SAAS,EAAEN,QAAQ,CAACO,WAAT,CACT,UAAAC,CAAC;AAAA,wDAAkC,IAAIA,CAAtC;AAAA,WADQ;AAHN;AADT,SAuBMrB,KAvBN;AAAA,eASiBsB,MAAM,CAACb,IAAD,CATvB;AAAA,eAYc,IAAIE,EAZlB;AAAA,eAae,IAAIA,EAbnB;AAAA,eAa2B,IAAIA,EAb/B;AAAA,eAcMY,SAAS,CAAC,OAAD,CAdf;AAAA,eAgBatB,KAAK,CAACuB,eAhBnB;AAAA,gBAiBkBvB,KAAK,CAACwB,QAjBxB;AAAA,gBAkBwBxB,KAAK,CAACyB;AAlB9B,uBAyBE,oBAACC,CAAD;AAAQ,QAAA,IAAI,EAAC;AAAb,SAA+B9B,QAA/B,CAzBF,CAXF,CADD;AAAA,KAHE;AAAA;AA4CL;AApDF,GADF,CADF;AA2DD,CAzEsB;AA2EvBH,cAAc,CAACkC,SAAf,GAA2B;AACzB/B,EAAAA,QAAQ,EAAEgC,SAAS,CAACC,IAAV,CAAeC,UADA;AAEzBhC,EAAAA,KAAK,EAAE8B,SAAS,CAACG,MAFQ;AAGzBlC,EAAAA,OAAO,EAAE+B,SAAS,CAACI;AAHM,CAA3B;AAMAvC,cAAc,CAACwC,YAAf,GAA8B;AAC5BnC,EAAAA,KAAK,EAAE,CADqB;AAE5BD,EAAAA,OAAO,EAAE;AAFmB,CAA9B;;;;"}