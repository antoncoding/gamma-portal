{"version":3,"file":"color.js","sources":["../../../../src/utils/color.js"],"sourcesContent":["const RGB_HEX_RE = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/\n\nfunction rgbFromRgbInt(rgbInt) {\n  return {\n    r: Math.floor(rgbInt / Math.pow(256, 2)),\n    g: Math.floor((rgbInt / 256) % 256),\n    b: Math.floor(rgbInt % 256),\n  }\n}\n\nfunction normalizeHexColor(value) {\n  const matches = value ? String(value).match(RGB_HEX_RE) : null\n\n  if (matches === null) {\n    throw new Error(\n      `color(): the value must be a valid CSS hexadecimal color. Received: ${value}`\n    )\n  }\n\n  const hexColor = matches[1].toUpperCase()\n\n  if (hexColor.length === 3) {\n    return [...hexColor].map(c => c + c).join('')\n  }\n\n  return hexColor\n}\n\nclass Color extends String {\n  constructor(value) {\n    super(value)\n\n    const hexColor = normalizeHexColor(value)\n    const { r, g, b } = rgbFromRgbInt(parseInt(hexColor, 16))\n\n    this.r = r\n    this.g = g\n    this.b = b\n    this.hexColor = hexColor\n  }\n  toString() {\n    return this.toCssRgb()\n  }\n  valueOf() {\n    return this.toCssRgb()\n  }\n  toArray() {\n    return [this.r, this.g, this.b]\n  }\n  toObject() {\n    const { r, g, b } = this\n    return { r, g, b }\n  }\n  alpha(alpha) {\n    return this.toCssRgb({ alpha })\n  }\n  toCssRgb({ alpha = 1 } = {}) {\n    if (alpha === 1) {\n      return `#${this.hexColor}`\n    }\n    alpha = Math.max(0, Math.min(1, alpha))\n    return `rgba(${this.r}, ${this.g}, ${this.b}, ${alpha})`\n  }\n}\n\nfunction color(value) {\n  return new Color(value)\n}\n\nexport default color\n"],"names":["RGB_HEX_RE","rgbFromRgbInt","rgbInt","r","Math","floor","pow","g","b","normalizeHexColor","value","matches","String","match","Error","hexColor","toUpperCase","length","_toConsumableArray","map","c","join","Color","parseInt","toCssRgb","alpha","max","min","color"],"mappings":"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"}