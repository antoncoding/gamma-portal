{"version":3,"file":"PublicUrl.js","sources":["../../../../../src/providers/PublicUrl/PublicUrl.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport getDisplayName from 'react-display-name'\nimport { prefixUrl } from '../../utils/url'\n\nconst PublicUrlContext = React.createContext('')\nconst { Provider, Consumer } = PublicUrlContext\n\nclass PublicUrlProvider extends React.PureComponent {\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    children: PropTypes.node,\n  }\n  render() {\n    const { url, children } = this.props\n    return <Provider value={url}>{children}</Provider>\n  }\n}\n\n// HOC wrapper\nconst hocWrap = Component => {\n  const HOC = props => (\n    <Consumer>{url => <Component {...props} publicUrl={url} />}</Consumer>\n  )\n  HOC.displayName = `PublicUrlProvider(${getDisplayName(Component)})`\n  return HOC\n}\n\n// styled-components utility for URLs\nconst styledUrl = url => ({ publicUrl }) => prefixUrl(url, publicUrl)\n\nconst PublicUrl = props => <Consumer {...props} />\nPublicUrl.Provider = PublicUrlProvider\nPublicUrl.hocWrap = hocWrap\nPublicUrl.styledUrl = styledUrl\n\nfunction usePublicUrl() {\n  return useContext(PublicUrlContext)\n}\n\nexport { PublicUrl, Provider, hocWrap, styledUrl, usePublicUrl }\nexport default PublicUrl\n"],"names":["PublicUrlContext","React","createContext","Provider","Consumer","PublicUrlProvider","props","url","children","PureComponent","PropTypes","string","isRequired","node","hocWrap","Component","HOC","displayName","getDisplayName","styledUrl","publicUrl","prefixUrl","PublicUrl","usePublicUrl","useContext"],"mappings":";;;;;;;;;;;;;;;AAKA,IAAMA,gBAAgB,gBAAGC,KAAK,CAACC,aAAN,CAAoB,EAApB,CAAzB;IACQC,WAAuBH,iBAAvBG;IAAUC,WAAaJ,iBAAbI;;IAEZC;;;;;;;;;;;;;6BAKK;AAAA,wBACmB,KAAKC,KADxB;AAAA,UACCC,GADD,eACCA,GADD;AAAA,UACMC,QADN,eACMA,QADN;AAEP,0BAAO,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAED;AAAjB,SAAuBC,QAAvB,CAAP;AACD;;;;EAR6BP,KAAK,CAACQ;;;eAAhCJ,gCACe;AACjBE,EAAAA,GAAG,EAAEG,SAAS,CAACC,MAAV,CAAiBC,UADL;AAEjBJ,EAAAA,QAAQ,EAAEE,SAAS,CAACG;AAFH;;IAWfC,OAAO,GAAG,SAAVA,OAAU,CAAAC,SAAS,EAAI;AAC3B,MAAMC,GAAG,GAAG,SAANA,GAAM,CAAAV,KAAK;AAAA,wBACf,oBAAC,QAAD,QAAW,UAAAC,GAAG;AAAA,0BAAI,oBAAC,SAAD,iBAAeD,KAAf;AAAsB,QAAA,SAAS,EAAEC;AAAjC,SAAJ;AAAA,KAAd,CADe;AAAA,GAAjB;;AAGAS,EAAAA,GAAG,CAACC,WAAJ,+BAAuCC,cAAc,CAACH,SAAD,CAArD;AACA,SAAOC,GAAP;AACD;;;IAGKG,SAAS,GAAG,SAAZA,SAAY,CAAAZ,GAAG;AAAA,SAAI;AAAA,QAAGa,SAAH,QAAGA,SAAH;AAAA,WAAmBC,SAAS,CAACd,GAAD,EAAMa,SAAN,CAA5B;AAAA,GAAJ;AAAA;;IAEfE,SAAS,GAAG,SAAZA,SAAY,CAAAhB,KAAK;AAAA,sBAAI,oBAAC,QAAD,EAAcA,KAAd,CAAJ;AAAA;;AACvBgB,SAAS,CAACnB,QAAV,GAAqBE,iBAArB;AACAiB,SAAS,CAACR,OAAV,GAAoBA,OAApB;AACAQ,SAAS,CAACH,SAAV,GAAsBA,SAAtB;;AAEA,SAASI,YAAT,GAAwB;AACtB,SAAOC,UAAU,CAACxB,gBAAD,CAAjB;AACD;;;;;"}