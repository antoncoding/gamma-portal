{"version":3,"file":"index.js","sources":["../../../../../node_modules/use-token/dist/index.js"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { fetchTokenData, tokenIconUrl } from './utils';\nconst UseTokenContext = React.createContext(null);\nexport function useToken(address = '') {\n    const tokenContext = useContext(UseTokenContext);\n    const [tokenData, setTokenData] = useState(null);\n    if (tokenContext === null) {\n        throw new Error('useToken() can only be used inside of <UseTokenProvider />, ' + 'please declare it at a higher level.');\n    }\n    useEffect(()=>{\n        let cancelled = false;\n        const update = async ()=>{\n            const data = await tokenContext.fetchTokenData(address);\n            if (!cancelled) {\n                setTokenData(data);\n            }\n        };\n        update();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [address]);\n    return {\n        iconUrl: tokenIconUrl(address),\n        symbol: tokenData && tokenData.symbol,\n        name: tokenData && tokenData.name\n    };\n}\nexport function UseTokenProvider({ children  }) {\n    const tokens = useRef(new Map());\n    const fetchAndCacheTokenData = useCallback(async (address)=>{\n        if (tokens.current.has(address)) {\n            return tokens.current.get(address);\n        }\n        try {\n            const tokenData = await fetchTokenData(address);\n            tokens.current.set(address, tokenData);\n            return tokenData;\n        } catch (err) {\n            console.log('ar', err);\n        }\n    }, []);\n    return React.createElement(UseTokenContext.Provider, {\n        value: {\n            fetchTokenData: fetchAndCacheTokenData\n        }\n    }, children);\n}\n"],"names":[],"mappings":";;;AAEA,MAAM,eAAe,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAC3C,SAAS,QAAQ,CAAC,OAAO,GAAG,EAAE,EAAE;AACvC,IAAI,MAAM,YAAY,GAAG,UAAU,CAAC,eAAe,CAAC,CAAC;AACrD,IAAI,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AACrD,IAAI,IAAI,YAAY,KAAK,IAAI,EAAE;AAC/B,QAAQ,MAAM,IAAI,KAAK,CAAC,8DAA8D,GAAG,sCAAsC,CAAC,CAAC;AACjI,KAAK;AACL,IAAI,SAAS,CAAC,IAAI;AAClB,QAAQ,IAAI,SAAS,GAAG,KAAK,CAAC;AAC9B,QAAQ,MAAM,MAAM,GAAG,UAAU;AACjC,YAAY,MAAM,IAAI,GAAG,MAAM,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;AACpE,YAAY,IAAI,CAAC,SAAS,EAAE;AAC5B,gBAAgB,YAAY,CAAC,IAAI,CAAC,CAAC;AACnC,aAAa;AACb,SAAS,CAAC;AACV,QAAQ,MAAM,EAAE,CAAC;AACjB,QAAQ,OAAO,IAAI;AACnB,YAAY,SAAS,GAAG,IAAI,CAAC;AAC7B,SAAS,CAAC;AACV,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AAClB,IAAI,OAAO;AACX,QAAQ,OAAO,EAAE,YAAY,CAAC,OAAO,CAAC;AACtC,QAAQ,MAAM,EAAE,SAAS,IAAI,SAAS,CAAC,MAAM;AAC7C,QAAQ,IAAI,EAAE,SAAS,IAAI,SAAS,CAAC,IAAI;AACzC,KAAK,CAAC;AACN,CAAC;AACM,SAAS,gBAAgB,CAAC,EAAE,QAAQ,GAAG,EAAE;AAChD,IAAI,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;AACrC,IAAI,MAAM,sBAAsB,GAAG,WAAW,CAAC,OAAO,OAAO,GAAG;AAChE,QAAQ,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;AACzC,YAAY,OAAO,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC/C,SAAS;AACT,QAAQ,IAAI;AACZ,YAAY,MAAM,SAAS,GAAG,MAAM,cAAc,CAAC,OAAO,CAAC,CAAC;AAC5D,YAAY,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;AACnD,YAAY,OAAO,SAAS,CAAC;AAC7B,SAAS,CAAC,OAAO,GAAG,EAAE;AACtB,YAAY,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AACnC,SAAS;AACT,KAAK,EAAE,EAAE,CAAC,CAAC;AACX,IAAI,OAAO,KAAK,CAAC,aAAa,CAAC,eAAe,CAAC,QAAQ,EAAE;AACzD,QAAQ,KAAK,EAAE;AACf,YAAY,cAAc,EAAE,sBAAsB;AAClD,SAAS;AACT,KAAK,EAAE,QAAQ,CAAC,CAAC;AACjB;;;;"}